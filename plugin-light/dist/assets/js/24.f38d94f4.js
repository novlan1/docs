(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{336:function(t,s,a){"use strict";a.r(s);var n=a(27),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"plugin-light"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugin-light"}},[t._v("#")]),t._v(" Plugin Light")]),t._v(" "),a("p",[a("code",[t._v("Plugin Light")]),t._v(" 是一个丰富、易用的工具集。")]),t._v(" "),a("p",[t._v("包含一些 "),a("code",[t._v("Webpack")]),t._v(" 相关插件（25+），比如")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/zh/webpack-plugin-analyze-deps/"}},[t._v("依赖分析 (webpack-plugin-analyze-deps)")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/zh/webpack-plugin-dispatch-script/"}},[t._v("脚本分发 (webpack-plugin-dispatch-script)")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/zh/webpack-plugin-dispatch-vue/"}},[t._v("组件分发 (webpack-plugin-dispatch-vue)")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/zh/webpack-plugin-fix-npm-package/"}},[t._v("三方库打包修复 (webpack-plugin-fix-npm-package)")])],1),t._v(" "),a("li",[t._v("...")])]),t._v(" "),a("p",[t._v("一些 "),a("code",[t._v("Webpack Loader")]),t._v("（20+）")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/zh/webpack-loader-ifdef/"}},[t._v("条件编译 (webpack-loader-ifdef)")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/zh/webpack-loader-insert-global-comp/"}},[t._v("插入全局组件 (webpack-loader-insert-global-comp)")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/zh/webpack-loader-replace-library/"}},[t._v("三方库转换 (webpack-loader-replace-library)")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/zh/webpack-loader-v-lazy/"}},[t._v("转换 "),a("code",[t._v("v-lazy")]),t._v(" (webpack-loader-v-lazy)")])],1),t._v(" "),a("li",[t._v("...")])]),t._v(" "),a("p",[t._v("一些 "),a("code",[t._v("Vite Plugin")]),t._v("（28+）")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/zh/vite-plugin-cross-game-style/"}},[t._v("样式关键词编译 (vite-plugin-cross-game-style)")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/zh/vite-plugin-cross-platform/"}},[t._v("跨平台关键词编译 (vite-plugin-cross-platform)")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/zh/vite-plugin-ifdef/"}},[t._v("条件编译 (vite-plugin-ifdef)")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/zh/vite-plugin-gen-version/"}},[t._v("版本输出 (vite-plugin-gen-version)")])],1),t._v(" "),a("li",[t._v("...")])]),t._v(" "),a("p",[t._v("一些项目基础配置")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/zh/project-config-vue/"}},[t._v("非 uni-app Vue2 项目配置 (project-config-vue)")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/zh/project-config-vite/"}},[t._v("非 uni-app Vue3 项目配置 (project-config-vite)")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/zh/project-config-uni-vue/"}},[t._v("uni-app Vue2 项目配置 (project-config-uni-vue)")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/zh/project-config-uni-vite/"}},[t._v("uni-app Vue3 项目配置 (project-config-uni-vite)")])],1)]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("命名")]),t._v(" "),a("th",[t._v("数量")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("项目配置")]),t._v(" "),a("td",[a("code",[t._v("project-config-*")])]),t._v(" "),a("td",[t._v("4")])]),t._v(" "),a("tr",[a("td",[t._v("底层依赖")]),t._v(" "),a("td",[a("code",[t._v("plugin-light-*")]),t._v(", "),a("code",[t._v("import-meta-resolve")]),t._v(", "),a("br"),a("code",[t._v("uni-read-pages-vite")])]),t._v(" "),a("td",[t._v("5")])]),t._v(" "),a("tr",[a("td",[t._v("运行时工具")]),t._v(" "),a("td",[a("code",[t._v("ebus-light")]),t._v(", "),a("code",[t._v("share-light")]),t._v(", "),a("code",[t._v("vconsole-helper")])]),t._v(" "),a("td",[t._v("3")])]),t._v(" "),a("tr",[a("td",[t._v("脚手架")]),t._v(" "),a("td",[a("code",[t._v("net-cli")])]),t._v(" "),a("td",[t._v("1")])]),t._v(" "),a("tr",[a("td",[t._v("ESLint 共享配置")]),t._v(" "),a("td",[a("code",[t._v("eslint-config-*")])]),t._v(" "),a("td",[t._v("2")])]),t._v(" "),a("tr",[a("td",[t._v("ESLint 插件")]),t._v(" "),a("td",[a("code",[t._v("eslint-plugin-*")])]),t._v(" "),a("td",[t._v("1")])]),t._v(" "),a("tr",[a("td",[t._v("Stylelint 共享配置")]),t._v(" "),a("td",[a("code",[t._v("style-config-*")])]),t._v(" "),a("td",[t._v("1")])]),t._v(" "),a("tr",[a("td",[t._v("Vite 插件")]),t._v(" "),a("td",[a("code",[t._v("vite-plugin-*")])]),t._v(" "),a("td",[t._v("28")])]),t._v(" "),a("tr",[a("td",[t._v("Webpack 插件")]),t._v(" "),a("td",[a("code",[t._v("webpack-plugin-*")])]),t._v(" "),a("td",[t._v("25")])]),t._v(" "),a("tr",[a("td",[t._v("Webpack Loader")]),t._v(" "),a("td",[a("code",[t._v("webpack-loader-*")])]),t._v(" "),a("td",[t._v("20")])]),t._v(" "),a("tr",[a("td",[t._v("Postcss 插件")]),t._v(" "),a("td",[a("code",[t._v("postcss-plugin-*")])]),t._v(" "),a("td",[t._v("2")])])])]),t._v(" "),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("p",[t._v("每个包名称不同，下面是一个示例：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-D")]),t._v(" @plugin-light/project-config-vite\n")])])]),a("h3",{attrs:{id:"插件使用示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插件使用示例"}},[t._v("#")]),t._v(" 插件使用示例")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vue.config.js")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" DispatchScriptPlugin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@plugin-light/webpack-plugin-dispatch-vue'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" plugins "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'production'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// js分发")]),t._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DispatchScriptPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("configureWebpack")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    plugins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("code",[t._v("Webpack Plugin")]),t._v("、"),a("code",[t._v("Vite Plugin")]),t._v("、"),a("code",[t._v("Project Config")]),t._v(" 均可以采用这种引入方式。")]),t._v(" "),a("h3",{attrs:{id:"loader-使用示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loader-使用示例"}},[t._v("#")]),t._v(" Loader 使用示例")]),t._v(" "),a("p",[t._v("每个 "),a("code",[t._v("Webpack Loader")]),t._v(" 都会导出 "),a("code",[t._v("LOADER")]),t._v(" 和 "),a("code",[t._v("LOADER_PROD")]),t._v(" 两个变量，分别对应 "),a("code",[t._v("loader.js")]),t._v("、"),a("code",[t._v("loader.prod.js")]),t._v(" 的文件路径。")]),t._v(" "),a("p",[t._v("业务可以像下面这样使用：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vue.config.js")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("LOADER")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ifdef "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@plugin-light/webpack-loader-ifdef'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("export "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chainWebpack")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ifdef-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据项目实际配置文件类型")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("press-ui.*(\\.vue|\\.ts|\\.js|\\.css|\\.scss)$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不要配成下面这样，会卡住")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .test(/\\.vue|\\.ts|\\.js|\\.css|\\.scss$/) ")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ifdef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ifdef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("context")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("H5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'css'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"迁移至-monorepo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#迁移至-monorepo"}},[t._v("#")]),t._v(" 迁移至 "),a("code",[t._v("monorepo")])]),t._v(" "),a("ol",[a("li",[a("p",[a("code",[t._v("plugin-light")]),t._v(" 不再维护，后续只更新 "),a("code",[t._v("monorepo")]),t._v(" 包。")])]),t._v(" "),a("li",[a("p",[t._v("如需使用 "),a("code",[t._v("light-cli publish")]),t._v(" 命令，请安装 "),a("RouterLink",{attrs:{to:"/zh/webpack-loader-publish/"}},[t._v("webpack-loader-publish")]),t._v("。")],1)]),t._v(" "),a("li",[a("p",[a("code",[t._v("sync-repo")]),t._v(" 功能已经废弃。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("stylelint-plugin/no-useless-css")]),t._v(" 插件已经废弃。")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);