import{_ as s,H as n,E as e,aw as l}from"./chunks/framework.BXXGagc_.js";const h=JSON.parse('{"title":"@rollup/rollup-linux-x64-gnu 依赖问题","description":"","frontmatter":{},"headers":[],"relativePath":"work/58.rollup-linux-x64-gnu-error.md","filePath":"work/58.rollup-linux-x64-gnu-error.md","lastUpdated":1764044440000}'),o={name:"work/58.rollup-linux-x64-gnu-error.md"};function p(i,a,t,r,d,u){return e(),n("div",null,a[0]||(a[0]=[l(`<div class="info custom-block"><p class="custom-block-title">作者</p><p>novlan1</p><p>2025.8.21</p></div><h1 id="rollup-rollup-linux-x64-gnu-依赖问题" tabindex="-1">@rollup/rollup-linux-x64-gnu 依赖问题 <a class="header-anchor" href="#rollup-rollup-linux-x64-gnu-依赖问题" aria-label="Permalink to &quot;@rollup/rollup-linux-x64-gnu 依赖问题&quot;">​</a></h1><p><a href="https://devops.aow.com/console/pipeline/tip-h5/p-1a9206fb5496417c9113b89e3b768350/detail/b-626aa74f8e614405bbaeb874b9e530ff/executeDetail" target="_blank" rel="noreferrer">流水线构建</a>，如果<a href="https://devops.aow.com/console/pipeline/tip-h5/p-7347226bfd8d4c1699a8fcf92990ca87/detail/b-aca3b1d7e5d242d497e46dd9500346a4/executeDetail" target="_blank" rel="noreferrer">报错</a>如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Error: Cannot find module @rollup/rollup-linux-x64-gnu. npm has a bug related to optional dependencies (https://github.com/npm/cli/issues/4828). Please try \`npm i\` again after removing both package-lock.json and node_modules directory.</span></span>
<span class="line"><span>    at requireWithFriendlyError (/data/landun/workspace/node_modules/.pnpm/rollup@4.47.0/node_modules/rollup/dist/native.js:64:9)</span></span>
<span class="line"><span>    at Object.&lt;anonymous&gt; (/data/landun/workspace/node_modules/.pnpm/rollup@4.47.0/node_modules/rollup/dist/native.js:73:76)</span></span>
<span class="line"><span>    ... 2 lines matching cause stack trace ...</span></span>
<span class="line"><span>    at Module.load (node:internal/modules/cjs/loader:1288:32)</span></span>
<span class="line"><span>    at Module._load (node:internal/modules/cjs/loader:1104:12)</span></span>
<span class="line"><span>    at cjsLoader (node:internal/modules/esm/translators:346:17)</span></span>
<span class="line"><span>    at ModuleWrap.&lt;anonymous&gt; (node:internal/modules/esm/translators:286:7)</span></span>
<span class="line"><span>    at ModuleJob.run (node:internal/modules/esm/module_job:234:25)</span></span>
<span class="line"><span>    at async ModuleLoader.import (node:internal/modules/esm/loader:473:24) {</span></span>
<span class="line"><span>  [cause]: Error: /lib64/libm.so.6: version \`GLIBC_2.29&#39; not found (required by /data/landun/workspace/node_modules/.pnpm/@rollup+rollup-linux-x64-gnu@4.47.0/node_modules/@rollup/rollup-linux-x64-gnu/rollup.linux-x64-gnu.node)</span></span></code></pre></div><img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2025/8/own_mike_KZ8dC7RJJEE5dFyN.png" width="600"><p>可以参考这个 <a href="https://github.com/vitejs/vite/discussions/15532" target="_blank" rel="noreferrer">issue</a>，在 <code>package.json</code> 中添加下面代码解决。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pnpm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;overrides&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;rollup&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;npm:@rollup/wasm-node&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,7)]))}const m=s(o,[["render",p]]);export{h as __pageData,m as default};
