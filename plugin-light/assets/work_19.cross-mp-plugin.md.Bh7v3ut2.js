import{_ as a,H as i,E as p,aw as e}from"./chunks/framework.BXXGagc_.js";const k=JSON.parse('{"title":"跨端小程序插件","description":"","frontmatter":{},"headers":[],"relativePath":"work/19.cross-mp-plugin.md","filePath":"work/19.cross-mp-plugin.md","lastUpdated":1764044440000}'),n={name:"work/19.cross-mp-plugin.md"};function t(l,s,o,c,r,d){return p(),i("div",null,s[0]||(s[0]=[e(`<div class="info custom-block"><p class="custom-block-title">作者</p><p>novlan1</p><p>2024.08.07</p></div><h1 id="跨端小程序插件" tabindex="-1">跨端小程序插件 <a class="header-anchor" href="#跨端小程序插件" aria-label="Permalink to &quot;跨端小程序插件&quot;">​</a></h1><p>复用了之前的跨端模板，进行了一系列适配，达到了一套代码，多端运行。多端包括H5、微信小程序、QQ小程序、微信小程序插件等。</p><p>具体使用方法如下：</p><p>在环境变量 <code>.env.local</code> 中新增 <code>VUE_APP_MP_PLUGIN = pluginRoot</code>。<code>pluginRoot</code> 会被当作插件目录名称。完整的配置示例如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>UNI_INPUT_DIR = &#39;./src/project/mp-plugin&#39;</span></span>
<span class="line"><span>VUE_APP_DIR = project/mp-plugin</span></span>
<span class="line"><span>VUE_APP_MP_PLUGIN = pluginRoot</span></span></code></pre></div><p>启动命令如下：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 开发</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev:mp-plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 发布</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build:mp-plugin</span></span></code></pre></div><p>然后在小程序开发者工具打开 <code>dist/dev/mp-weixin</code> 或者 <code>dist/build/mp-weixin</code> 进行调试、预览、上传等。</p><p>原理介绍： <a href="https://km.aow.com/articles/show/610592" target="_blank" rel="noreferrer">https://km.aow.com/articles/show/610592</a></p><p>示例工程：<a href="https://git.aow.com/pmd-mobile/test/mp-plugin" target="_blank" rel="noreferrer">https://git.aow.com/pmd-mobile/test/mp-plugin</a></p>`,11)]))}const g=a(n,[["render",t]]);export{k as __pageData,g as default};
