import{_ as a,H as i,E as e,aj as l}from"./chunks/framework.CE5Mb3x2.js";const r=JSON.parse('{"title":"PUBGM 中 PixUI 项目登录态","description":"","frontmatter":{},"headers":[],"relativePath":"work/102.pixui-pubgm-login.md","filePath":"work/102.pixui-pubgm-login.md","lastUpdated":1765646621000}'),t={name:"work/102.pixui-pubgm-login.md"};function n(p,s,o,c,d,h){return e(),i("div",null,s[0]||(s[0]=[l(`<div class="info custom-block"><p class="custom-block-title">作者</p><p>novlan1</p><p>2025.11.20</p></div><h1 id="pubgm-中-pixui-项目登录态" tabindex="-1">PUBGM 中 PixUI 项目登录态 <a class="header-anchor" href="#pubgm-中-pixui-项目登录态" aria-label="Permalink to &quot;PUBGM 中 PixUI 项目登录态&quot;">​</a></h1><h2 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-label="Permalink to &quot;参数&quot;">​</a></h2><p>使用的是 iTOP 登录，请求 <code>url</code> 中带 <code>sTicket=xxx&amp;serviceType=ITOP</code>，有效时即认为有登录态。</p><blockquote><p>其他游戏登录态参数为 <code>appid=xxx&amp;openid=xxx&amp;access_token=xxx&amp;acctype=xxx</code></p></blockquote><p><code>sTicket</code> 可以从 <code>GameletAPI.getUserData()</code> 中获取。开发时复制日志中 <code>sTicket</code> 中到 <code>.env.local</code> 环境变量中。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .env.local</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MOCK_LOGIN_PARAMS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> serviceType=ITOP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&amp;sTicket</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">xxx</span></span></code></pre></div><p>注，由于历史原因，部分接口登录态参数可能从 <code>.env.local.js</code> 或 <code>.env.ts</code> 文件中读取，所以最稳妥的做法是，给这三个文件都加上相同的登录态。另外，只有 <code>.env.local</code> 是环境变量模式 <code>a=b</code>，其他都是 <code>export {}</code>。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// .env.local.js</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// .env.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MOCK_LOGIN_PARAMS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;serviceType=ITOP&amp;sTicket=xxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  MOCK_LOGIN_PARAMS</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="日志" tabindex="-1">日志 <a class="header-anchor" href="#日志" aria-label="Permalink to &quot;日志&quot;">​</a></h2><p>日志查看方式：</p><ol><li>伽利略，搜 <code>HOME_USER_INFO</code></li><li>PixUI 客户端日志，搜 <code>[HOME_USER_INFO]</code></li></ol><p>鲲鹏同事如果两个平台都没权限的话，找其他人要一个有效的 <code>sTicket</code>。</p><h2 id="小结" tabindex="-1">小结 <a class="header-anchor" href="#小结" aria-label="Permalink to &quot;小结&quot;">​</a></h2><p>开发中登录态获取：</p><ol><li>查日志，拿到有效的 <code>sTicket</code></li><li>复制到 <code>.env.local</code> 环境变量中</li></ol>`,16)]))}const g=a(t,[["render",n]]);export{r as __pageData,g as default};
