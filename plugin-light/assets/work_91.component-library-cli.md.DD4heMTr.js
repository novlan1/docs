import{_ as r,R as t,H as d,E as e,aj as i,D as s,G as o,K as c,k as n,ak as p}from"./chunks/framework.CE5Mb3x2.js";const T=JSON.parse('{"title":"组件库脚手架","description":"","frontmatter":{},"headers":[],"relativePath":"work/91.component-library-cli.md","filePath":"work/91.component-library-cli.md","lastUpdated":1766627904000}'),m={name:"work/91.component-library-cli.md"};function u(_,l,h,P,b,g){const a=t("Mermaid");return e(),d("div",null,[l[1]||(l[1]=i('<div class="info custom-block"><p class="custom-block-title">作者</p><p>novlan1</p><p>2025.9.30</p></div><h1 id="组件库脚手架" tabindex="-1">组件库脚手架 <a class="header-anchor" href="#组件库脚手架" aria-label="Permalink to &quot;组件库脚手架&quot;">​</a></h1><h2 id="新组件" tabindex="-1">新组件 <a class="header-anchor" href="#新组件" aria-label="Permalink to &quot;新组件&quot;">​</a></h2><p>组件库脚手架至少包含：</p><ol><li>一键创建组件</li><li>配置驱动，一键根据配置生成内容</li></ol><p>生成内容包括：</p><ol><li>组件</li><li>示例</li><li>文档</li></ol><p>更具体点</p><ol><li>组件内容</li><li>组件 <code>index.ts</code></li><li>组件 <code>installer</code> （部分组件库包含）</li><li>示例内容</li><li>示例 <code>router</code></li><li>文档内容</li><li>文档 <code>sidebar</code></li></ol><p>一键生成内容至少有两种模式：</p><ol><li>维护一个或多个方法，传入关键词，根据模板字符串生成所需内容</li><li>维护一个或多个独立的模板文件，替换关键字</li></ol><p>这里如何要生成的内容比较多时，推荐使用后者，更易维护，关注点分离。</p><p>生成后有两种覆盖模式：</p><ol><li>不管之前有没有，直接用新生成的覆盖</li><li>先判断之前有没有，有了就跳过，没有再覆盖</li></ol><p>前者使用场景包含：</p><ol><li>组件 <code>index.ts</code></li><li>组件 <code>installer</code></li><li>示例 <code>router</code></li><li>文档 <code>sidebar</code></li></ol><p>后者使用场景主要是各种具体的内容。</p><h2 id="发布" tabindex="-1">发布 <a class="header-anchor" href="#发布" aria-label="Permalink to &quot;发布&quot;">​</a></h2><p>发布类型</p><ul><li>独立模式 <ul><li>无需单独发布目录，如 T Comm</li><li>需要单独发布目录，如 Press UI、Press Plus、Press Next、Press Pix</li></ul></li><li><code>monorepo</code> 模式，如 Plugin Light、Press Components、PMD NPM</li></ul><p>T Comm 发布流程</p>',21)),(e(),s(p,null,{default:o(()=>[n(a,{id:"mermaid-183",class:"mermaid mermaid-my-class",graph:"graph%20LR%0A%20%20build%5BBuild%5D%20--%3E%20standardVersion%5BStandard%20Version%5D%0A%20%20standardVersion%20--postchangelog--%3E%20changeLog%5BChangeLog%5D%0A%20%20changeLog%20--%3E%20publish%5BNPM%20Publish%5D%0A"})]),fallback:o(()=>l[0]||(l[0]=[c(" Loading... ",-1)])),_:1})),l[2]||(l[2]=i("<p>流水线发布和本地发布的不同：</p><ul><li>多了校验，比如是否审核通过、<code>versionType</code> 是否有效、只有主分支才能发布 patch</li><li>多了 <code>getNewVersion</code>，本地写啥发啥，流水线需要计算（看上面版本升级）</li><li>多了 <code>pnpm i</code></li><li>多了 <code>mkdir log</code></li><li>多了 <code>git push</code></li></ul><blockquote><p>发布非常重要，且多个项目差异性不大，统一放到 <code>plugin-light-cli</code> 管理，不只是工具方法，还包括所有脚本。</p></blockquote>",3))])}const f=r(m,[["render",u]]);export{T as __pageData,f as default};
