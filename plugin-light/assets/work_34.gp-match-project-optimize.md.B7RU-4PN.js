import{_ as i,c as a,b as n,ag as h}from"./chunks/framework.CMjv3OHl.js";const o=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"work/34.gp-match-project-optimize.md","filePath":"work/34.gp-match-project-optimize.md","lastUpdated":1756088317000}'),l={name:"work/34.gp-match-project-optimize.md"};function p(t,s,e,k,d,E){return n(),a("div",null,s[0]||(s[0]=[h(`<h2 id="_1-å¼€å§‹" tabindex="-1">1. å¼€å§‹ <a class="header-anchor" href="#_1-å¼€å§‹" aria-label="Permalink to &quot;1. å¼€å§‹&quot;">â€‹</a></h2><p>ä»‹ç»ä¸‹å¯¹æŸé¡¹ç›®åšçš„ä¼˜åŒ–ï¼ŒåŒ…æ‹¬ä»£ç é‡æ„ã€ä½“éªŒä¼˜åŒ–ç­‰æ–¹é¢ã€‚</p><h2 id="_2-é—®é¢˜" tabindex="-1">2. é—®é¢˜ <a class="header-anchor" href="#_2-é—®é¢˜" aria-label="Permalink to &quot;2. é—®é¢˜&quot;">â€‹</a></h2><p>å¤–è¡Œå†™å‰ç«¯æœ‰å‡ ä¸ªæ˜æ˜¾ç‰¹å¾ï¼š</p><ol><li>å¤§æ®µ<code>dom</code>å…¨å†™åˆ°é¡µé¢ä¸­ï¼Œæ²¡æœ‰ç»„ä»¶åŒ–ã€æ²¡æœ‰æ¨¡å—åŒ–ï¼Œç¼ºç‚¹ï¼šåæœŸéš¾ä»¥ç»´æŠ¤</li><li>ä¸ä¼šä¸€äº›ç›¸å¯¹é«˜çº§ã€ç®€æ´çš„è¯­æ³•ï¼Œæ¯”å¦‚æ•°ç»„çš„<code>map</code>, <code>reduce</code>, <code>filter</code>, åªä¼š <code>for</code> å¾ªç¯ <code>index</code>ã€‚ç¼ºç‚¹ï¼šä»£ç åˆè‡­åˆé•¿ï¼Œéš¾ä»¥ç»´æŠ¤</li><li>ä»£ç è§„èŒƒä¸¥é‡ç¼ºå¤±ï¼Œé£æ ¼æåº¦ä¸ç»Ÿä¸€ã€‚ç¼ºç‚¹ï¼šéš¾ä»¥ç»´æŠ¤ï¼Œåé¢çš„å¼€å‘äººå‘˜è¾¹å†™è¾¹éª‚è¡—</li><li>æ²¡æœ‰æ•°æ®é©±åŠ¨ï¼Œè®¾è®¡ç¨¿æ€ä¹ˆå†™å°±å…¨éƒ¨ç½—åˆ—åˆ°é¡µé¢é‡Œï¼Œå…¸å‹çš„æ˜¯æ•°æ®é¡µå’Œè§„åˆ™ã€‚ç¼ºç‚¹ï¼šéš¾ä»¥ç»´æŠ¤ã€éš¾ä»¥æ‰©å±•ã€éš¾ä»¥å¤ç”¨ã€‚</li></ol><p><strong>å¤–è¡Œè¿˜ä¸æ˜¯â€œæ–°æ‰‹â€ï¼Œæ–°æ‰‹ä¼šæˆé•¿ï¼Œå¤–è¡Œä¸ä¼šæˆé•¿</strong>ã€‚</p><p>ä¹‹å‰çš„é¡¹ç›®å°±æ˜¯ç”±â€œå¤–è¡Œâ€å†™çš„ï¼Œä¸Šé¢çš„é—®é¢˜éƒ½æœ‰ã€‚</p><p>æ­¤å¤–è¿˜æœ‰å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼ŒMR å½¢åŒè™šè®¾ï¼Œâ€œåŒæ„â€æœºå™¨äººï¼Œ<strong>æ¯«æ— æ€æƒ³ï¼Œæ¯«æ— åŸåˆ™ï¼Œæ¯«æ— è§„èŒƒ</strong>ã€‚ä»¿ä½›åœ¨æ¯”è°ç‚¹åŒæ„ç‚¹çš„å¿«ï¼Œè°å°±ğŸ®ğŸºã€‚</p><h2 id="_3-è§£å†³" tabindex="-1">3. è§£å†³ <a class="header-anchor" href="#_3-è§£å†³" aria-label="Permalink to &quot;3. è§£å†³&quot;">â€‹</a></h2><p>ç»„ä»¶æ–¹é¢ï¼Œè§£å†³æ‰‹æ®µå°±æ˜¯æŠ½ç»„ä»¶ã€æé«˜å¤ç”¨ç‡ï¼Œæ•´ç†ä»£ç ã€åˆ é™¤é‡å¤æ ·å¼ç­‰ã€‚</p><h3 id="_3-1-åŸåˆ™" tabindex="-1">3.1. åŸåˆ™ <a class="header-anchor" href="#_3-1-åŸåˆ™" aria-label="Permalink to &quot;3.1. åŸåˆ™&quot;">â€‹</a></h3><ol><li><strong>ä¸¥æ ¼éµå®ˆä»£ç è§„èŒƒ</strong>ï¼Œè¿™æ˜¯é˜²æ­¢é¡¹ç›®è…åŒ–çš„ç¬¬ä¸€æ­¥ã€‚é•¿æœŸæ¥çœ‹ï¼Œä¸€ä¸ªæ²¡æœ‰ä»£ç è§„èŒƒçš„é¡¹ç›®ï¼Œä¸€å®šä¼šå˜æˆ<code>x</code>å±±</li><li><strong>åˆ†å±‚</strong>ï¼Œä¸€ä¸ªé¡¹ç›®èƒ½å¥åº·è·‘å¤šè¿œï¼Œå–å†³äºåˆ†å±‚çš„ç¨‹åº¦ã€‚è¿™ä¸ªé¡¹ç›®è€Œè¨€ï¼Œæ ¸å¿ƒç»„ä»¶ã€æ ¸å¿ƒæµç¨‹ï¼ˆæ‹‰èµ·æ¸¸æˆã€èµ›ç¨‹å¡ç‰‡ï¼‰ä¸€å®šè¦ç‰©ç†éš”ç¦»ï¼Œå…¶ä»–äººæƒ³æ±¡æŸ“ä¹Ÿæ±¡æŸ“ä¸åˆ°</li><li>æ¶ˆé™¤é‡å¤ä»£ç ï¼Œ<strong>èƒ½å¤ç”¨çš„ä¸€å®šè¦å¤ç”¨</strong>ã€‚ä¸€æ–¹é¢å¯ä»¥å‡å°‘ç»´æŠ¤æˆæœ¬ï¼Œåªç»´æŠ¤ä¸€ä»½ï¼Œå¦ä¸€ä¸ªæ–¹é¢åŒ…ä½“ç§¯ä¹Ÿæ¯”è¾ƒå°ï¼Œæ€§èƒ½è¾ƒå¥½ã€‚</li></ol><p>è¿™é‡Œè¦ç‰¹åˆ«æä¸‹ä»£ç è§„èŒƒï¼Œæˆ‘ä¸ªäººæ¯”è¾ƒçœ‹é‡è¿™ä¸ªã€‚ä¸šåŠ¡é¡¹ç›®å¦‚æœæ²¡æœ‰ä»£ç è§„èŒƒï¼Œå¯èƒ½è¿˜ä¼šå› ä¸ºä¸šåŠ¡å­˜åœ¨ä¸å¾—ä¸ç»´æŠ¤ï¼ŒæŠ€æœ¯é¡¹ç›®å¦‚æœæ²¡æœ‰ä»£ç è§„èŒƒï¼Œå°±æ˜¯åœ¨è¢«åºŸå¼ƒçš„è·¯ä¸Šäº†ã€‚</p><p>ç»„ä»¶æ ·å¼ç»†èŠ‚ï¼š</p><ul><li>ä¸åŒä½ç½®çš„ <code>class</code> åç§°ä¸èƒ½é‡å¤ï¼Œé™¤éæ˜¯ç‰¹å®šã€å°‘æ•°çš„çŠ¶æ€è¯ï¼Œè¡¨ç¤ºä½ç½®ã€ç»“æ„çš„ç»ä¸èƒ½é‡å¤</li><li>CSSåº”è¯¥æŒ‰ç…§ä»–ä»¬åœ¨DOMä¸­é¡ºåºï¼Œä»ä¸Šåˆ°ä¸‹å¼€å§‹ä¹¦å†™ï¼Œä¸èƒ½ä¹±åº</li></ul><h3 id="_3-2-å·¥å…·" tabindex="-1">3.2. å·¥å…· <a class="header-anchor" href="#_3-2-å·¥å…·" aria-label="Permalink to &quot;3.2. å·¥å…·&quot;">â€‹</a></h3><p>é’ˆå¯¹å¤§é‡æ— ç”¨æ ·å¼çš„é—®é¢˜ï¼Œåšäº†ä¸€ä¸ªæ’ä»¶ï¼Œåœ¨å°ç¨‹åºä¸‹ï¼Œå¯¹ç»„ä»¶çš„æ¨¡æ¿ï¼ˆ<code>wxml/qml</code>ç­‰ï¼‰ã€æ ·å¼ï¼ˆ<code>wxss/qss</code>ç­‰ï¼‰ã€è„šæœ¬æ–‡ä»¶ï¼ˆ<code>.js</code>ï¼‰å¤§å°è¿›è¡Œåˆ†æã€‚å¯ä»¥å¿«é€Ÿå®šä½å“ªäº›ç»„ä»¶é—®é¢˜æœ€å¤§ã€æœ€äºŸéœ€ä¼˜åŒ–ã€‚</p><p>æ’ä»¶ä¼šè·å–æ¯ä¸ªç»„ä»¶ï¼ˆåŒ…æ‹¬é¡µé¢ï¼‰çš„ä¸Šè¿°ä¸‰ç§äº§ç‰©çš„å¤§å°ï¼Œä»¥åŠæ ·å¼ä¸æ¨¡æ¿çš„ä½“ç§¯æ¯”ä¾‹ã€æ¨¡æ¿ä¸è„šæœ¬çš„ä½“ç§¯æ¯”ä¾‹ï¼Œè¾“å‡ºä¸º <code>json</code> æ–‡ä»¶å’Œ <code>csv</code> æ–‡ä»¶ã€‚</p><p>å¼€å‘è€…å¯ä»¥æ®æ­¤è¿›è¡Œåˆ†æï¼Œä¸€èˆ¬æ¥è¯´ï¼Œ<strong>æ ·å¼æ¨¡æ¿ä½“ç§¯æ¯”ï¼ˆ<code>cssHtmlRatio</code>ï¼‰ç‰¹åˆ«å¤§çš„ç»„ä»¶ï¼ˆåŸºç¡€ç»„ä»¶é™¤å¤–ï¼‰ï¼Œå¾€å¾€å­˜åœ¨å¤§é‡æ— ç”¨æ ·å¼</strong>ã€‚</p><p>å¯åˆ©ç”¨ <code>Excel</code> ä¸­çš„è‡ªå®šä¹‰æ’åºï¼Œå¯¹ <code>cssHtmlRatio</code> è¿›è¡Œé™åºï¼Œè¿›è€Œç¡®å®šä¼˜åŒ–ç›®æ ‡åŠä¼˜å…ˆçº§ã€‚</p><img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2024/12/own_mike_bec1b61c4ac07795da.png" width="600"><h3 id="_3-3-ä¼˜åŒ–æ•ˆæœ" tabindex="-1">3.3. ä¼˜åŒ–æ•ˆæœ <a class="header-anchor" href="#_3-3-ä¼˜åŒ–æ•ˆæœ" aria-label="Permalink to &quot;3.3. ä¼˜åŒ–æ•ˆæœ&quot;">â€‹</a></h3><p>ä»¥ä¸€ä¸ªç»„ä»¶ä¸ºä¾‹ï¼Œä¼˜åŒ–å‰<code>66KB</code>ï¼Œä¼˜åŒ–å<code>5KB</code>ï¼Œå‡å°‘äº†<code>93.8%</code>ã€‚</p><img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2025/1/own_mike_5d9c7612d80b485ded.png" width="500"><img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2025/1/own_mike_9b247e037421016cac.png" width="500"><h2 id="_4-ä½“éªŒä¼˜åŒ–" tabindex="-1">4. ä½“éªŒä¼˜åŒ– <a class="header-anchor" href="#_4-ä½“éªŒä¼˜åŒ–" aria-label="Permalink to &quot;4. ä½“éªŒä¼˜åŒ–&quot;">â€‹</a></h2><p>åœ¨ä»£ç é‡æ„çš„åŸºç¡€äº†åšäº†ä¸€äº›ä½“éªŒä¼˜åŒ–ï¼ŒåŒ…æ‹¬</p><ol><li>æ”¯æŒé»˜è®¤è·¯ç”±ï¼ˆ404é¡µé¢é‡å®šå‘åˆ°é¦–é¡µï¼‰</li><li>è·³è½¬äºŒçº§é¡µé¢æ—¶ï¼Œæºå¸¦å·²æœ‰çš„ä¿¡æ¯å¹¶å±•ç¤ºã€‚ä¸¾ä¾‹ï¼Œä»é¦–é¡µåˆ°ä¸ªäººé¡µé¢è·³è½¬æ—¶ï¼Œä¼šæºå¸¦ç”¨æˆ·åã€å¤´åƒç­‰ï¼Œç„¶åæ¥å£è¿”å›åï¼Œæ˜¾ç¤ºå…¶ä»–ä¿¡æ¯ã€‚ä¸èƒ½æ”¾åˆ° <code>url</code> é‡Œï¼Œå¦åˆ™ <code>url</code> è¿‡é•¿ï¼Œå¤åˆ¶åç”¨æˆ·ä½“éªŒå·®ã€‚å®¹é‡æ§åˆ¶ï¼Œä¸èƒ½è¿‡å¤§ã€‚</li><li>æ ¸å¿ƒé¡µé¢å¢åŠ éª¨æ¶å±</li><li>å¼¹çª—ã€Popupç­‰éƒ½å¢åŠ æ¸å˜åŠ¨ç”»</li><li>é¡µé¢åˆ‡æ¢å¢åŠ åˆ‡æ¢æ•ˆæœï¼Œåé¢ç»†è¯´</li><li>H5åœ¨PCç«¯å±•ç¤ºä¼˜åŒ–ï¼Œåé¢ç»†è¯´</li></ol><h2 id="_5-æ€§èƒ½ä¼˜åŒ–" tabindex="-1">5. æ€§èƒ½ä¼˜åŒ– <a class="header-anchor" href="#_5-æ€§èƒ½ä¼˜åŒ–" aria-label="Permalink to &quot;5. æ€§èƒ½ä¼˜åŒ–&quot;">â€‹</a></h2><p>ä¹Ÿåšäº†ä¸€äº›æ¶‰åŠæ€§èƒ½æ–¹é¢çš„ä¼˜åŒ–ã€‚</p><ol><li>ä½¿ç”¨<code>tim</code>çš„é¡µé¢éƒ½æ”¾åˆ°äº†ä¸€ä¸ªåˆ†åŒ…ä¸­ï¼Œ<code>views/battle-room</code> =&gt; <code>views/match/battle-room</code>, åŸé¡µé¢è¿›è¡Œäº†é‡å®šå‘ï¼Œå¤–éƒ¨æ— æ„ŸçŸ¥ã€‚ä¼˜åŒ–æ•ˆæœï¼šä¸»åŒ…å¤§å°å‡å°‘ï¼Œ<code>1.88MB</code> =&gt; <code>1.22MB</code>ã€‚</li><li><code>h5</code> ä¸‹ <code>tim</code> ä½¿ç”¨å¼‚æ­¥åŠ è½½</li><li><code>h5</code> ä¸‹ <code>vendor</code> æ‹†åˆ†</li><li><code>console</code> å»é™¤</li></ol><h2 id="_6-å¼€å‘ä½“éªŒä¼˜åŒ–" tabindex="-1">6. å¼€å‘ä½“éªŒä¼˜åŒ– <a class="header-anchor" href="#_6-å¼€å‘ä½“éªŒä¼˜åŒ–" aria-label="Permalink to &quot;6. å¼€å‘ä½“éªŒä¼˜åŒ–&quot;">â€‹</a></h2><ol><li>å°† <code>press-gp-dialog</code> çš„ <code>dom</code> å†…åµŒåœ¨ global-component ä¸­ï¼Œè¿™æ ·æ¯ä¸ªé¡µé¢åªéœ€è¦æ³¨å…¥ä¸€ä¸ªå…¨å±€ç»„ä»¶å³å¯ï¼Œå³ <code>global-component</code>ã€‚åŒæ—¶ï¼Œåœ¨ <code>main.ts</code> ä¸­å¢åŠ äº† <code>press-gp-dialog</code> è°ƒç”¨æ—¶çš„é»˜è®¤ <code>selector</code>ï¼Œå³ä» <code>global-component</code> å†…éƒ¨å¯»æ‰¾ã€‚<code>press-toast</code> åŒç†ã€‚å¥½å¤„æ˜¯ï¼Œé™ä½å¼€å‘æˆæœ¬ï¼Œå‡å°‘çŠ¯é”™ã€‚</li><li>æ¯ä¸ªé¡¹ç›®çš„QQå°ç¨‹åºäºŒç»´ç å•ç‹¬ä¸€ä¸ªæ–‡æ¡£</li><li>å»é™¤å¾ªç¯ä¾èµ–ã€å­åŒ…å¼•ç”¨ä¸»åŒ…ç­‰å¼•ç”¨é”™è¯¯é—®é¢˜ï¼Œé¿å…æ½œåœ¨çš„é”™è¯¯ã€‚è¿™é‡Œæ˜¯åšäº†æ’ä»¶å»æå–å¼•ç”¨é”™è¯¯çš„é—®é¢˜ã€‚</li></ol><h2 id="_7-é¡µé¢åˆ‡æ¢åŠ¨ç”»" tabindex="-1">7. é¡µé¢åˆ‡æ¢åŠ¨ç”» <a class="header-anchor" href="#_7-é¡µé¢åˆ‡æ¢åŠ¨ç”»" aria-label="Permalink to &quot;7. é¡µé¢åˆ‡æ¢åŠ¨ç”»&quot;">â€‹</a></h2><p>ä»‹ç»ä¸‹é¡µé¢åˆ‡æ¢åŠ¨ç”»ï¼ˆ<code>Page Animation</code>ï¼‰çš„åŸç†ã€æ•ˆæœã€‚</p><h3 id="_7-1-åŸç†" tabindex="-1">7.1. åŸç† <a class="header-anchor" href="#_7-1-åŸç†" aria-label="Permalink to &quot;7.1. åŸç†&quot;">â€‹</a></h3><p>æ ¸å¿ƒåŸç†æ˜¯å€ŸåŠ©äº† <code>router</code> çš„ <code>beforeEach</code> å’Œ <code>afterEach</code> é’©å­ï¼Œåœ¨è·¯ç”±è·³è½¬å‰åæ”¹å˜é¡¶å±‚ç±»åï¼Œè¿›è€Œå¢åŠ åŠ¨ç”»ã€‚</p><p><code>beforeEach</code> è´Ÿè´£æ·»åŠ  <code>xxx-out</code> ç±»åï¼Œ<code>afterEach</code> è´Ÿè´£æ·»åŠ  <code>xxx-in</code> ç±»åã€‚è¿™ä¸¤é’©å­ä¸­æ˜¯æ‹¿ä¸åˆ°è·¯ç”±æ˜¯å‰è¿›è¿˜æ˜¯åé€€çš„ï¼Œæ‰€ä»¥éœ€è¦ <code>hook</code> è·¯ç”±è·³è½¬æ–¹æ³•ï¼Œè®°å½•è·³è½¬ç±»å‹ã€‚</p><p>ä»¥æœ€å¸¸ç”¨çš„ <code>slide-in-right</code> ä¸¾ä¾‹ï¼Œæœ€æ ¸å¿ƒçš„æ ·å¼æ˜¯ <code>translateX</code>ï¼Œå…¶ä½œç”¨çš„å…ƒç´ æ˜¯ <code>uni-app</code>ï¼Œå®ƒæ˜¯ <code>body &gt; #app</code> çš„ä¸‹ä¸ªå…ƒç´ ã€‚</p><h4 id="_7-1-1-é¡µé¢è·³è½¬" tabindex="-1">7.1.1. é¡µé¢è·³è½¬ <a class="header-anchor" href="#_7-1-1-é¡µé¢è·³è½¬" aria-label="Permalink to &quot;7.1.1. é¡µé¢è·³è½¬&quot;">â€‹</a></h4><p>å‰è¿›æ—¶ï¼ŒåŠ¨ç”»ä»å³å¾€å·¦ã€‚</p><div class="language-scss vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scss</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.page-slide-in-right--out</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  uni-page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å‰è¿›ï¼Œ1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    animation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: page</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">left</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">out </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">--redirect-duration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ms</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ease</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.page-slide-in-right--in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  uni-page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å‰è¿›ï¼Œ2</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    animation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: page</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">right</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">in </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">--redirect-duration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ms</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ease</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>left-out</code> å†…å®¹ï¼š</p><div class="language-scss vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scss</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@keyframes</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> page-left-out</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  0%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    opacity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">translateX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  100%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    opacity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">translateX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-90</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>right-in</code> å†…å®¹ï¼š</p><div class="language-scss vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scss</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@keyframes</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> page-right-in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  0%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    opacity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">translateX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">90</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  100%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    opacity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">translateX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2024/12/own_mike_716cf8a6eab5168bb9.png" width="300"><p>é¡µé¢è¡¨ç°ï¼š</p><img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2024/12/own_mike_da779c6987d6ce72fa.gif" width="260"><h4 id="_7-1-2-é¡µé¢è¿”å›" tabindex="-1">7.1.2. é¡µé¢è¿”å› <a class="header-anchor" href="#_7-1-2-é¡µé¢è¿”å›" aria-label="Permalink to &quot;7.1.2. é¡µé¢è¿”å›&quot;">â€‹</a></h4><p>è¿”å›æ—¶ï¼ŒåŠ¨ç”»ä»å·¦å¾€å³ã€‚</p><div class="language-scss vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scss</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.page-slide-in-right--out</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.back</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;"> uni-page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è¿”å›ï¼Œ1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    animation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: page</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">right</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">out </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">--redirect-duration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ms</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ease</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.page-slide-in-right--in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.back</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;"> uni-page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è¿”å›ï¼Œ2</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    animation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: page</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">left</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">in </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">--redirect-duration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ms</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ease</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>right-out</code> å†…å®¹ï¼š</p><div class="language-scss vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scss</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@keyframes</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> page-right-out</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  0%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    opacity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">translateX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  100%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    opacity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">translateX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">90</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>left-in</code> å†…å®¹ï¼š</p><div class="language-scss vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scss</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@keyframes</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> page-left-in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  0%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    opacity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">translateX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-90</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  100%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    opacity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">translateX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2024/12/own_mike_d1e5f789f8ce463b57.png" width="300"><p>é¡µé¢è¡¨ç°ï¼š</p><img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2024/12/own_mike_7f289563c77d92f439.gif" width="260"><h3 id="_7-2-æ•ˆæœ" tabindex="-1">7.2. æ•ˆæœ <a class="header-anchor" href="#_7-2-æ•ˆæœ" aria-label="Permalink to &quot;7.2. æ•ˆæœ&quot;">â€‹</a></h3><p>å·¦è¾¹æ˜¯ä½¿ç”¨ä¹‹å‰ï¼Œå³è¾¹æ˜¯ä½¿ç”¨ä¹‹åã€‚ä½¿ç”¨åæœ‰åˆ‡æ¢åŠ¨ç”»ï¼Œæµç•…æ„Ÿæœ‰æå‡ã€‚</p><img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2024/12/own_mike_2f9613b04c19a3c50f.gif" width="200"><img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2024/12/own_mike_1726c8e1bea10c9ff3.gif" width="200"><h3 id="_7-3-æ¥å…¥æ–¹å¼" tabindex="-1">7.3. æ¥å…¥æ–¹å¼ <a class="header-anchor" href="#_7-3-æ¥å…¥æ–¹å¼" aria-label="Permalink to &quot;7.3. æ¥å…¥æ–¹å¼&quot;">â€‹</a></h3><p>åœ¨ <code>App.vue</code> ä¸­ <code>onLaunch</code> æ–¹æ³•ä¸­å¢åŠ æ‹¦æˆªã€‚</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// #ifdef H5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { pageAnimation } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;press-plus/common/page-animation/index&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { hookVueRouter } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;press-plus/common/page-animation/hook-vue-router&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// #endif</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onLaunch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // #ifdef H5</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  pageAnimation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ router: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.$router });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  hookVueRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.$router, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    log: process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;development&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // #endif</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="_8-h5åœ¨pcç«¯å±•ç¤ºä¼˜åŒ–" tabindex="-1">8. H5åœ¨PCç«¯å±•ç¤ºä¼˜åŒ– <a class="header-anchor" href="#_8-h5åœ¨pcç«¯å±•ç¤ºä¼˜åŒ–" aria-label="Permalink to &quot;8. H5åœ¨PCç«¯å±•ç¤ºä¼˜åŒ–&quot;">â€‹</a></h2><p>ä»‹ç»ä¸‹ H5 é¡¹ç›®åœ¨ PC ç«¯æ‰“å¼€çš„ä¼˜åŒ–ã€‚èƒŒæ™¯æ˜¯ H5 ç”¨ç”µè„‘æµè§ˆå™¨æ‰“å¼€æ—¶ï¼Œä¼šå˜å½¢ï¼Œå®½é«˜éƒ½ä¼šè¢«æ‹‰é•¿ã€‚</p><img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2024/12/own_mike_17d782ed948ba4b524.png" width="500"><h3 id="_8-1-åŸç†" tabindex="-1">8.1. åŸç† <a class="header-anchor" href="#_8-1-åŸç†" aria-label="Permalink to &quot;8.1. åŸç†&quot;">â€‹</a></h3><p>ä¼˜åŒ–æ€è·¯æ˜¯æ¨¡æ‹Ÿæµè§ˆå™¨çš„æ‰‹æœºè°ƒè¯•ï¼Œå…·ä½“å°±æ˜¯åœ¨ PC ç«¯æ‰“å¼€ä¸€ä¸ª <code>iframe</code>ï¼Œå…¶å®½é«˜æ˜¯æ‰‹æœºçš„å°ºå¯¸ï¼Œå…¶è·¯å¾„æ˜¯æƒ³è¦æ‰“å¼€çš„é¡µé¢è·¯å¾„ã€‚</p><p>å½“å‘ç°æ˜¯åœ¨PCæ‰“å¼€ï¼Œä¸”ä¸åœ¨ç™½åå•å†…æ—¶ï¼Œå°±è·³è½¬åˆ° <code>/web-container?path=xxx</code> çš„è·¯ç”±ï¼Œ<code>xxx</code> å°±æ˜¯ä¹‹å‰çš„ <code>window.location.href</code>ã€‚</p><p><code>web-container</code> é¡µé¢å†…æ˜¯ä¸€ä¸ª <code>iframe</code>ï¼Œä¼šæ‹¿åˆ°é¡µé¢çš„ <code>query.path</code>ï¼Œå°†å…¶ä½œä¸º <code>iframe</code> çš„ <code>src</code>ã€‚</p><p>å½“å­åº”ç”¨é¡µé¢è·³è½¬æ—¶ï¼Œè°ƒç”¨ <code>window.parent.history.replaceState</code>ï¼Œæ›´æ–° <code>query.path</code>ï¼Œè¿™æ ·åˆ·æ–°é¡µé¢ï¼Œä¸ä¼šè·³è½¬åˆ°å…¶ä»–åœ°æ–¹ã€‚</p><p>å½“å‘ç°æ˜¯æ‰‹æœºæµè§ˆå™¨æ‰“å¼€æ—¶ï¼Œä¸”å½“å‰æ˜¯ <code>web-container</code> æ¨¡å¼ï¼Œå°± <code>router.replace</code> åˆ°çœŸæ­£çš„é¡µé¢ï¼Œå³å»æ‰å­åº”ç”¨ã€‚</p><img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2024/12/own_mike_6908e2b6ef5ea73567.png" width="500"><h3 id="_8-2-æ•ˆæœ" tabindex="-1">8.2. æ•ˆæœ <a class="header-anchor" href="#_8-2-æ•ˆæœ" aria-label="Permalink to &quot;8.2. æ•ˆæœ&quot;">â€‹</a></h3><img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2024/12/own_mike_4d49d0193a52d02293.png" width="500"><h3 id="_8-3-æ¥å…¥æ–¹å¼" tabindex="-1">8.3. æ¥å…¥æ–¹å¼ <a class="header-anchor" href="#_8-3-æ¥å…¥æ–¹å¼" aria-label="Permalink to &quot;8.3. æ¥å…¥æ–¹å¼&quot;">â€‹</a></h3><p>å…ˆæ ¹æ®è‡ªèº«ä¸šåŠ¡ï¼Œè¿›è¡ŒäºŒæ¬¡å°è£…ï¼Œå¦‚ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { redirectToWebContainerInPC } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;press-plus/common/web-container/index&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> pathWhiteList</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;web-container&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;third-plat-login&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ai-room-pc&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> disableWebContainerList</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ai-room-pc&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> corePath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/pvpesport.next.user&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> redirectToWebContainer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> redirectToWebContainerInPC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    pathWhiteList,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    disableWebContainerList,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    corePath,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    router: options?.router,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    log: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    tag: options?.tag,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>åœ¨ <code>App.vue</code> ä¸­ <code>onLaunch</code> æ–¹æ³•ä¸­å¢åŠ ä»¥ä¸‹æ–¹æ³•ã€‚</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onLaunch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // #ifdef H5</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  redirectToWebContainer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ router: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.$router, tag: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;onLaunch&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;resize&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    redirectToWebContainer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ router: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.$router, tag: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;resize&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.$router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">afterEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    redirectToWebContainer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ router: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.$router, tag: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;afterEach&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // #endif</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="_9-æ„Ÿæƒ³" tabindex="-1">9. æ„Ÿæƒ³ <a class="header-anchor" href="#_9-æ„Ÿæƒ³" aria-label="Permalink to &quot;9. æ„Ÿæƒ³&quot;">â€‹</a></h2><p>äº‹åæ”¹ä»£ç æˆæœ¬é¢‡å¤š</p><ol><li>ä¸æµ‹ï¼Œæˆ–ä¸å…¨é‡æµ‹ï¼Œå­˜åœ¨å½±å“çº¿ä¸Šçš„é£é™©ï¼Œæµ‹ï¼Œåˆ™æˆæœ¬è¿‡é«˜</li><li>éš¾ä»¥æ¨¡æ‹Ÿæ‰€æœ‰ç¯å¢ƒï¼Œè‡ªæµ‹ã€è°ƒè¯•å›°éš¾</li><li>éœ€äº†è§£ä¹‹å‰çš„éœ€æ±‚ã€ä¹‹å‰çš„ä»£ç ï¼Œå­˜åœ¨ä¸Šä¸‹æ–‡åˆ‡æ¢æˆæœ¬</li></ol>`,86)]))}const c=i(l,[["render",p]]);export{o as __pageData,c as default};
