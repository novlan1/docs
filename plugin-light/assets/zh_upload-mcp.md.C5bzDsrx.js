import{_ as i,H as l,E as s,aj as t}from"./chunks/framework.CE5Mb3x2.js";const u=JSON.parse('{"title":"文件上传","description":"","frontmatter":{},"headers":[],"relativePath":"zh/upload-mcp.md","filePath":"zh/upload-mcp.md","lastUpdated":1766627904000}'),e={name:"zh/upload-mcp.md"};function n(o,a,r,h,d,p){return s(),l("div",null,a[0]||(a[0]=[t(`<h1 id="文件上传" tabindex="-1">文件上传 <a class="header-anchor" href="#文件上传" aria-label="Permalink to &quot;文件上传&quot;">​</a></h1><p><code>upload-mcp</code> - COS文件上传工具</p><h2 id="功能特性" tabindex="-1">功能特性 <a class="header-anchor" href="#功能特性" aria-label="Permalink to &quot;功能特性&quot;">​</a></h2><h3 id="基础功能" tabindex="-1">基础功能 <a class="header-anchor" href="#基础功能" aria-label="Permalink to &quot;基础功能&quot;">​</a></h3><ul><li>✅ <strong>单文件上传</strong>: 支持将单个文件上传到腾讯云COS</li><li>✅ <strong>图片文件特殊处理</strong>: 自动识别图片文件并提供图片相关功能</li><li>✅ <strong>文件类型验证</strong>: 支持常见图片、文档、压缩包格式</li><li>✅ <strong>自定义目标路径</strong>: 支持指定COS存储路径</li><li>✅ <strong>自动路径生成</strong>: 如不指定路径，自动生成带时间戳的路径</li></ul><h3 id="分块上传功能" tabindex="-1">分块上传功能 <a class="header-anchor" href="#分块上传功能" aria-label="Permalink to &quot;分块上传功能&quot;">​</a></h3><ul><li>🚀 <strong>智能分块上传</strong>: 自动检测大文件并启用分块上传（&gt;5MB）</li><li>💪 <strong>断点续传</strong>: 支持失败重试，单个块失败不影响其他块</li><li>🔄 <strong>并行上传</strong>: 多个文件块可以同时上传（如果支持）</li><li>📊 <strong>进度监控</strong>: 实时显示上传进度和状态</li><li>⚡ <strong>稳定性强</strong>: 特别适合大文件和网络不稳定环境</li></ul><h3 id="文件大小限制" tabindex="-1">文件大小限制 <a class="header-anchor" href="#文件大小限制" aria-label="Permalink to &quot;文件大小限制&quot;">​</a></h3><ul><li><strong>普通上传</strong>: 最大支持 10MB 的文件</li><li><strong>分块上传</strong>: 理论上无限制（实际受COS服务限制）</li><li><strong>智能切换</strong>: 文件超过 5MB 自动启用分块上传</li></ul><h2 id="支持的文件类型" tabindex="-1">支持的文件类型 <a class="header-anchor" href="#支持的文件类型" aria-label="Permalink to &quot;支持的文件类型&quot;">​</a></h2><h3 id="图片文件" tabindex="-1">图片文件 <a class="header-anchor" href="#图片文件" aria-label="Permalink to &quot;图片文件&quot;">​</a></h3><ul><li>JPEG (.jpg, .jpeg)</li><li>PNG (.png)</li><li>GIF (.gif)</li><li>BMP (.bmp)</li><li>WebP (.webp)</li></ul><h3 id="文档文件" tabindex="-1">文档文件 <a class="header-anchor" href="#文档文件" aria-label="Permalink to &quot;文档文件&quot;">​</a></h3><ul><li>PDF (.pdf)</li><li>Word (.doc, .docx)</li><li>Excel (.xls, .xlsx)</li><li>文本文件 (.txt)</li></ul><h3 id="压缩文件" tabindex="-1">压缩文件 <a class="header-anchor" href="#压缩文件" aria-label="Permalink to &quot;压缩文件&quot;">​</a></h3><ul><li>ZIP (.zip)</li><li>RAR (.rar)</li></ul><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upload-mcp</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># or</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upload-mcp</span></span></code></pre></div><h2 id="mcp工具调用规则" tabindex="-1">MCP工具调用规则 <a class="header-anchor" href="#mcp工具调用规则" aria-label="Permalink to &quot;MCP工具调用规则&quot;">​</a></h2><h3 id="单文件上传工具-upload-file" tabindex="-1">单文件上传工具 (<code>upload-file</code>) <a class="header-anchor" href="#单文件上传工具-upload-file" aria-label="Permalink to &quot;单文件上传工具 (\`upload-file\`)&quot;">​</a></h3><p><strong>🔴【强制调用规则】</strong>：</p><ul><li>当用户需要上传单个文件到COS时，AI助手必须立即调用此MCP工具</li><li>支持传入自定义目标路径，如不提供则自动生成</li><li>返回COS永久访问地址</li></ul><p><strong>参数说明：</strong></p><ul><li><code>filePath</code> (必填): 本地文件路径（绝对路径或相对路径）</li><li><code>targetPath</code> (可选): COS目标路径</li></ul><h2 id="开发" tabindex="-1">开发 <a class="header-anchor" href="#开发" aria-label="Permalink to &quot;开发&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 构建</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --filter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;upload-mcp&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div><h2 id="许可证" tabindex="-1">许可证 <a class="header-anchor" href="#许可证" aria-label="Permalink to &quot;许可证&quot;">​</a></h2><p>MIT</p>`,28)]))}const g=i(e,[["render",n]]);export{u as __pageData,g as default};
