(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-press-schedule-list-schedule-list"],{1437:function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.GROUP_TYPE_LIST=t.DEFAULT_TEAM_NUMBER=void 0,Object.defineProperty(t,"GROUP_TYPE_NAME_MAP",{enumerable:!0,get:function(){return r.GROUP_TYPE_NAME_MAP}}),t.TEAM_MAP=t.TEAM_LIST=t.STATUS_TITLE_MAP=t.STATUS_SCHE_MAP=t.STATUS_MAP=t.STATUS_LIST=t.MOCK_DATA_META=void 0,n("8e97"),n("bb80"),n("0fe4"),n("51e0"),n("6f81"),n("339c"),n("7338"),n("a21a"),n("9821");var o=a(n("e62e")),r=n("2163"),c=(t.DEFAULT_TEAM_NUMBER=64,15),i=(t.MOCK_DATA_META={DEFAULT_AVATAR:"https://image-1251917893.file.myqcloud.com/Esports/user/img/default-avatar.png",DEFAULT_NAME:"队伍名称很长很长很长"},t.STATUS_MAP={PREVIEW:"PREVIEW",PREVIEW_CUSTOM_SCHE:"PREVIEW_CUSTOM_SCHE",NOT_START:"NOT_START",PLAYING:"PLAYING",PLAYING_WITH_CHANNELS:"PLAYING_WITH_CHANNELS",ENDED:"ENDED"}),u=t.STATUS_TITLE_MAP=(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)({},i.PREVIEW,"报名中，未定义赛程"),i.PREVIEW_CUSTOM_SCHE,"报名中，已定义赛程"),i.NOT_START,"未开赛"),i.PLAYING,"进行中，无视频号"),i.PLAYING_WITH_CHANNELS,"进行中，有视频号"),i.ENDED,"已结束"),l=(t.STATUS_SCHE_MAP=(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)({},i.PREVIEW,{isPreview:1,realStatus:0}),i.PREVIEW_CUSTOM_SCHE,{isPreview:2,realStatus:0}),i.NOT_START,{realStatus:50}),i.PLAYING,{realStatus:100,curBo:1,boType:3}),i.PLAYING_WITH_CHANNELS,{realStatus:100,isWeChatLiving:!0,curBo:1,boType:3}),i.ENDED,{realStatus:200}),t.STATUS_LIST=Object.keys(u).map((function(e){return{label:u[e],value:e}})),t.TEAM_LIST=Array.from({length:c}).map((function(e,t){return{label:"".concat(Math.pow(2,t+1)," 队"),value:Math.pow(2,t+1)}})));t.TEAM_MAP=l.reduce((function(e,t){return e[t.value]=t.label,e}),{}),t.GROUP_TYPE_LIST=Object.keys(r.GROUP_TYPE_NAME_MAP).map((function(e){return{label:r.GROUP_TYPE_NAME_MAP[e].title,value:r.GROUP_TYPE_NAME_MAP[e].name}}))},"21ef":function(e,t,n){"use strict";var a=n("eaaf"),o=n.n(a);o.a},32857:function(e,t,n){"use strict";n("1e9d"),Object.defineProperty(t,"__esModule",{value:!0}),t.local=void 0,t.showCustomPopup=i;var a=n("f0f2"),o=n("f694"),r=n("1437"),c=t.local={status:r.STATUS_MAP.PREVIEW_CUSTOM_SCHE,isAdmin:!1};function i(e){var t=e.context,n=e.callback;(0,a.showPopupCellAndClose)({context:t,title:"自定义设置",closeIcon:!0,cellList:[(0,o.currentStatusPopupCell)({local:c,context:t,callback:n}),(0,o.adminPopupCell)({local:c,context:t,callback:n})]})}},5840:function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("6d7c")),r=a(n("2406")),c=n("f0f2"),i=a(n("9d1c")),u=n("32857"),l=n("763e"),s=n("ebe3"),_=a(n("e702")),f=n("1437");t.default={i18n:{"zh-CN":{custom:"自定义"},"en-US":{custom:"Custom"}},components:{ScheduleItem:_.default,PressPopupCell:i.default,PressPicker:r.default},data:function(){var e,t=(0,o.default)((0,o.default)({},u.local),{},{isPreview:(null===(e=f.STATUS_SCHE_MAP[u.local.status])||void 0===e?void 0:e.isPreview)||0,isAdmin:!1,myTeamId:"TEAM_ID_A",canShowOrderButton:!0,scheSubStatusMap:{}});return{sectionStyle:"margin: 0;background: #f7f8fa;",headerStyle:"background: #f7f8fa;",FUNCTIONAL_ID_MAP:c.FUNCTIONAL_ID_MAP,scheLocal:t,scheInfo:{}}},mounted:function(){this.generateData()},methods:{onShowBasicPopupCell:function(){(0,u.showCustomPopup)({context:this,callback:{changeStatus:this.changeStatus,changeAdmin:this.changeAdmin}})},changeAdmin:function(e){this.scheLocal=(0,o.default)((0,o.default)({},this.scheLocal),{},{isAdmin:e}),this.generateData()},changeStatus:function(e){this.scheLocal=(0,o.default)((0,o.default)({},this.scheLocal),{},{status:e,isPreview:f.STATUS_SCHE_MAP[e].isPreview||0}),this.generateData()},generateData:function(){var e=this.scheLocal,t=e.isPreview,n=e.isAdmin,a=e.status,o=e.myTeamId,r=e.canShowOrderButton,c=e.scheSubStatusMap,i=(0,l.genMockScheduleItemData)({info:f.STATUS_SCHE_MAP[a]});this.scheInfo=(0,s.formatScheItemData)({scheInfo:i,isPreview:t,isAdmin:n,myTeamId:o,canShowOrderButton:r,scheSubStatusMap:c})}}}},"5b7a":function(e,t,n){"use strict";n("1e9d"),Object.defineProperty(t,"__esModule",{value:!0}),t.SCHEDULE_INFO=void 0;t.SCHEDULE_INFO={battleList:[{teamList:[{teamid:"TEAM_ID_A",teamname:"3813_team",teamavatar:"https://image-1251917893.file.myqcloud.com/Esports/user/img/default-avatar.png",capuid:"3d3d2081-dc23-4ff3-9805-1fd2781072a6",score:1,isWinner:1},{teamid:"TEAM_ID_B",teamname:"3304_team",teamavatar:"https://image-1251917893.file.myqcloud.com/Esports/user/img/default-avatar.png",capuid:"0dcef6aa-60d9-4019-a828-33978fa560c8",score:0}],battleid:"10004456_101_winner_1_1_1_1686461401_1",gameName:"杨的比赛",roundName:"胜者组第1轮",boType:1,curBo:1,roomType:1,battleStatus:"准备中",redSide:"85A53B755B55380CF0FBD480BDE71D96",schid:"10004456_101_winner_1_1_1_1686461401",status:"未开始",realStatus:50,isWeChatLiving:!1,liveInfo:{},nodeItem:{schid:"10004456_101_winner_1_1_1_1686461401",gid:331,sch_type:2,sch_rule:{round_stage:101,round_type:"winner",round_id:1,partition_id:1,group_id:1,tree_node_uni_id:"10004456_101_winner_1_1_1",pre_tree_node:"null",bracket_id:1},sch_score:{teama_id:"85A53B755B55380CF0FBD480BDE71D96",teamb_id:"017564FA650E8982010A5706EC78F7B3",bo_type:1,cur_bo:1,room_type:1,ref_room:2,auto_fail:1,show_red:1},sch_dantao:{both_team_set:3},state:50,ctime:1686461402,utime:1686461402,version:2,childid:10004456,battle_list:[{schid:"10004456_101_winner_1_1_1_1686461401",battleid:"10004456_101_winner_1_1_1_1686461401_1",gid:331,childid:10004456,bonum:1,battle_state:100,ctime:1686461402,stime:1686461402,red_side:"85A53B755B55380CF0FBD480BDE71D96"}],rawState:50,status:"未开始"},bracketIdDesc:"U1"}],roundInfo:{child_id:10004456,gid:331,round_stage:101,round_type:"winner",round_id:1,round_name:"胜者组第1轮",bo_type:1,grp_num:1,grp_source_num:128,source_num:128,promote_num:64,start_battle_type:1,ready_time_utime:1686461400,latest_ready_time:1686461400},partitionId:1,isChamp:!1,finals:!0}},"5df3":function(e,t,n){"use strict";function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"setData";if(!e)return Promise.reject("Not Found Dialog");var a=e.$vm&&e.$vm[n]||e[n];return"function"===typeof a?a(t):Promise.reject("Not Found setData function")}function o(e){for(var t=e.$vm||e,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];"function"===typeof t.$set?t.$set.apply(t,[t].concat(a)):t[a[0]]=a[1]}function r(e){var t;if(e)return t=e,t}n("1e9d"),Object.defineProperty(t,"__esModule",{value:!0}),t.getVMInVue3=r,t.setData=a,t.vmSet=o,n("12cd"),n("a21a")},"763e":function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.genMockScheduleItemData=c;var o=a(n("6d7c")),r=n("5b7a");function c(e){var t=e.info;return(0,o.default)((0,o.default)({},r.SCHEDULE_INFO),{},{battleList:[(0,o.default)((0,o.default)({},r.SCHEDULE_INFO.battleList[0]||{}),t||{})]})}},"7cae":function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo-wrap demo-wrap--gray"},[n("DemoBlock",{attrs:{title:e.t("basicUsage"),"section-style":e.sectionStyle,"header-style":e.headerStyle}},[n("PressCell",{attrs:{title:e.t("custom"),"is-link":!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onShowBasicPopupCell.apply(void 0,arguments)}}})],1),n("div",{staticClass:"demo-container"},[n("ScheduleItem",{attrs:{"sche-info":e.scheInfo,"is-preview":e.scheLocal.isPreview,"is-admin":e.scheLocal.isAdmin,"my-team-id":e.scheLocal.myTeamId,"can-show-order-button":e.scheLocal.canShowOrderButton,"sche-sub-status-map":e.scheLocal.scheSubStatusMap}})],1),n("PressPopupCell",{ref:e.FUNCTIONAL_ID_MAP.POPUP_CELL,attrs:{id:e.FUNCTIONAL_ID_MAP.POPUP_CELL,mode:"functional"}}),n("PressPicker",{ref:e.FUNCTIONAL_ID_MAP.PICKER,attrs:{id:e.FUNCTIONAL_ID_MAP.PICKER,mode:"functional"}})],1)},r=[]},a04f:function(e,t,n){"use strict";n.r(t);var a=n("5840"),o=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},b463:function(e,t,n){"use strict";n("1e9d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,n("a3df"),n("28e3"),n("189c"),n("b292"),n("cb40"),n("a21a"),n("9821"),n("4b11");var a=o(n("bba8"));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,a.default)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,c=e},f:function(){try{i||null==n["return"]||n["return"]()}finally{if(u)throw c}}}}},caeb:function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.selectComponent=_,t.showFunctionalComponent=f,n("3db9"),n("a21a"),n("4efe"),n("3c3d"),n("987c");var o=a(n("6d7c")),r=a(n("b463")),c=n("5df3"),i=n("67d4"),u="showDialog";function l(){var e=getCurrentPages();return e[e.length-1]}function s(e,t,n){var a=e.$children;if(a){var o,c=(0,r.default)(a);try{for(c.s();!(o=c.n()).done;){var i=o.value;if(i.$attrs[t]===n)return i}}catch(d){c.e(d)}finally{c.f()}var u,l=(0,r.default)(a);try{for(l.s();!(u=l.n()).done;){var _=u.value,f=s(_,t,n);if(f)return f}}catch(d){l.e(d)}finally{l.f()}}}function _(e,t){if(t&&e){if("function"===typeof t)return t(e);var n=t;if(n.match(/^[^\w]/)&&(n=n.slice(1)),e.$refs&&e.$refs[n])return e.$refs[n];if((0,i.isNotInUni)()){var a=t.startsWith("#")?"id":"class",o=s(e,a,n);if(o)return o}if(e&&"function"===typeof e.$selectComponent){var r=e.$selectComponent(t);return r}return e&&e.selectComponent&&e.selectComponent(t)}}function f(e){return new Promise((function(t,n){var a=e.context||l(),r=e.dialog;r||(r=_(a,e.selector));var i=(0,o.default)({callback:function(e,a){"confirm"===e?t(a):n(a)}},e);delete i.dialog,delete i.context;var s=e.showFunction||u;(0,c.setData)(r,i,s)}))}},cd8c:function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.FUNCTIONAL_ID_MAP=void 0,t.showDateTimePicker=_,t.showPicker=s,t.showPopupCell=u,t.showPopupCell2=l,t.showPopupCellAndClose=i;var o=a(n("6d7c")),r=n("caeb"),c=t.FUNCTIONAL_ID_MAP={POPUP_CELL:"press-popup-cell-functional",POPUP_CELL_2:"press-popup-cell-functional-2",PICKER:"press-picker-functional",DATE_TIME_PICKER:"press-datetime-picker-popup-functional"};function i(e){(0,r.showFunctionalComponent)((0,o.default)({selector:"#".concat(c.POPUP_CELL)},e)).then((function(e){var t=e||{},n=t.context,a=void 0===n?{}:n;a.closeDialog()})).catch((function(e){var t=e||{},n=t.context,a=void 0===n?{}:n;a.closeDialog()}))}function u(e){return(0,r.showFunctionalComponent)((0,o.default)({selector:"#".concat(c.POPUP_CELL)},e))}function l(e){return(0,r.showFunctionalComponent)((0,o.default)({selector:"#".concat(c.POPUP_CELL_2)},e))}function s(e){return(0,r.showFunctionalComponent)((0,o.default)({selector:"#".concat(c.PICKER)},e))}function _(e){return(0,r.showFunctionalComponent)((0,o.default)({selector:"#".concat(c.DATE_TIME_PICKER)},e))}},d613:function(e,t,n){"use strict";n.r(t);var a=n("7cae"),o=n("a04f");for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n("21ef");var c,i=n("921e"),u=Object(i["a"])(o["default"],a["b"],a["c"],!1,null,"bceea6f0",null,!1,a["a"],c);t["default"]=u.exports},eaaf:function(e,t,n){var a=n("f090");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("5a15").default;o("38cbb3e4",a,!0,{sourceMap:!1,shadowMode:!1})},f090:function(e,t,n){var a=n("a8d8");t=a(!1),t.push([e.i,".demo-container[data-v-bceea6f0]{position:relative;background:#fff;margin:10px 12px 0;border-radius:4px;overflow:visible}",""]),e.exports=t},f0f2:function(e,t,n){"use strict";n("1e9d"),Object.defineProperty(t,"__esModule",{value:!0}),t.DATE_TIME_PICKER_MAX_MIN_DATE=t.BO_STR_LIST=t.BATCH_SET_MAP=void 0,Object.defineProperty(t,"FUNCTIONAL_ID_MAP",{enumerable:!0,get:function(){return o.FUNCTIONAL_ID_MAP}}),t.SELECT_BAN_LIST=t.QUARTER_BUFFER=t.PICKER_BO_LIST=t.PICKER_BAN_LIST=t.ONE_YEAR_MIL_SECONDS=void 0,t.getAutoQuitDesc=s,t.getDefaultLatestReadyTime=u,t.getIntervalTimePickerList=_,t.getStartWayDesc=l,t.latestReadyTimeFormat=f,t.onTimeStartTimeFormat=d,Object.defineProperty(t,"showDateTimePicker",{enumerable:!0,get:function(){return o.showDateTimePicker}}),Object.defineProperty(t,"showPicker",{enumerable:!0,get:function(){return o.showPicker}}),Object.defineProperty(t,"showPopupCell",{enumerable:!0,get:function(){return o.showPopupCell}}),Object.defineProperty(t,"showPopupCell2",{enumerable:!0,get:function(){return o.showPopupCell2}}),Object.defineProperty(t,"showPopupCellAndClose",{enumerable:!0,get:function(){return o.showPopupCellAndClose}}),n("22d5"),n("8e97"),n("bb80"),n("51e0"),n("f29a"),n("6f81"),n("a21a"),n("8dae"),n("9821");var a=n("ccee"),o=n("cd8c"),r=t.ONE_YEAR_MIL_SECONDS=31536e6,c=t.QUARTER_BUFFER=9e5;t.BATCH_SET_MAP={ON_TIME_START:"ON_TIME_START",LAST_READY_TIME:"LAST_READY_TIME"},t.DATE_TIME_PICKER_MAX_MIN_DATE={ON_TIME_START:{MIN:Date.now(),MAX:Date.now()+r},LATEST_READY:{MIN:Date.now()-r,MAX:Date.now()+r}};function i(e){return parseInt("".concat(e/1e3/60),10)}function u(){var e=Date.now()+c;while(i(e)%5!==0)e+=6e4;return parseInt("".concat(e/1e3),10)}function l(e,t){var n="";return n=1==e?"人满开赛":2==e?"手动开赛":(0,a.timeStampFormat)(t,"M/d hh:mm开赛"),n}function s(e){var t="";return t=e?(0,a.timeStampFormat)(e,"M/d hh:mm"):"不启用",t}function _(){return Array.from({length:13}).map((function(e,t){return t<2?null:5*t})).filter((function(e){return e})).map((function(e){return{value:e,label:"".concat(e,"分钟")}}))}t.PICKER_BO_LIST=[{label:"一局胜负",value:1},{label:"三局两胜",value:3},{label:"五局三胜",value:5},{label:"七局四胜",value:7}],t.BO_STR_LIST=["","一局胜负","","三局两胜","","五局三胜","","七局四胜"],t.PICKER_BAN_LIST=["各禁4英雄","不禁用英雄","","各禁2英雄","各禁3英雄"],t.SELECT_BAN_LIST=[{label:"不禁用英雄",value:1},{label:"各禁2英雄",value:3},{label:"各禁3英雄",value:4},{label:"各禁4英雄",value:0}];function f(e){return e?(0,a.timeStampFormat)(e,"M/d hh:mm 截止上场"):"不启用"}function d(e){return(0,a.timeStampFormat)(e,"M/d hh:mm")}},f694:function(e,t,n){"use strict";n("1e9d"),Object.defineProperty(t,"__esModule",{value:!0}),t.adminPopupCell=c,t.currentStatusPopupCell=i,t.local=void 0,t.showCustomPopup=u;var a=n("f0f2"),o=n("1437"),r=t.local={teamNumber:o.DEFAULT_TEAM_NUMBER,status:o.STATUS_MAP.NOT_START,isAdmin:!1,groupType:o.GROUP_TYPE_LIST[0].value,showError:!1};function c(e){var t=e.local,n=e.context,a=e.callback;return{label:"是否为管理员",type:"switch",open:t.isAdmin,click:function(e){var o=e.context;o.closeDialog(),t.isAdmin=!t.isAdmin,n.onGTip("设置成功"),"function"===typeof a.changeAdmin&&a.changeAdmin.call(n,t.isAdmin)}}}function i(e){var t=e.local,n=e.context,r=e.callback;return{label:"当前状态",value:o.STATUS_TITLE_MAP[t.status],click:function(e){var c=e.context;c.closeDialog(),(0,a.showPicker)({context:n,title:"当前状态",closeIcon:!0,list:o.STATUS_LIST,current:{value:t.status}}).then((function(e){var a=e.item;t.status=a.value,n.onGTip("设置成功"),"function"===typeof r.changeStatus&&r.changeStatus.call(n,a.value)})).catch((function(){}))}}}function u(e){var t=e.context,n=e.callback;(0,a.showPopupCellAndClose)({context:t,title:"自定义设置",closeIcon:!0,cellList:[{label:"队伍个数",value:o.TEAM_MAP[r.teamNumber],click:function(e){var c=e.context;c.closeDialog(),(0,a.showPicker)({context:t,title:"队伍个数",closeIcon:!0,list:o.TEAM_LIST,current:{value:r.teamNumber}}).then((function(e){var a=e.item;r.teamNumber=a.value,t.onGTip("设置成功"),"function"===typeof n.changeTeamNumber&&n.changeTeamNumber.call(t,a.value)})).catch((function(){}))}},i({local:r,context:t,callback:n}),{label:"赛制",value:o.GROUP_TYPE_NAME_MAP[r.groupType].title,click:function(e){var c=e.context;c.closeDialog(),(0,a.showPicker)({context:t,title:"当前状态",closeIcon:!0,list:o.GROUP_TYPE_LIST,current:{value:r.groupType}}).then((function(e){var a=e.item;r.groupType=a.value,t.onGTip("设置成功"),"function"===typeof n.changeGroupType&&n.changeGroupType.call(t,a.value)})).catch((function(e){console.log("err",e)}))}},c({local:r,context:t,callback:n}),{label:"是否显示顶号异常",description:"需设置管理员",type:"switch",open:r.showError,click:function(e){var a=e.context;a.closeDialog(),r.showError=!r.showError,t.onGTip("设置成功"),"function"===typeof n.changeErrorTip&&n.changeErrorTip.call(t,r.showError)}}]})}}}]);