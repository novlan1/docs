(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-press-area-index-bar-area-index-bar"],{"101d":function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("bb80"),n("51e0"),n("6f81"),n("1d57"),n("a21a");var i=a(n("95e9")),r=a(n("ae2e")),o=a(n("d02c"));t.default={name:"PressAreaIndexBar",options:{styleIsolation:"shared"},components:{PressPopup:o.default,PressIndexAnchor:i.default,PressIndexBar:r.default},props:{title:{type:String,default:"选择赛事所在区域"},areaData:{type:Array,default:function(){return[]}},sProvince:{type:String,default:""},sCity:{type:String,default:""},windowTop:{type:Number,default:0},showIndexList:{type:Boolean,default:!0}},emits:["onCancel","onConfirm","onUnLimit"],data:function(){return{cityList:[],isShow:!0,province:"",city:"",stickyOffsetTop:0}},computed:{innerIndexList:function(){return this.showIndexList?this.isShow?this.areaData.map((function(e){return e.key})):this.cityList.map((function(e){return e.key})):[]}},watch:{sCity:function(e){this.city=e},sProvince:function(e){this.province=e}},mounted:function(){var e=this;this.city=this.sCity,this.province=this.sProvince,setTimeout((function(){e.$refs.pressIndexBar.updateData(),e.$refs.pressIndexBar.setAnchorsRect().then((function(t){var n;e.stickyOffsetTop=(null===(n=t[0])||void 0===n?void 0:n.top)||0}))}),400)},methods:{handleProvince:function(e){this.isShow=!1,this.city="",this.province=e.name,this.cityList=e.city},handleCity:function(e){this.city=e.name},handleReSelect:function(){this.isShow=!0,this.province="",this.city=""},handleUnLimit:function(e){this.city="",this.$emit("onUnLimit",e)},onCancel:function(){this.$emit("onCancel")},confirm:function(){this.$emit("onConfirm",this.province,this.city)}}}},"108f":function(e,t,n){var a=n("a8d8");t=a(!1),t.push([e.i,".press-index-bar-container[data-v-2cff833c],.press-index-bar-wrapper[data-v-2cff833c]{height:100%}.press-index-bar[data-v-2cff833c]{position:relative}.press-index-bar__sidebar[data-v-2cff833c]{position:fixed;top:50%;right:0;display:flex;flex-direction:column;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;user-select:none}.press-index-bar__index[data-v-2cff833c]{font-weight:500;padding:0 var(--padding-base,4px) 0 var(--padding-md,16px);font-size:var(--index-bar-index-font-size,10px);line-height:var(--index-bar-index-line-height,14px)}",""]),e.exports=t},1210:function(e,t,n){"use strict";n.r(t);var a=n("101d"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=i.a},"171d":function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"press-area"},[n("PressPopup",{attrs:{"popup-title":e.title,"close-icon":!0,"arrow-icon":!1,button:"确定"},on:{onCancel:function(t){arguments[0]=t=e.$handleEvent(t),e.onCancel.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}}},[n("div",{staticClass:"press-area__top-bar"},[n("div",{staticClass:"press-area__addresses"},[n("div",{class:e.province?"press-area__address--selected":"press-area__address--unselected",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.handleReSelect.apply(void 0,arguments)}}},[e._v(e._s(e.province||"请选择"))]),""!==e.province?n("div",{staticClass:"press-area__address--unselected"},[e._v(e._s(e.city||"请选择"))]):e._e()]),n("div",{staticClass:"press-area__address-limit"},[e.province?n("div",{on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.handleUnLimit("city")}}},[e._v("不限城市")]):n("div",{on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.handleUnLimit("province")}}},[e._v("不限省份")])])]),e.isShow?n("PressIndexBar",{key:"province",ref:"pressIndexBar",attrs:{"index-list":e.innerIndexList,"sticky-offset-top":e.stickyOffsetTop,"highlight-color":"#1181D7",sticky:!1,"window-top":e.windowTop,"z-index":10}},e._l(e.areaData,(function(t,a){return n("div",{key:a},[n("PressIndexAnchor",{attrs:{index:t.key}}),e._l(t.value,(function(t){return n("div",{key:t.p_id,staticClass:"press-area__area-item",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.handleProvince(t)}}},[n("div",{staticClass:"press-area__area-name"},[e._v(e._s(t.name))])])}))],2)})),0):n("PressIndexBar",{key:"city",attrs:{"index-list":e.innerIndexList,"sticky-offset-top":e.stickyOffsetTop,"highlight-color":"#1181D7",sticky:!1,"window-top":e.windowTop,"z-index":10}},e._l(e.cityList,(function(t,a){return n("div",{key:a},[n("PressIndexAnchor",{attrs:{index:t.key}}),e._l(t.value,(function(t){return n("div",{key:t.id,staticClass:"press-area__area-item",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.handleCity(t)}}},[n("div",{staticClass:"press-area__area-name"},[e._v(e._s(t.name))])])}))],2)})),0)],1)],1)},r=[]},"2c3f":function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("b4b4"),r=a(n("5124")),o="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press/data/area.json";t.default={components:{PressAreaIndexBar:r.default},data:function(){var e=!0;return{areaJson:[],province:"",city:"",showAreaIndexBar:!0,showIndexList:e}},mounted:function(){this.getAreaData()},methods:{onShowAreaIndexBar:function(){this.showAreaIndexBar=!0},handleReSelect:function(e){"city"===e||(this.province=""),this.city="",this.$forceUpdate()},handleSelectArea:function(e,t){e?(this.province=e,this.city=t):(this.city="",this.province=""),this.showAreaIndexBar=!1},closeMatchArea:function(){this.showAreaIndexBar=!1},getAreaData:function(){var e=this;(0,i.fetchData)(o).then((function(t){e.areaJson=t}))}}}},"39e4":function(e,t,n){"use strict";n("1e9d"),Object.defineProperty(t,"__esModule",{value:!0}),t.WHITE=t.RED=t.ORANGE=t.GREEN=t.GRAY_DARK=t.GRAY=t.COLOR_MAP=t.BLUE=void 0;var a=t.RED="#ee0a24",i=t.BLUE="#1989fa",r=t.WHITE="#fff",o=t.GREEN="#07c160",s=t.ORANGE="#ff976a",c=t.GRAY="#323233",d=t.GRAY_DARK="#969799";t.COLOR_MAP={RED:a,BLUE:i,WHITE:r,GREEN:o,ORANGE:s,GRAY:c,GRAY_DARK:d}},"4a7c":function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"press-index-anchor-wrapper",style:e.wrapperStyle},[n("div",{class:"press-index-anchor "+(e.active?"press-index-anchor--active press-hairline--bottom":""),style:e.anchorStyle},[e.useSlot?e._t("default"):[n("span",[e._v(e._s(e.index))])]],2)])])},r=[]},5124:function(e,t,n){"use strict";n.r(t);var a=n("171d"),i=n("1210");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("b67b");var o,s=n("921e"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"595e981f",null,!1,a["a"],o);t["default"]=c.exports},"65ed":function(e,t,n){"use strict";n.r(t);var a=n("2c3f"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=i.a},"6a06":function(e,t,n){"use strict";var a=n("fc9b"),i=n.n(a);i.a},"706e":function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("51e0"),n("0fe0"),n("1d57"),n("7338"),n("a21a"),n("03d7");var i=a(n("6d7c")),r=n("16f3"),o=n("c95b"),s=n("21c6"),c=n("ede1");t.default={name:"PressIndexAnchor",options:(0,i.default)((0,i.default)({},r.defaultOptions),{},{styleIsolation:"shared"}),mixins:[(0,c.ChildrenMixin)(o.PARENT_INDEX_BAR,{indexKey:"tIndex"})],props:(0,i.default)({useSlot:Boolean,index:{type:[Number,String],default:""}},r.defaultProps),emits:[],data:function(){return{active:!1,wrapperStyle:"",anchorStyle:""}},methods:{setData:function(e){var t=this;Object.keys(e).forEach((function(n){t[n]=e[n]}))},scrollIntoView:function(e,t){(0,s.getRect)(this,".press-index-anchor-wrapper").then((function(n){var a=e+n.top;null===t||void 0===t||t(a)}))}}}},"937a":function(e,t,n){"use strict";n.r(t);var a=n("f8e2"),i=n("65ed");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,s=n("921e"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"5b2fc32f",null,!1,a["a"],o);t["default"]=c.exports},"95e9":function(e,t,n){"use strict";n.r(t);var a=n("4a7c"),i=n("fceb");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("6a06");var o,s=n("921e"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"9a89a5c2",null,!1,a["a"],o);t["default"]=c.exports},ae2e:function(e,t,n){"use strict";n.r(t);var a=n("ea6d"),i=n("b03f");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("dc0d");var o,s=n("921e"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"2cff833c",null,!1,a["a"],o);t["default"]=c.exports},b03f:function(e,t,n){"use strict";n.r(t);var a=n("eb7b"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=i.a},b67b:function(e,t,n){"use strict";var a=n("f885"),i=n.n(a);i.a},c1ab:function(e,t,n){var a=n("a8d8");t=a(!1),t.push([e.i,".press-area[data-v-595e981f]  .press-index-bar-wrapper{height:120vmin}.press-area[data-v-595e981f]  .press-index-bar__sidebar{top:62%}.press-area[data-v-595e981f]  .press-index-bar__index{height:.32rem}.press-area[data-v-595e981f]  .press-index-anchor-wrapper{background:#f5f6fa}.press-area[data-v-595e981f]  .press-index-anchor{color:#596297}.press-area__top-bar[data-v-595e981f]{margin-top:.24rem}.press-area__addresses[data-v-595e981f]{display:flex;flex-direction:row}.press-area__address--selected[data-v-595e981f]{padding-left:.32rem;font-size:.28rem;color:#09134e}.press-area__address--unselected[data-v-595e981f]{padding-left:.32rem;font-size:.28rem;color:#1181d7}.press-area__address-limit[data-v-595e981f]{font-size:.32rem;color:#09134e;padding:.32rem 0 .32rem .32rem}.press-area__area-item[data-v-595e981f]{padding:.32rem}.press-area__area-name[data-v-595e981f]{font-size:.32rem;color:#09134e}",""]),e.exports=t},d301:function(e,t,n){var a=n("108f");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("5a15").default;i("d9159f30",a,!0,{sourceMap:!1,shadowMode:!1})},dc0d:function(e,t,n){"use strict";var a=n("d301"),i=n.n(a);i.a},ea6d:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"press-index-bar-container"},[n("v-uni-scroll-view",{staticClass:"press-index-bar-wrapper",attrs:{id:"pressIndexBarWrapper",enhanced:!0,"scroll-with-animation":!1,"scroll-y":!0,"scroll-top":e.curScrollTop},on:{scroll:function(t){arguments[0]=t=e.$handleEvent(t),e.onWatchScroll.apply(void 0,arguments)}}},[n("div",{staticClass:"press-index-bar"},[e._t("default")],2)]),e.showSidebar?n("div",{staticClass:"press-index-bar__sidebar",on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.onClick.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.onTouchMove.apply(void 0,arguments)},touchend:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.onTouchStop.apply(void 0,arguments)},touchcancel:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.onTouchStop.apply(void 0,arguments)}}},e._l(e.indexList,(function(t,a){return n("div",{key:a,staticClass:"press-index-bar__index",style:"z-index: "+(e.zIndex+1)+"; color: "+(e.activeAnchorIndex===a?e.highlightColor:""),attrs:{"data-index":a},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.onClickInner.apply(void 0,arguments)}}},[e._v(e._s(t))])})),0):e._e()],1)},r=[]},eb7b:function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("6d7c"));n("12cd"),n("ba03"),n("bb80"),n("f23a"),n("51e0"),n("5562"),n("0fe0"),n("6f81"),n("1d57"),n("7338"),n("a21a"),n("7841"),n("9821"),n("03d7"),n("4b11");var r=n("16f3"),o=n("39e4"),s=n("c95b"),c=n("21c6"),d=n("70cf"),l=n("7f4b"),f=n("85c2"),u=n("7ef4"),p=n("ede1"),h=function(){for(var e=[],t="A".charCodeAt(0),n=0;n<26;n++)e.push(String.fromCharCode(t+n));return e};t.default={name:"PressIndexBar",options:(0,i.default)((0,i.default)({},r.defaultOptions),{},{styleIsolation:"shared"}),mixins:[(0,p.ParentMixin)(s.PARENT_INDEX_BAR),u.ScrollViewPureMixin],props:(0,i.default)({sticky:{type:Boolean,default:!0},zIndex:{type:Number,default:1},highlightColor:{type:String,default:o.GREEN},stickyOffsetTop:{type:Number,default:0},indexList:{type:Array,default:function(){return h()}}},r.defaultProps),emits:["select"],data:function(){return{activeAnchorIndex:null,showSidebar:!1,sidebar:{},curScrollTop:0}},created:function(){this.scrollTop=0,this.children=[]},mounted:function(){this.updateData()},methods:{setData:function(e){var t=this;Object.keys(e).forEach((function(n){t[n]=e[n]}))},updateData:function(){var e=this;(0,l.nextTick)((function(){null!=e.timer&&clearTimeout(e.timer),e.timer=setTimeout((function(){e.showSidebar=!!e.children.length,(0,l.nextTick)((function(){e.setRect().then((function(){e.onScroll()}))}))}),0)}))},setRect:function(){return Promise.all([this.setAnchorsRect(),this.setListRect(),this.setSiderbarRect()])},setAnchorsRect:function(){var e=this;return Promise.all(this.children.map((function(t){return(0,c.getRect)(t,".press-index-anchor-wrapper").then((function(n){return Object.assign(t,{height:n.height,top:n.top+e.scrollTop}),t}))})))},setListRect:function(){var e=this;return(0,c.getRect)(this,".press-index-bar").then((function(t){(0,f.isDef)(t)&&Object.assign(e,{height:t.height,top:t.top+e.scrollTop})}))},setSiderbarRect:function(){var e=this;return(0,c.getRect)(this,".press-index-bar__sidebar").then((function(t){(0,f.isDef)(t)&&(e.sidebar={height:t.height,top:t.top})}))},setDiffData:function(e){var t=e.target,n=e.data,a={};Object.keys(n).forEach((function(e){t[e]!==n[e]&&(a[e]=n[e])})),Object.keys(a).length&&t.setData(a)},getAnchorRect:function(e){return(0,c.getRect)(e,".press-index-anchor-wrapper").then((function(e){return{height:e.height,top:e.top}}))},getActiveAnchorIndex:function(){for(var e=this.children,t=this.scrollTop,n=this.sticky,a=this.children.length-1;a>=0;a--){var i=a>0?e[a-1].height:0,r=n?i:0;if(r+t>=e[a].top)return a}return-1},onScroll:function(e){var t,n,a=this;e&&(e.target||e.detail)&&(this.scrollTop=(null===(t=e.target)||void 0===t?void 0:t.scrollTop)||(null===(n=e.detail)||void 0===n?void 0:n.scrollTop)||0);var i=this.children,r=void 0===i?[]:i,o=this.scrollTop;if(r.length){var s=this.sticky,c=this.stickyOffsetTop,d=this.zIndex,l=this.highlightColor,f=this.getActiveAnchorIndex();if(this.setDiffData({target:this,data:{activeAnchorIndex:f}}),s){var u=!1;-1!==f&&(u=r[f].top<=+o),r.forEach((function(e,t){if(t===f){var n="",i="\n              color: ".concat(l,";\n            ");u&&(n="\n                height: ".concat(r[t].height,"px;\n              "),i="\n                position: fixed;\n                top: ".concat(c,"px;\n                z-index: ").concat(d,";\n                color: ").concat(l,";\n              ")),a.setDiffData({target:e,data:{active:!0,anchorStyle:i,wrapperStyle:n}})}else if(t===f-1){var o=r[t],s=o.top,p=t===r.length-1?a.top:r[t+1].top,h=p-s,v=h-o.height,x="\n              position: relative;\n              transform: translate3d(0, ".concat(v,"px, 0);\n              z-index: ").concat(d,";\n              color: ").concat(l,";\n            ");a.setDiffData({target:e,data:{active:!0,anchorStyle:x}})}else a.setDiffData({target:e,data:{active:!1,anchorStyle:"",wrapperStyle:""}})}))}}},onClick:function(){},onTouchMove:function(e){var t,n=this.children.length,a=e.touches[0],i=this.sidebar.height/n;t=Math.floor(((0,c.getRealPageYOrClientY)(a.clientY)-this.sidebar.top)/i),t<0?t=0:t>n-1&&(t=n-1),this.scrollToAnchor(t)},onTouchStop:function(){this.scrollToAnchorIndex=null},scrollToAnchor:function(e){var t=this;if("number"===typeof e&&this.scrollToAnchorIndex!==e){this.scrollToAnchorIndex=e;var n=this.children.find((function(n){return n.index===t.indexList[e]}));void 0!==n&&(n.scrollIntoView(this.scrollTop,this.changeScrollerTop),this.$emit("select",n.index))}},onClickInner:function(e){var t,n=null===(t=e.currentTarget)||void 0===t||null===(t=t.dataset)||void 0===t?void 0:t.index;void 0!==n&&this.scrollToAnchor(+n)},onWatchScroll:function(e){this.onScroll(e)},changeScrollerTop:function(e){var t,n=(0,d.getScrollSelector)("pressIndexBarWrapper"),a=null===(t=document)||void 0===t?void 0:t.querySelector(n);a&&(a.scrollTop=e)}}}},f622:function(e,t,n){var a=n("a8d8");t=a(!1),t.push([e.i,'.press-hairline--bottom[data-v-9a89a5c2]{position:relative}.press-hairline--bottom[data-v-9a89a5c2]:after{border:0 solid #ebedf0;bottom:-50%;box-sizing:border-box;content:" ";left:-50%;pointer-events:none;position:absolute;right:-50%;top:-50%;-webkit-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:center;transform-origin:center;border-bottom-width:1px}.press-index-anchor[data-v-9a89a5c2]{padding:var(--index-anchor-padding,0 16px);color:var(--index-anchor-text-color,#323233);font-weight:var(--index-anchor-font-weight,500);font-size:var(--index-anchor-font-size,14px);line-height:var(--index-anchor-line-height,32px);background-color:var(--index-anchor-background-color,transparent)}.press-index-anchor--active[data-v-9a89a5c2]{right:0;left:0;color:var(--index-anchor-active-text-color,#07c160);background-color:var(--index-anchor-active-background-color,#fff)}',""]),e.exports=t},f885:function(e,t,n){var a=n("c1ab");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("5a15").default;i("08e32242",a,!0,{sourceMap:!1,shadowMode:!1})},f8e2:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo-wrap"},[n("DemoBlock",{attrs:{title:"AreaIndexBar"}},[n("PressCell",{attrs:{title:"Show","is-link":!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onShowAreaIndexBar.apply(void 0,arguments)}}})],1),e.showAreaIndexBar?n("PressAreaIndexBar",{attrs:{"area-data":e.areaJson,"s-province":e.province,"s-city":e.city,"window-top":44,"show-index-list":e.showIndexList},on:{onUnLimit:function(t){arguments[0]=t=e.$handleEvent(t),e.handleReSelect.apply(void 0,arguments)},onCancel:function(t){arguments[0]=t=e.$handleEvent(t),e.closeMatchArea.apply(void 0,arguments)},onConfirm:function(t){arguments[0]=t=e.$handleEvent(t),e.handleSelectArea.apply(void 0,arguments)}}}):e._e()],1)},r=[]},fc9b:function(e,t,n){var a=n("f622");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("5a15").default;i("22ed772e",a,!0,{sourceMap:!1,shadowMode:!1})},fceb:function(e,t,n){"use strict";n.r(t);var a=n("706e"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=i.a}}]);