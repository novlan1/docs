(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-press-debug-debug"],{"25cc":function(t,e,n){var a=n("4b24");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("5a15").default;i("1180482d",a,!0,{sourceMap:!1,shadowMode:!1})},"291a":function(t,e,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("7c15"));e.default={components:{PressDebug:i.default},data:function(){return{}},methods:{setEnv:function(t){console.log("[setEnv]",t),"undefined"!==typeof window&&(window.isTestNet="test"===t)}}}},"4b24":function(t,e,n){var a=n("a8d8");e=a(!1),e.push([t.i,".press-debug[data-v-3692fcad]{font-size:16px;padding-top:20px;padding-bottom:env(safe-area-inset-bottom)}.press-debug__tab-container[data-v-3692fcad]{display:flex;justify-content:center;align-items:center;padding:16px 0}.press-debug__tab[data-v-3692fcad]{margin-right:13px;padding:2px 8px}.press-debug__tab--active[data-v-3692fcad]{color:#0ca168;border-bottom:2px solid #0ca168}.press-debug__container[data-v-3692fcad]{box-sizing:border-box;padding-top:16px;display:flex;flex-direction:column;align-items:center;height:100%;width:100%}.press-debug__button[data-v-3692fcad]{width:200px;height:44px;margin:10px;display:flex;justify-content:center;align-items:center;position:relative;background-color:rgba(0,5,10,.04)}.press-debug__button-image[data-v-3692fcad]{position:absolute;width:30px;height:30px;right:0;bottom:0}.press-debug__text-center[data-v-3692fcad]{width:100%;color:#666;text-align:center}.press-debug__hover-text[data-v-3692fcad]{background:#eee}.press-debug__form-item[data-v-3692fcad]{box-sizing:border-box;width:100%;padding:8px 16px;text-align:left;color:#333}.press-debug__label[data-v-3692fcad]{margin-right:8px;max-width:100px;display:inline-block;color:#666}.press-debug__user-value[data-v-3692fcad]{word-break:break-all;flex:1}.press-debug__gm-grid[data-v-3692fcad]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));grid-template-rows:50px;grid-auto-rows:50px;justify-content:center;grid-gap:20px;padding:5px 20px}.press-debug__gm-button[data-v-3692fcad]{border:1px solid #e5e4e9;background:#faebd7;display:flex;align-items:center;justify-content:center}.press-debug__gm-line[data-v-3692fcad]{display:block;text-align:center}.press-debug__gm-input[data-v-3692fcad]{margin:6px auto 6px;height:44px;width:80%;border:1px solid #efefef}",""]),t.exports=e},"66c4":function(t,e,n){"use strict";n.r(e);var a=n("6991"),i=n("824d");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);var o,s=n("921e"),u=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"2aa7af5f",null,!1,a["a"],o);e["default"]=u.exports},6991:function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"demo-wrap"},[n("PressDebug",{attrs:{"relaunch-page":"/pages/index/index","set-env":t.setEnv}})],1)},r=[]},"7c15":function(t,e,n){"use strict";n.r(e);var a=n("cfa0"),i=n("8060");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("8e13");var o,s=n("921e"),u=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"3692fcad",null,!1,a["a"],o);e["default"]=u.exports},8060:function(t,e,n){"use strict";n.r(e);var a=n("9cba"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"824d":function(t,e,n){"use strict";n.r(e);var a=n("291a"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"8e13":function(t,e,n){"use strict";var a=n("25cc"),i=n.n(a);i.a},"9cba":function(t,e,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("e62e")),r=a(n("6d7c"));n("7338"),n("ef06");e.default={name:"PressDebug",props:{customStyle:{type:String,default:""},envs:{type:Array,default:function(){return["test","release"]}},otherButtons:{type:Array,default:function(){return[{name:"JoinGame",url:"/views/test-page/join-game/index"}]}},relaunchPage:{type:String,default:""},setEnv:{type:Function,default:function(){return function(t){"undefined"!==typeof window&&(window.isTestNet="test"===t)}}},getEnv:{type:Function,default:function(){return function(){return"undefined"===typeof window?"":window.isTestNet?"test":"release"}}}},data:function(){return{curTab:"env",currentEnv:"",tabs:[{title:"环境选择",name:"env"},{title:"用户相关",name:"user"},{title:"清除缓存",name:"cache"}],userInfo:{},userInfoList:[],form:{path:"",appId:"",outerPath:"",version:"",extraDataStr:"",shortLink:""}}},computed:{innerRelaunchPage:function(){var t;if(this.relaunchPage)return this.relaunchPage;var e=getCurrentPages(),n=e[e.length-1];return(null===(t=n.$page)||void 0===t?void 0:t.fullPath)||"/".concat(n.route)}},onShow:function(){this.init()},mounted:function(){this.init()},activated:function(){this.init()},methods:{init:function(){var t;this.currentEnv=(null===(t=this.getEnv)||void 0===t?void 0:t.call(this))||"","function"===typeof this.currentEnv&&(this.currentEnv=this.currentEnv()),this.getUserInfo()},getUserInfo:function(){if("undefined"!==typeof localStorage){var t=localStorage.getItem("tip_uid"),e=localStorage.getItem("NEED_MP_MSDK_PARAM");this.userInfoList=[{name:"uid",value:t},{name:"msdk 参数",value:e}]}},onEnvClick:function(t){var e,n="已切换成".concat(t);this.currentEnv=t,console.log("[onEnvClick]",t);var a=null===(e=this.setEnv)||void 0===e?void 0:e.call(this,t);"function"===typeof a&&a(t),this.currentEnv=t,wx.showToast({title:n,icon:"none"}),wx.reLaunch({url:this.innerRelaunchPage})},handleType:function(t){this.curTab=t},copy:function(t){t&&t.trim()&&wx.setClipboardData({data:t,success:function(){wx.showToast({title:"复制成功",icon:"none"})}})},copyText:function(t){this.copy(t)},clickGridButton:function(t){console.log("[clickGridButton]",t),wx.navigateTo({url:t.url})},clearStorage:function(){wx.clearStorage(),wx.showToast({title:"清除缓存成功",icon:"none"})},relaunchMp:function(){wx.reLaunch({url:this.innerRelaunchPage,success:function(t){console.log("[relaunchMp] success",t)},fail:function(t){console.log("[relaunchMp] fail",t)}})},goToPage:function(t){console.log("[goToPage]",t.detail,t),wx.navigateTo({url:t.detail.value})},changeInput:function(t){var e=t.currentTarget.dataset.type;this.form=(0,r.default)((0,r.default)({},this.form),{},(0,i.default)({},e,t.detail.value||t.detail.value))},goToOuterPage:function(){var t=this.form,e=t.appId,n=t.version,a=t.outerPath,i=t.extraDataStr,r=t.shortLink;if(e||r){var o={};try{o=JSON.parse(i)}catch(s){}console.info("[extraData]",o),console.info("[outerPath]",a),uni.navigateToMiniProgram({appId:e,path:a,version:n||"release",extraData:o,shortLink:r})}else console.warn("缺少 appId 或 shortLink")}}}},cfa0:function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"press-debug",style:t.customStyle},[n("div",{staticClass:"press-debug__tab-container"},t._l(t.tabs,(function(e){return n("div",{key:e.name,class:["press-debug__tab",t.curTab===e.name?"press-debug__tab--active":""],on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleType(e.name)}}},[t._v(t._s(e.title))])})),0),n("div",{staticClass:"press-debug__tab-content"},["env"===t.curTab?n("div",{staticClass:"press-debug__container"},[n("div",[t._v("后端环境")]),t._l(t.envs,(function(e){return n("div",{key:e,staticClass:"press-debug__button",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onEnvClick(e)}}},[t._v(t._s(e)),t.currentEnv===e?n("v-uni-image",{staticClass:"press-debug__button-image",attrs:{src:"https://image-1251917893.cos.ap-guangzhou.myqcloud.com/assets/img/env_selected_202401010101.png"}}):t._e()],1)}))],2):t._e(),"user"===t.curTab?n("div",{staticClass:"press-debug__container press-debug__container--user"},[n("div",{staticClass:"press-debug__text-center"},[t._v("（点击值可复制）")]),t._l(t.userInfoList,(function(e){return n("div",{key:e.name,staticClass:"press-debug__form-item",attrs:{"hover-class":"press-debug__hover-text"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.copyText(e.value||"")}}},[n("p",{staticClass:"press-debug__label"},[t._v(t._s(e.name)+":")]),n("span",{staticClass:"press-debug__user-value"},[t._v(t._s(e.value||""))])])}))],2):t._e(),"cache"===t.curTab?n("div",{staticClass:"press-debug__gm-grid"},[t._l(t.otherButtons,(function(e){return n("div",{key:e.name,staticClass:"press-debug__gm-button",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.clickGridButton(e)}}},[t._v(t._s(e.name))])})),n("div",{staticClass:"press-debug__gm-button",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.clearStorage.apply(void 0,arguments)}}},[t._v("清空缓存")]),n("div",{staticClass:"press-debug__gm-button",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.relaunchMp.apply(void 0,arguments)}}},[t._v("重启小程序")])],2):t._e(),"cache"===t.curTab?n("div",{staticClass:"press-debug__gm-line"},[n("v-uni-input",{staticClass:"press-debug__gm-input",attrs:{"data-type":"path",placeholder:"请填入跳转的页面路径"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.goToPage.apply(void 0,arguments)}}}),n("v-uni-input",{staticClass:"press-debug__gm-input",attrs:{"data-type":"appId",placeholder:"请输入跳转的外部小程序 appId"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.changeInput.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.goToOuterPage.apply(void 0,arguments)}}}),n("v-uni-input",{staticClass:"press-debug__gm-input",attrs:{"data-type":"outerPath",placeholder:"请输入跳转的外部小程序路径"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.changeInput.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.goToOuterPage.apply(void 0,arguments)}}}),n("v-uni-input",{staticClass:"press-debug__gm-input",attrs:{"data-type":"version",placeholder:"请输入跳转的外部小程序版本，默认 release"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.changeInput.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.goToOuterPage.apply(void 0,arguments)}}}),n("v-uni-input",{staticClass:"press-debug__gm-input",attrs:{"data-type":"extraDataStr",placeholder:"请输入跳转的外部小程序 extraData"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.changeInput.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.goToOuterPage.apply(void 0,arguments)}}}),n("v-uni-input",{staticClass:"press-debug__gm-input",attrs:{"data-type":"shortLink",placeholder:"请输入跳转的外部小程序 shortLink"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.changeInput.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.goToOuterPage.apply(void 0,arguments)}}})],1):t._e()])])},r=[]}}]);