import{P as e}from"./press-list.Bcv4-KBB.js";import{P as s}from"./press-empty-gp.D7h0ZbNb.js";import{_ as t,c as a,b as i,a as c,i as l,D as n,e as r,W as d,F as o,j as m,w as h,o as u,d as p,h as f,r as v,l as y,f as I}from"./index-DdqTp3oi.js";function S(e){if(!(null==e?void 0:e.length))return[];let s=[];return e.forEach((e=>{null==e||e.forEach((e=>{e.battleList.forEach((t=>{s.push({sche:t,roundInfo:e.roundInfo})}))}))})),s=s.filter((e=>!!e)),s}const g=(e,s)=>null==e?void 0:e.filter((e=>{const{round_name:t}=e.roundInfo||{};return t===s||"全部"===s}));const k=t({name:"PressScheduleListViewGp",options:{virtualHost:!0,styleIsolation:"shared"},components:{PressEmpty:s,PressScheduleItem:t({name:"PressScheduleItem",options:{virtualHost:!0},props:{scheInfo:{type:Object,default:()=>({})},selected:{type:Boolean,default:!1},isPreview:{type:Number,default:0},scheSubStatusMap:{type:Object,default:()=>({})},myTeamId:{type:String,default:""}},emits:["clickScheItem","clickScheItemButton"],data:()=>({}),computed:{leftTeam(){var e,s;return(null==(s=null==(e=this.scheInfo)?void 0:e.sche)?void 0:s.upTeamInfo)||{}},rightTeam(){var e,s;return(null==(s=null==(e=this.scheInfo)?void 0:e.sche)?void 0:s.downTeamInfo)||{}},innerSche(){var e;return(null==(e=this.scheInfo)?void 0:e.sche)||{}}},mounted(){},methods:{clickScheItem(){this.$emit("clickScheItem",this.scheInfo)},onClickMiddleBtn(){this.$emit("clickScheItemButton",this.scheInfo)}}},[["render",function(e,s,t,p,f,v){const y=d("lazy");return u(),a("div",{class:l(["press-schedule-item",{"press-schedule-item--selected":t.selected}]),onClick:s[1]||(s[1]=h(((...e)=>v.clickScheItem&&v.clickScheItem(...e)),["stop"]))},[i("div",{class:"press-schedule-item-layout"},[(u(),a("div",{key:0,class:l({"press-schedule-team--abstain":t.scheInfo.isLeftTeamQuit})},[i("div",{class:"press-schedule-team-avatar-wrap"},[v.leftTeam.isWinner&&t.scheInfo.finalsChampion?(u(),a("div",{key:0,class:"press-schedule-team-tag-winner"},r(t.scheInfo.finalsChampion||""),1)):c("",!0),v.leftTeam.teamid==t.myTeamId?(u(),a("div",{key:1,class:"press-schedule-team-tag-mine"}," 我 ")):c("",!0),v.leftTeam.teamavatar||v.leftTeam.avatar?n((u(),a("img",{key:2,class:"press-schedule-team-avatar",size:"50"},null,512)),[[y,v.leftTeam.teamavatar||v.leftTeam.avatar]]):c("",!0)]),i("div",{class:"press-schedule-team-name"},r(v.leftTeam.teamname||v.leftTeam.name||""),1)],2)),i("div",{class:l([t.scheInfo.finals?"press-schedule-center--finals":"","press-schedule-center"])},[(u(),a(o,{key:0},[v.innerSche.showVS?(u(),a("div",{key:0,class:"press-schedule-score"},[i("div",{class:"press-schedule-score-vs"}," VS ")])):(u(),a("div",{key:1,class:"press-schedule-score"},[i("div",{class:"press-schedule-score-num"},r(v.leftTeam.score||0),1),i("div",{class:l([{"press-schedule-score-colon--shift":t.scheInfo.isScoreColonShift},"press-schedule-score-colon"])},null,2),i("div",{class:"press-schedule-score-num"},r(v.rightTeam.score||0),1)]))],64)),v.innerSche.listViewStatusDesc||v.innerSche.battleStatus?(u(),a("div",{key:1,class:"press-schedule-state"},[m(r(v.innerSche.listViewStatusDesc||v.innerSche.battleStatus||"")+" ",1),v.innerSche.playingDesc?(u(),a("div",{key:0,class:"press-schedule-state-icon"},[m(r(v.innerSche.playingDesc||""),1),i("div",{class:"iconfont icon-live"})])):c("",!0)])):c("",!0),v.innerSche.middleButtonTitle?(u(),a("div",{key:2,class:l(v.innerSche.middleButtonClass),onClick:s[0]||(s[0]=h(((...e)=>v.onClickMiddleBtn&&v.onClickMiddleBtn(...e)),["stop"]))},r(v.innerSche.middleButtonTitle||""),3)):c("",!0)],2),(u(),a("div",{key:1,class:l({"press-schedule-team--abstain":t.scheInfo.isRightTeamQuit})},[i("div",{class:"press-schedule-team-avatar-wrap"},[v.rightTeam.isWinner&&t.scheInfo.finalsChampion?(u(),a("div",{key:0,class:"press-schedule-team-tag-winner"},r(t.scheInfo.finalsChampion||""),1)):c("",!0),v.rightTeam.teamid==t.myTeamId?(u(),a("div",{key:1,class:"press-schedule-team-tag-mine"}," 我 ")):c("",!0),v.rightTeam.teamavatar||v.rightTeam.avatar?n((u(),a("img",{key:2,class:"press-schedule-team-avatar",size:"50"},null,512)),[[y,v.rightTeam.teamavatar||v.rightTeam.avatar]]):c("",!0)]),i("div",{class:"press-schedule-team-name"},r(v.rightTeam.teamname||v.rightTeam.name||""),1)],2))]),t.scheInfo.latestReadyTimeDesc?(u(),a("div",{key:0,class:"press-schedule-bottom"},r(t.scheInfo.latestReadyTimeDesc||""),1)):c("",!0)],2)}],["__scopeId","data-v-281b2e16"]]),PressList:e},props:{finishText:{type:String,default:""},needParse:{type:Boolean,default:!0},scheList:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},finished:{type:Boolean,default:!1},scheSubStatusMap:{type:Object,default:()=>{}},myTeamId:{type:String,default:""},isAdmin:{type:Boolean,default:!1},isPreview:{type:Number,default:0},curRoundFilter:{type:String,default:"全部"},emptyText:{type:String,default:"暂无结果"}},emits:["update:loading","clickFilter","loadMore","clickScheItem","clickScheItemButton"],data:()=>({}),computed:{matches(){const{scheList:e,curRoundFilter:s,needParse:t}=this;if(!t)return g(e,s);let a=S(e);return a=g(a,s),a},innerLoading:{get(){return this.loading},set(e){this.$emit("update:loading",e)}}},methods:{clickFilter(){this.$emit("clickFilter")},loadMore(){this.$emit("loadMore")},clickScheItem(...e){this.$emit("clickScheItem",...e)},clickScheItemButton(...e){this.$emit("clickScheItemButton",...e)}}},[["render",function(e,s,t,c,l,n){const d=v("PressScheduleItem"),m=v("PressList"),h=v("PressEmpty");return u(),a("div",{class:"press-schedule"},[n.matches&&n.matches.length>0?(u(),p(m,{key:0,modelValue:n.innerLoading,"onUpdate:modelValue":s[0]||(s[0]=e=>n.innerLoading=e),finished:t.finished,class:"press-schedule__list px-0.8 pt-0.72","finished-text":t.finishText,onLoad:n.loadMore},{default:f((()=>[(u(!0),a(o,null,y(n.matches,((e,s)=>(u(),a("div",{key:s,class:"press-schedule__card mx-auto my-0.96 w-28.4 border-0.08 border-solid border-[rgba(252,252,252,.60)] bg-gradient-100 from-[rgba(238,239,241,.90)15.46%] to-[rgba(252,252,252,.90)86.92%] shadow-[0_0px_6px_0px_rgba(83,71,134,.18)]"},[i("div",{class:"press-schedule__session mx-auto my-0 h-2.24 w-12.08 bg-[url(https://image-1251917893.file.myqcloud.com/tip-project/pubg/pubg-match/tab-schedule-bg-2.png)] bg-full text-center text-1.12 leading-2.24 text-[#212124]"},r(e.roundInfo&&e.roundInfo.round_name)+" BO"+r(e.sche&&e.sche.boType),1),I(d,{"sche-info":e,"is-admin":t.isAdmin,"is-preview":t.isPreview,"my-team-id":t.myTeamId,"sche-sub-status-map":t.scheSubStatusMap,onClickScheItem:n.clickScheItem,onClickScheItemButton:n.clickScheItemButton},null,8,["sche-info","is-admin","is-preview","my-team-id","sche-sub-status-map","onClickScheItem","onClickScheItemButton"])])))),128))])),_:1},8,["modelValue","finished","finished-text","onLoad"])):(u(),p(h,{key:1,text:t.emptyText,"is-no-full-screen":!0},null,8,["text"]))])}],["__scopeId","data-v-fa157cca"]]);export{k as P,g as f,S as g};
