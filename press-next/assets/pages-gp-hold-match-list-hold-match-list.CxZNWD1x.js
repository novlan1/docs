import{P as e}from"./press-list.Bcv4-KBB.js";import{P as t}from"./press-match-item.BNh--NZE.js";import{_ as i,c as a,b as s,o as c,w as l,i as o,d as n,j as r,f as d,h as m,r as g,F as h,l as p}from"./index-DdqTp3oi.js";import{a as u}from"./act-bem.Cm2KXJkF.js";import"./scroll-view.Bd72usm9.js";import"./press-count-down.DznCcd7E.js";const k={"self-hold":"toc-selfhosted-bg",selection:"toc-top--selection","selection-button":"toc-top--selection-btn","selection-button--fast":"selection-fast","selection-button--big":"selection-big","hold-main":"toc-selection--selfhost","common-title":"tip-toc-commontitle","icon--hold-game":"ico-tip-40-recommend","hold-empty":"tip-toc-selfhosted-blank","empty-img":"tip-toc-selfhosted-img","empty-text":"tip-toc-selfhosted-text","hold-list":"tip-toc-list-selfhosted","game-item":"tip-toc-gamemsg","icon--share":"tip-toc-icon-share","game-label":"tip-toc-gamemsg-label","game-label--orange":"signing-up","game-label--green":"game-ing","game-label--gray":"game-end","game-label--blue":"game-join","game-meta":"tip-toc-gamemsg-item","game-title":"gamemsg-title","game-title--link":"title-link",overflow:"t-overflow","label-list":"gamemsg-label-list","prize-info":"gamemsg-prizesbar",operations:"tip-toc-opera-btn","gp-button--secondary":"gp-match-secondary-btn","gp-button--primary":"gp-match-primary-btn","button-tip":"gp-match-manual-start-tip",services:"tip-toc-list--services"};const f=i({components:{PressHoldMatchList:i({name:"PressHoldMatchList",components:{MatchListSkeleton:i({},[["render",function(e,t,i,l,o,n){return c(),a("div",{class:"press-skeleton"},[s("div",{class:"press-match__list"},[s("div",{class:"press-match__item"},[s("div",{class:"press-match__left"},[s("div",{class:"press-match__title"}),s("div",{class:"press-match__labels"},[s("div",{class:"press-match__label"}),s("div",{class:"press-match__label"})]),s("div",{class:"press-match__prize"},[s("div",{class:"press-match__prize-img"}),s("div",{class:"press-match__prize-text"})])]),s("div",{class:"press-match__right"})])])])}],["__scopeId","data-v-cf265d7b"]]),PressMatchItem:t,PressList:e},props:{finished:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},gameList:{type:Array,default:()=>[]}},data:()=>({}),computed:{innerLoading:{get(){return this.loading},set(e){this.$emit("update:loading",e)}}},methods:{getActClass:(...e)=>function(e,t){return u(e,k,t)}(!1,e),clickQuickStart(){this.$emit("clickQuickStart")},clickLargeStart(){this.$emit("clickLargeStart")},clickShare(e){this.$emit("clickShare",e)},clickModifyGame(e){this.$emit("clickModifyGame",e)},clickScheduleManage(e){this.$emit("clickScheduleManage",e)},load(){this.$emit("loadMore")},clickMatch(e){this.$emit("clickMatch",e)},convertData:function(e){var t,i,a,s;return{...e,showLiving:3===e.dispStatus,showShare:!0,tagText:e.tag||"",gameName:e.name||"",matchStartDesc:e.timeDesc||"",gameTag:e.locationDesc||"",isOnline:1===(null==(i=null==(t=e.match_rule_cfg)?void 0:t.pubg_rule_cfg)?void 0:i.online)||!1,isOffline:2===(null==(s=null==(a=e.match_rule_cfg)?void 0:a.pubg_rule_cfg)?void 0:s.online)||!1,prizeDesc:e.prizeName||"",showOperations:"已结束"!==e.tag}}}},[["render",function(e,t,i,u,k,f){const S=g("MatchListSkeleton"),_=g("PressMatchItem"),M=g("PressList");return c(),a("div",{style:{height:"100%"},class:o([f.getActClass("self-hold")])},[s("div",{class:o([f.getActClass("selection")])},[s("div",{class:o([f.getActClass("selection-button","selection-button--fast")]),onClick:t[0]||(t[0]=l(((...e)=>f.clickQuickStart&&f.clickQuickStart(...e)),["stop"]))},[s("h5",{class:"press__selection-title"},[s("span",null,"一键举办比赛"),s("i",{class:"iconfont icon-guide"})]),s("p",{class:"press__selection-desc"}," 一键办赛，即刻开打 ")],2),s("div",{class:o([f.getActClass("selection-button","selection-button--big")]),onClick:t[1]||(t[1]=l(((...e)=>f.clickLargeStart&&f.clickLargeStart(...e)),["stop"]))},[s("h5",{class:"press__selection-title"},[s("span",null,"申办大型比赛"),s("i",{class:"iconfont icon-guide"})]),s("p",{class:"press__selection-desc"}," 官方授权，资源扶持 ")],2)],2),s("div",{class:o([f.getActClass("hold-main")])},[s("div",{class:o([f.getActClass("common-title")])},[s("h4",{class:"press-h4"},[s("i",{class:o([f.getActClass("icon--hold-game"),"iconfont","icon-team"])},null,2),s("span",null,"举办的比赛")])],2),i.loading&&!i.gameList.length?(c(),n(S,{key:0})):i.loading||i.gameList.length?(c(),a("div",{key:2,class:o([f.getActClass("hold-list")])},[d(M,{modelValue:f.innerLoading,"onUpdate:modelValue":t[3]||(t[3]=e=>f.innerLoading=e),finished:i.finished,"finished-text":"没有更多了",onLoad:f.load},{default:m((()=>[(c(!0),a(h,null,p(i.gameList,(e=>(c(),n(_,{key:e.childId,"match-item":f.convertData(e),onClick:t=>f.clickMatch(e),onClickShare:f.clickShare,onClickModifyGame:f.clickModifyGame,onClickScheduleManage:f.clickScheduleManage},null,8,["match-item","onClick","onClickShare","onClickModifyGame","onClickScheduleManage"])))),128))])),_:1},8,["modelValue","finished","onLoad"])],2)):(c(),a("div",{key:1,class:o([f.getActClass("hold-empty")])},[s("div",{class:o([f.getActClass("empty-img")])},[s("img",{src:"https://image-1251917893.file.myqcloud.com/tip-project/pubg/pubg-match/404-content-new.png"})],2),s("p",{class:o([f.getActClass("empty-text")])},[r(" 暂未举办比赛，一键即可 "),s("a",{onClick:t[2]||(t[2]=l(((...e)=>f.clickQuickStart&&f.clickQuickStart(...e)),["stop"]))},"创建")],2)],2))],2)],2)}],["__scopeId","data-v-10cdc342"]])},data:()=>({loading:!1,finished:!1,list:[]}),mounted(){this.loading=!0,this.loadMore()},methods:{uploadLoading(e){this.loading=e},loadMore(){setTimeout((()=>{this.list=this.list.concat(Array.from({length:10}).map(((e,t)=>{let i="",a=!1,s=!1,c=!1,l=!1;const o=t%4;return 1===o?(a=!0,i="进行中"):2===o?(s=!0,i="报名中"):3===o?(c=!0,i="已结束"):0===o&&(l=!0,i="待开赛"),{name:"比赛名称_".concat(t),timeDesc:"1月26日",locationDesc:"广东省广州市",labelList:["自动赛"],tag:i,isTagBlue:l,isTagOrange:a,isTagGray:c,isTagGreen:s,showShare:!0,prizeImage:"\thttps://image-1251917893.file.myqcloud.com/igame/match/gp/horz-match/prize.png",prizeName:"丰厚奖励",modifyButtonText:"修改比赛",scheduleManageTip:"请点击按钮给队伍分组"}}))),this.list.length>50&&(this.finished=!0),this.loading=!1}),300)},clickModifyGame(e){console.log("[clickModifyGame]",e),this.onGTip("clickModifyGame"),this.list=[]},clickScheduleManage(e){console.log("[clickScheduleManage]",e),this.onGTip("clickScheduleManage")},clickMatch(e){console.log("[clickMatch]",e),this.onGTip("clickMatch"),this.list=[]},clickShare(e){console.log("[clickShare]",e),this.onGTip("clickShare")},clickLargeStart(){this.onGTip("clickLargeStart")},clickQuickStart(){this.onGTip("clickQuickStart")}}},[["render",function(e,t,i,s,l,o){const n=g("PressHoldMatchList");return c(),a("div",{class:"demo-wrap demo-wrap--gp-iconfont"},[d(n,{"game-list":l.list,loading:l.loading,finished:l.finished,onLoadMore:o.loadMore,"onUpdate:loading":o.uploadLoading,onClickModifyGame:o.clickModifyGame,onClickScheduleManage:o.clickScheduleManage,onClickQuickStart:o.clickQuickStart,onClickLargeStart:o.clickLargeStart,onClickShare:o.clickShare,onClickMatch:o.clickMatch},null,8,["game-list","loading","finished","onLoadMore","onUpdate:loading","onClickModifyGame","onClickScheduleManage","onClickQuickStart","onClickLargeStart","onClickShare","onClickMatch"])])}],["__scopeId","data-v-dc2f5969"]]);export{f as default};
