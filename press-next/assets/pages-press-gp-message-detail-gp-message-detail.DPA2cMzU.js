import{u as e,c as t,o as a,b as l,a as i,i as n,e as s,j as r,F as o,l as c,C as d,w as m,d as g,G as p,A as u,f as b,n as f,S as v,h,K as x,_ as y}from"./index-DdqTp3oi.js";import{u as k,g as C}from"./index.Dc2DHEjX.js";import{_ as w}from"./press-custom-header.vue_vue_type_script_setup_true_lang.D4hwJKMf.js";import{E as M}from"./press-gp-empty.DuM7n7JR.js";const I={need:0,already:1,needNot:2},_=e({__name:"press-gp-message-detail-card",props:{item:{type:Object,default:()=>({})}},emits:["apply","clickManagerCard"],setup(e,{emit:g}){const p=g,u=e=>{p("apply",e)},b=()=>{p("clickManagerCard")};return(g,p)=>{var f,v,h,x,y,k,C,w,M,_;return a(),t("div",null,[l("div",{class:n(["relative mt-1.2 px-1.28 pb-1.2",{"h-20.24":!e.item.isMine,"h-16":e.item.isMine}]),onClick:b},[l("div",{class:n(["absolute top-0.96",{"right-1.28":e.item.isMine,"left-1.28":!e.item.isMine}])},[l("img",{class:"h-3.2 w-3.2 border-0.04 border-solid border-[#696969]",src:e.item.avatar,alt:""},null,8,["src"])],2),l("div",{class:n(["absolute box-border h-16 w-18.4 bg-[url(https://image-1251917893.file.myqcloud.com/tip-project/pubg/pubg-match/message/msg-manager-card.png)] bg-full bg-no-repeat pl-1.28 pt-5.6",{"right-5.44":e.item.isMine,"left-5.44":!e.item.isMine}])},[l("div",null,[l("div",{class:"flex"},[l("div",{class:"h-2.56 w-2.56"},[l("img",{class:"h-2.56 w-2.56 border-0.04 border-solid border-[#000]",src:null==(f=e.item.managerCardInfo)?void 0:f.avatar,alt:""},null,8,["src"])]),l("div",{class:"ml-0.64"},[l("div",{class:"flex items-center"},[l("div",{class:"text-0.96 font-medium"},s(null==(v=e.item.managerCardInfo)?void 0:v.nick),1),(null==(h=e.item.managerCardInfo)?void 0:h.gradePic)?(a(),t("div",{key:0,class:"ml-0.24 h-1.44 w-4.08"},[l("img",{class:"max-w-full",src:null==(x=e.item.managerCardInfo)?void 0:x.gradePic,alt:"",mode:"widthFix"},null,8,["src"])])):i("",!0)]),l("div",{class:"text-0.72 text-[rgba(33,33,36,0.75)]"},[r(" 已办赛 "),l("span",{class:"text-0.8 text-main"},s(null==(y=e.item.managerCardInfo)?void 0:y.createNum),1),r("场，共 "),l("span",{class:"text-0.8 text-main"},s(null==(k=e.item.managerCardInfo)?void 0:k.raceNum),1),r(" 人参加对局 ")])])])]),l("div",{class:"left-1/2 mt-0.64 box-border h-5.92 w-15.84 bg-gradient-to-r from-[rgba(255,255,255,0.45)9.78%] to-[rgba(255,255,255,0.13)96.31%] px-0.64 pt-0.64 backdrop-blur-4.46"},[(null==(C=e.item.managerCardInfo)?void 0:C.infoItems)&&(null==(w=e.item.managerCardInfo)?void 0:w.infoItems.length)?(a(!0),t(o,{key:0},c(null==(M=e.item.managerCardInfo)?void 0:M.infoItems,((n,r)=>{var o;return a(),t("div",{key:r,class:"relative mb-0.64 flex"},[l("div",{class:"w-2.4 text-0.8 leading-1.12 text-[rgba(33,33,36,0.75)]"},s(n.title)+": ",1),l("div",{class:"ml-0.32 text-0.8 leading-1.12 text-[rgba(33,33,36,0.75)]"},s(n.value),1),(null==(o=e.item.managerCardInfo)?void 0:o.showExchange)!==d(I).need||e.item.isMine?i("",!0):(a(),t("div",{key:0,class:"absolute right-0 top-_0.08 text-0.72 leading-1.12 text-[rgba(33,33,36,0.75)]"}," 交换名片后可查看 "))])})),128)):i("",!0)])],2),(null==(_=e.item.managerCardInfo)?void 0:_.exchangeStatus)===d(I).already||e.item.isMine?i("",!0):(a(),t("div",{key:0,class:n(["absolute top-16.96 flex w-9.92 justify-between",{"right-5.44":e.item.isMine,"left-5.44":!e.item.isMine}])},[l("div",{class:"h-2 w-4.48 bg-[url(https://image-1251917893.file.myqcloud.com/tip-project/pubg/pubg-match/common/btn/bg-btn-black-mini-1.png)] bg-full bg-no-repeat text-center font-peace text-0.88 leading-2 text-[#fff]",onClick:p[0]||(p[0]=m((e=>u(!1)),["stop"]))}," 拒绝 "),l("div",{class:"h-2 w-4.48 bg-[url(https://image-1251917893.file.myqcloud.com/tip-project/pubg/pubg-match/common/btn/bg-btn-mini-1.png)] bg-full bg-no-repeat text-center font-peace text-0.88 leading-2 text-main",onClick:p[1]||(p[1]=m((e=>u(!0)),["stop"]))}," 同意 ")],2))],2)])}}}),j=e({__name:"press-gp-message-detail-item",props:{item:{type:Object,default:()=>({})}},emits:["apply","clickManagerCard"],setup(e,{emit:i}){const r=i,o=()=>{r("clickManagerCard")},c=e=>{r("apply",e)};return(i,r)=>(a(),t("div",null,[e.item.isCard?(a(),g(_,{key:0,item:e.item,onApply:c,onClickManagerCard:o},null,8,["item"])):(a(),t("div",{key:1,class:n(["relative mt-1.2 flex px-1.28 pb-1.2",{"justify-end":e.item.isMine,"justify-start":!e.item.isMine}])},[l("div",{class:n(["absolute top-0.96",{"right-1.28":e.item.isMine,"left-1.28":!e.item.isMine}])},[l("img",{class:"h-3.2 w-3.2 border-0.04 border-solid border-[#696969]",src:e.item.avatar,alt:""},null,8,["src"])],2),l("div",{class:n(["top-0.96 mt-0.96 max-w-19.2 rounded-0.24 px-0.96 py-0.72 text-0.96",{"mr-4.8 bg-main_purple text-[#fff]":e.item.isMine,"ml-4.8 bg-[#dedce8] text-main":!e.item.isMine}])},s(e.item.textContent),3),l("div",{class:n(["absolute top-1.6 transform border-b-0.72 border-l-0.48 border-r-0.48 border-t-0 border-solid border-transparent",{"right-5.44 rotate-90 border-b-main_purple":e.item.isMine,"left-5.44 rotate-270 border-b-[#dedce8]":!e.item.isMine}])},null,2)],2))]))}}),q=y(e({__name:"press-gp-message-detail",props:{title:{default:""},initialId:{default:""},showExchange:{type:Boolean,default:!1},exchangeStatus:{default:-1},msgList:{default:()=>[]},conversationInfo:{default:()=>({nick:"",lvIcon:""})},scrollTop:{default:0}},emits:["onBack","exchangeCard","apply","scrolltoupper","send","clickManagerCard","loadMore"],setup(e,{emit:s}){const{statusBarHeight:r,headerHeight:m}=k(),y=p((()=>"background: #fff;padding-top:".concat(r.value,"px;height:").concat(m.value,"px"))),C=p((()=>"height: ".concat(m.value,"px;line-height: ").concat(m.value,"px"))),_=p((()=>"top: ".concat(m.value,"px"))),q=e,A=p((()=>q.msgList||[])),B=p((()=>q.initialId||"")),S=u(""),E=u("0"),N=u(null),Q=s,H=()=>{Q("onBack")},P=()=>{Q("exchangeCard")},T=e=>{Q("apply",e)},V=()=>{Q("loadMore")},F=()=>{S.value&&(Q("send",{value:S.value}),S.value="")},K=e=>{console.info("keyboardheightchange",e);const t=e.detail&&e.detail.height;E.value="".concat(t>0?t:0)},L=p((()=>"transform: translateY(".concat(-E.value,"px)")));return(e,s)=>{const r=v,m=x;return a(),t("div",{class:"flex h-full w-full flex-col overflow-hidden bg-[#fcfcfc] bg-[url(https://image-1251917893.file.myqcloud.com/tip-project/pubg/pubg-match/gp-rank/vertical/bg-new.jpg)] bg-fullauto bg-center-top bg-no-repeat"},[b(w,{title:e.conversationInfo.nick,"header-style":y.value,"header-image":e.conversationInfo.lvIcon,"header-image-style":"width:57px;height:20px;","placeholder-style":C.value,onGoBack:H},null,8,["title","header-style","header-image","placeholder-style"]),e.exchangeStatus===d(I).need?(a(),t("div",{key:0,class:"flex h-3.92 w-full items-center bg-[#dadafc]",style:f(_.value)},[l("div",{class:"ml-1.2 flex items-center text-0.96 text-[rgba(33,33,36,0.75)]"},[l("div",{class:"iconfont icon-business-card mr-0.32 text-1.28 text-main"}),l("div",null," 与对方交换名片后，查看联系方式 ")]),l("div",{class:"absolute right-1.28 h-2 w-4.96 bg-[url(https://image-1251917893.file.myqcloud.com/tip-project/pubg/pubg-match/common/btn/bg-btn-mini-1.png)] bg-full bg-no-repeat text-center font-peace text-0.88 leading-2 text-main",onClick:P}," 交换名片 ")],4)):i("",!0),A.value&&A.value.length>0?(a(),t("div",{key:1,class:"box-border flex-1 overflow-auto"},[b(r,{ref_key:"scrollView",ref:N,"scroll-y":"true","scroll-into-view":B.value,style:{height:"100%"},enhanced:"","scroll-top":e.scrollTop,onScrolltoupper:V},{default:h((()=>[(a(!0),t(o,null,c(A.value,((e,t)=>(a(),g(j,{id:e.id,key:t,item:e,onApply:T,onClickManagerCard:t=>(e=>{Q("clickManagerCard",e)})(e)},null,8,["id","item","onClickManagerCard"])))),128))])),_:1},8,["scroll-into-view","scroll-top"])])):(a(),t("div",{key:2,class:"flex-1"},[b(M,{title:"暂无数据"})])),l("div",{class:"box-border flex w-full items-center justify-between bg-[#fff] px-1.28 pb-[calc(env(safe-area-inset-bottom)+17px)] pt-1.36",style:f(L.value)},[b(m,{modelValue:S.value,"onUpdate:modelValue":s[0]||(s[0]=e=>S.value=e),class:"h-2.88 flex-1 border-0.04 border-solid border-[#000] pl-0.72 text-left text-0.88 leading-2.88 text-main",placeholder:"说点什么...","adjust-position":!1,onKeyboardheightchange:K},null,8,["modelValue"]),l("div",{class:n(["ml-0.96 h-2.88 w-4.48 bg-full bg-no-repeat text-center font-peace text-1.28 leading-2.88",{"bg-[url(https://image-1251917893.file.myqcloud.com/tip-project/pubg/pubg-match/common/btn/bg-btn-black-mini.png)] text-white":!S.value.length,"bg-[url(https://image-1251917893.file.myqcloud.com/tip-project/pubg/pubg-match/common/btn/bg-btn-mini.png)] text-main":S.value.length}]),onClick:F}," 发送 ",2)],4)])}}}),[["__scopeId","data-v-12498456"]]),A="https://thirdqq.qlogo.cn/g?b=oidb&k=HFh953g22kPgQny1h7KITQ&kti=ZJJzkQAAAAE&s=640&t=1556998035",B=y(e({__name:"gp-message-detail",setup(e){const l=Array.from({length:30}).map(((e,t)=>({isCard:t<10,isMine:t%2==0,avatar:A,textContent:"垃圾技术，垃圾代码，垃圾长期主义，表演性质的项目",managerCardInfo:{avatar:A,nick:"杨",gradePic:"青铜",createNum:999,raceNum:99999,infoItems:[{title:"QQ",value:"xxx"},{title:"手机",value:"xxx"},{title:"微信",value:"xxx"}],exchangeStatus:t%3,showExchange:t%3}}))),i={nick:"杨"},n=()=>{C({home:"/",isHomeTabBar:!0})};return(e,s)=>(a(),t("div",{class:"demo-wrap demo-wrap--gp-iconfont"},[b(q,{"msg-list":d(l),"conversation-info":i,onOnBack:n},null,8,["msg-list"])]))}}),[["__scopeId","data-v-3fe92b84"]]);export{B as default};
