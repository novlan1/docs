System.register(["./index-legacy-BcO7MaYe.js"],(function(t,e){"use strict";var i,n,o,a,s,r,c,u;return{setters:[function(t){i=t._,n=t.c,o=t.J,a=t.F,s=t.j,r=t.e,c=t.o,u=t.b}],execute:function(){var e=document.createElement("style");function m(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i="".concat(t);i.length<e;)i="0".concat(i);return i}e.textContent=".press-count-down[data-v-f879c755]{color:var(--count-down-text-color, #323233);font-size:var(--count-down-font-size, 14px);line-height:var(--count-down-line-height, 20px)}\n/*$vite$:1*/",document.head.appendChild(e);var h=1e3,d=6e4,f=36e5,l=24*f;function p(t){return{days:Math.floor(t/l),hours:Math.floor(t%l/f),minutes:Math.floor(t%f/d),seconds:Math.floor(t%d/h),milliseconds:Math.floor(t%h)}}function v(t){return setTimeout(t,30)}var g={name:"PressCountDown",props:{useSlot:Boolean,millisecond:Boolean,time:{type:Number,default:0},format:{type:String,default:"HH:mm:ss"},autoStart:{type:Boolean,default:!0}},emits:["change","finish"],data:function(){return{formattedTime:"0",remain:0}},computed:{timeData:function(){return p(this.remain)}},watch:{time:{handler:function(t){var e=this.remain;(this.millisecond||Math.floor(t/1e3)!==Math.floor(e/1e3)&&Math.round(t/1e3)!==Math.round(e/1e3))&&this.reset()},immediate:!0}},destroyed:function(){this.onDestroyed()},unmounted:function(){this.onDestroyed()},methods:{onDestroyed:function(){clearTimeout(this.tid),this.tid=null},start:function(){this.counting||(this.counting=!0,this.endTime=Date.now()+this.remain,this.tick())},pause:function(){this.counting=!1,clearTimeout(this.tid)},reset:function(){this.pause(),this.remain=this.time,this.setRemain(this.remain),this.autoStart&&this.start()},tick:function(){this.millisecond?this.microTick():this.macroTick()},microTick:function(){var t=this;this.tid=v((function(){t.setRemain(t.getRemain()),0!==t.remain&&t.microTick()}))},macroTick:function(){var t=this;this.tid=v((function(){var e,i,n=t.getRemain();e=n,i=t.remain,(Math.floor(e/1e3)!==Math.floor(i/1e3)||0===n)&&t.setRemain(n),0!==t.remain&&t.macroTick()}))},getRemain:function(){return Math.max(this.endTime-Date.now(),0)},setRemain:function(t){this.remain=t;var e=p(t);this.useSlot&&this.$emit("change",e),this.formattedTime=function(t,e){var i=e.days,n=e.hours,o=e.minutes,a=e.seconds,s=e.milliseconds;return-1===t.indexOf("DD")?n+=24*i:t=t.replace("DD",m(i)),-1===t.indexOf("HH")?o+=60*n:t=t.replace("HH",m(n)),-1===t.indexOf("mm")?a+=60*o:t=t.replace("mm",m(o)),-1===t.indexOf("ss")?s+=1e3*a:t=t.replace("ss",m(a)),t.replace("SSS",m(s,3))}(this.format,e),0===t&&(this.pause(),this.$emit("finish"))}}};t("P",i(g,[["render",function(t,e,i,m,h,d){return c(),n("div",{class:"press-count-down"},[i.useSlot?o(t.$slots,"default",{key:0,timeData:d.timeData},(function(){return[u("span",null,r(h.formattedTime),1)]}),!0):(c(),n(a,{key:1},[s(r(h.formattedTime),1)],64))])}],["__scopeId","data-v-f879c755"]]))}}}));
