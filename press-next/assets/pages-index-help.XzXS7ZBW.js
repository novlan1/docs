import{t as e,_ as t,g as o,c as s,a,b as i,d as l,e as n,w as c,F as r,f as d,h as p,n as u,i as m,S as h,r as g,o as f,j as C,k as _,l as y,m as v}from"./index-DdqTp3oi.js";import{i as k,a as b}from"./handler-helper.CgnxMxwO.js";import{t as w}from"./function.ChccDkXR.js";import{S as P}from"./scroll-view.Bd72usm9.js";import{P as S}from"./press-button.CZkGdPk2.js";import{P as I}from"./press-field.DLYFevr5.js";import"./index.v7nL_M0C.js";const T={show:{type:Boolean,default:!1},src:{type:String,default:""},dialogType:{type:[Number,String],default:1},title:{type:String,default:e("dialog.title")},content:{type:String,default:""},canTouchRemove:{type:Boolean,default:!0},confirmText:{type:String,default:e("confirm")},cancelText:{type:String,default:""},onClickCancel:{type:[Function,null],default:null},onConfirmClick:{type:[Function,null],default:null},htmlContent:{type:String,default:""},zIndex:{type:[Number,String],default:"99"},useScrollView:{type:Boolean,default:!1},onClickImage:{type:[Function,null],default:null},onLongPressImage:{type:[Function,null],default:null},showField:{type:Boolean,default:!1},fieldPlaceHolder:{type:String,default:""},fieldValue:{type:String,default:""},customClass:{type:String,default:""}};const x=t({name:"PressDialog",components:{PressButton:S,PressField:I},mixins:[o(T),P],props:{...T},options:{virtualHost:!0,styleIsolation:"shared"},emits:["confirm","cancel","onLongPressImage","onClickImage"],data:()=>({resolve:"",reject:"",promise:"",mShowButtonLoading:!1,inputValue:""}),watch:{dataFieldValue:{handler(e){this.inputValue=e},immediate:!0}},mounted(){},methods:{preventTouchMove(){},confirm(){if(2===this.dataDialogType){if(this.mShowButtonLoading)return;this.mShowButtonLoading=!0}"function"==typeof this.dataOnConfirmClick?w(this.dataOnConfirmClick(this)).then((e=>{e&&this.resolveConfirm()})).catch((()=>{})):this.resolveConfirm()},resolveConfirm(){this.resolve&&this.resolve("confirm"),this.$emit("confirm"),this.remove()},cancel(){"function"==typeof this.dataOnClickCancel&&this.dataOnClickCancel(this),"function"==typeof this.reject&&this.reject("cancel"),this.$emit("cancel"),this.remove()},showDialog(){return this.dataShow=!0,this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),this.promise},touchRemove(){this.dataCanTouchRemove&&this.remove(),this.$emit("cancel")},remove(){this.dataShow=!1,this.mShowButtonLoading=!1},destroy(){},handleLongPressImage(){"function"==typeof this.dataOnLongPressImage&&this.dataOnLongPressImage(),this.$emit("onLongPressImage")},handleClickImage(){"function"==typeof this.dataOnClickImage&&this.dataOnClickImage(),this.$emit("onClickImage")},onChangeField(e){this.inputValue=e}}},[["render",function(e,t,o,_,y,v){const k=h,b=g("PressField"),w=g("PressButton");return e.dataShow?(f(),s("div",{key:0,class:m(["press-dialog",e.dataCustomClass]),style:u({zIndex:"".concat(e.dataZIndex)}),onClick:t[2]||(t[2]=c(((...e)=>v.touchRemove&&v.touchRemove(...e)),["stop"])),onTouchmove:t[3]||(t[3]=c(((...e)=>v.preventTouchMove&&v.preventTouchMove(...e)),["stop"]))},[i("div",{class:"press-dialog__content-wrap"},[i("p",{class:"press-dialog__title"},n(e.dataTitle),1),e.dataUseScrollView&&e.dataHtmlContent?(f(),l(k,{key:0,"scroll-y":"true",class:"press-dialog__content",innerHTML:e.dataHtmlContent},null,8,["innerHTML"])):e.dataHtmlContent?(f(),s("p",{key:1,class:"press-dialog__content",innerHTML:e.dataHtmlContent},null,8,["innerHTML"])):a("",!0),e.dataHtmlContent?a("",!0):(f(),s("p",{key:2,class:"press-dialog__content"},n(e.dataContent),1)),e.dataShowField?(f(),l(b,{key:3,"custom-class":"press-dialog__field","title-width":"0",placeholder:e.dataFieldPlaceHolder,value:e.dataFieldValue,"model-value":e.dataFieldValue,onChange:v.onChangeField},null,8,["placeholder","value","model-value","onChange"])):a("",!0),e.dataSrc?(f(),s("div",{key:4,class:"press-dialog__img-wrap"},[e.dataSrc?(f(),s("img",{key:0,class:"press-dialog__img","show-menu-by-longpress":!0,src:e.dataSrc,onClick:t[0]||(t[0]=c(((...e)=>v.handleClickImage&&v.handleClickImage(...e)),["stop"])),onLongpress:t[1]||(t[1]=(...e)=>v.handleLongPressImage&&v.handleLongPressImage(...e))},null,40,["src"])):a("",!0)])):a("",!0),i("div",{class:"press-dialog__btn--wrap"},[e.dataCancelText&&e.dataCancelText.length>0?(f(),s(r,{key:0},[i("div",{class:"press-dialog__btn--spacing"},[d(w,{type:"e-sport-secondary","custom-style":"width: 100px;height: 36px;",onClick:v.cancel},{default:p((()=>[C(n(e.dataCancelText),1)])),_:1},8,["onClick"])]),d(w,{type:"e-sport-primary-bg",loading:y.mShowButtonLoading,"custom-style":"width: 100px;height: 36px;",onClick:v.confirm},{default:p((()=>[C(n(y.mShowButtonLoading?"":e.dataConfirmText),1)])),_:1},8,["loading","onClick"])],64)):e.dataConfirmText||y.mShowButtonLoading?(f(),l(w,{key:1,type:"e-sport-primary-bg",loading:y.mShowButtonLoading,"custom-style":"width: 148px;height: 36px;",onClick:v.confirm},{default:p((()=>[C(n(y.mShowButtonLoading?"":e.dataConfirmText),1)])),_:1},8,["loading","onClick"])):a("",!0)])])],38)):a("",!0)}],["__scopeId","data-v-d61c8100"]]);let L=[];const O=Object.keys(T).reduce(((e,t)=>(e[t]=T[t].default,e)),{selector:"#tip-match-comm-tips-dialog"});let j=Object.assign({},O);const F=e=>k({options:e,currentOptions:j,id:"tip-dialog-showCommTipsDialog",dialogComponent:x});F.show=e=>F(e),b({Dialog:F,queue:L,currentOptions:j,defaultOptions:O,updateQueue:function(e){L=e},updateCurrentOptions:function(e){j=e}});const B={banner:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/12/own_mike_b13775d107c0b0a6b5.jpg",title:"Press Next",description:"基于 Press UI 的 Vue3 组件库",cellList:[{img:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/10/own_mike_f7ed201e31e34255d0.png",title:"关于 Press Next",desc:"一套灵活、易用的跨端组件库",callback:"INTRODUCE"},{img:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/10/own_mike_2f0015528742ab3f15.png",title:"开发交流",desc:"欢迎提供意见、建议、想法",callback:"GROUP_QRCODE"}],groupQRCode:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press/img/qq-group-1212.png"};const D=t({components:{PressDialogComp:x,PressAbout:t({name:"PressAbout",components:{PressDialogComp:x},props:{helpConfig:{type:Object,default:()=>({})}},data:()=>({}),mounted(){},methods:{jumpToIntroduce(){_.call(this,"/pages/index/introduce")},showGroupQrCode(){F.show({context:this,title:"Press UI 交流群",content:"QQ扫码加入",confirmText:"",src:this.helpConfig.groupQRCode})},clickCell(e){"INTRODUCE"===e.callback?this.jumpToIntroduce():"GROUP_QRCODE"===e.callback&&this.showGroupQrCode()}}},[["render",function(e,t,o,a,l,c){const p=v,u=g("PressDialogComp");return f(),s("div",{class:"press-about"},[i("div",{class:"press-about__header"},[d(p,{class:"press-about__banner",src:o.helpConfig.banner,mode:"aspectFill"},null,8,["src"]),i("div",{class:"press-about__slogan"},[i("div",{class:"press-about__title"},n(o.helpConfig.title),1),i("div",{class:"press-about__subtitle"},n(o.helpConfig.description),1)])]),i("div",{class:"press-about__main"},[i("div",{class:"press-about__help"},[(f(!0),s(r,null,y(o.helpConfig.cellList,((e,t)=>(f(),s("div",{key:t,class:"press-about__cell",onClick:t=>c.clickCell(e)},[i("div",{class:"press-about__cell-left"},[i("img",{src:e.img,class:"press-about__cell-img"},null,8,["src"])]),i("div",{class:"press-about__cell-right"},[i("div",{class:"press-about__cell-title"},n(e.title),1),i("div",{class:"press-about__cell-desc"},n(e.desc),1)])],8,["onClick"])))),128))])]),d(u,{id:"tip-match-comm-tips-dialog",ref:"tip-match-comm-tips-dialog"},null,512)])}],["__scopeId","data-v-3633b5b0"]])},data:()=>({helpConfig:B}),mounted(){},methods:{}},[["render",function(e,t,o,a,i,l){const n=g("PressAbout"),c=g("PressDialogComp");return f(),s("div",{class:"about"},[d(n,{"help-config":i.helpConfig},null,8,["help-config"]),d(c,{id:"tip-match-comm-tips-dialog",ref:"tip-match-comm-tips-dialog"},null,512)])}],["__scopeId","data-v-c59594b4"]]);export{D as default};
