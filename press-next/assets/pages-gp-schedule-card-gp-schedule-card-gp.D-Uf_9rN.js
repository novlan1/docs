import{b as t}from"./index.v7nL_M0C.js";import{b5 as e,b6 as n,b7 as o,b8 as i,_ as a,c as s,a as c,b as r,w as l,i as u,J as d,e as p,n as m,r as h,o as _,d as C,h as g,j as I,F as S,l as T,V as f,f as k,a8 as w,t as b,X as A,b9 as B,m as y,D as L,E as v,W as M,P as x}from"./index-DdqTp3oi.js";import{t as D}from"./function.ChccDkXR.js";import{P}from"./press-button.CZkGdPk2.js";import{P as N}from"./press-switch.LbyQ9vLk.js";import{P as R}from"./press-field.DLYFevr5.js";import{C as O,a as E,M as G,b as U,c as F,d as H,e as K,f as $,g as V,D as Y,p as W,S as q,h as z,i as j}from"./utils.Bv7uYEXv.js";import{P as J}from"./press-count-down.DznCcd7E.js";const X={POPUP_CELL:"press-popup-cell-functional",POPUP_CELL_2:"press-popup-cell-functional-2",PICKER:"press-picker-functional",DATE_TIME_PICKER:"press-datetime-picker-popup-functional"};const Z=(t,{showProp:i,propsKeyMap:a}={showProp:!0,propsKeyMap:{}})=>{const s={},c={};return i&&(s.show={type:Boolean,default:!0},c.show={handler(t){this.isFunctionMode||(t?this.innerShow=!0:setTimeout((()=>{this.innerShow=!1}),300))},immediate:!0}),{props:{...t,...s,mode:{type:String,default:""}},data:()=>({innerShow:!1,functionModeData:{...n(t)}}),computed:{isFunctionMode(){return this.mode===o}},watch:{...c},methods:{closeDialog(){this.innerShow=!1},showDialog(e){e&&(this.functionModeData={...n(t),...e}),this.innerShow=!0},getPropOrData(n){const{isFunctionMode:o,functionModeData:i}=this;return e({allProps:t,isFunctionMode:o,functionModeData:i,propsKeyMap:a,key:n,context:this})},promiseCallback(t,e={}){const{callback:n}=this.functionModeData;"function"==typeof n&&n(t,{context:this,...e})}}}},Q={arrowIcon:"showBackArrow",closeIcon:"isShowpopupClose",showTitle:"isShowTitle",horizontal:"isCrossSlab",title:"popupTitle",button:"popupTitleBtn",borderButton:"isBorderBtn",closeOnClickOverlay:"canTouchRemove",confirm:"onConfirm",cancel:"onCancel"},tt={customStyle:{type:String,default:""},showTitle:{type:Boolean,default:!0,required:!1},widthNumber:{type:Number,default:100,required:!1},horizontal:{type:Boolean,default:!1,required:!1},closeIcon:{type:Boolean,default:!1,required:!1},arrowIcon:{type:Boolean,default:!1},title:{type:String,default:"",required:!1},button:{type:String,default:"",required:!1},borderButton:{type:Boolean,default:!1,required:!1},disabledButton:{type:Boolean,default:!1,required:!1},validateConfirm:{type:[Function,null],default:null},isShow:{type:Boolean,default:!0,required:!1},zIndex:{type:String,default:"99",required:!1},popupClass:{type:String,default:"",required:!1},closeOnClickOverlay:{type:Boolean,default:!0},asyncClose:{type:[Function,null],default:null},asyncCancel:{type:[Function,null],default:null},asyncConfirm:{type:[Function,null],default:null},mode:{type:String,default:""},lockScroll:{type:Boolean,default:!1}},et=i(tt,Q);const nt=a({name:"PressPopup",components:{PressButton:P},props:{...et},options:{virtualHost:!0,styleIsolation:"shared"},emits:["onCancel","cancel","onConfirm","confirm"],data(){return{isEnter:!0,innerShow:this.mode!==o&&!!this.isShow,timer:0,watchShowTimer:null,functionModeData:{...n(et)}}},computed:{buttonType(){return this.getPropOrData("borderButton")?"e-sport-border":this.getPropOrData("disabledButton")?"e-sport-primary-disabled":"e-sport-primary"},popupStyle(){const t=this.getPropOrData("customStyle"),e=this.getPropOrData("zIndex");return"z-index: ".concat(e,";").concat(t,";")},isFunctionMode(){return this.mode===o}},watch:{isShow:{handler(t){this.isFunctionMode||(this.isEnter=t,t?(clearTimeout(this.watchShowTimer),this.innerShow=!0):(clearTimeout(this.watchShowTimer),this.watchShowTimer=setTimeout((()=>{this.innerShow=!1}),300)))},immediate:!0},isEnter:{handler(t){document.body.style.overflowY=t?"hidden":""},immediate:!0}},mounted(){},beforeDestroy(){this.onBeforeDestroy()},beforeUnmount(){this.onBeforeDestroy()},methods:{onBeforeDestroy(){clearTimeout(this.timer)},showDialog(t){t&&(this.functionModeData={...this.functionModeData,...t}),this.innerShow=!0,this.isEnter=!0},getPropOrData(t){return e({allProps:et,isFunctionMode:this.isFunctionMode,functionModeData:this.functionModeData,propsKeyMap:Q,key:t,context:this})},preventTouchMove(){},onClickTouch(){this.getPropOrData("closeOnClickOverlay")&&this.clickCancel()},clickCancel(){"function"!=typeof this.asyncCancel?"function"!=typeof this.asyncClose?this.$parent.validateCancel?D(this.$parent.validateCancel()).then((t=>{t&&this.emitCancel()})):this.emitCancel():D(this.asyncClose()).then((t=>{t&&this.emitCancel()})):D(this.asyncCancel()).then((t=>{t&&this.emitCancel()}))},emitCancel(){this.isEnter=!1,this.timer=setTimeout((()=>{this.$emit("onCancel"),this.$emit("cancel"),this.innerShow=!1}),300);const{callback:t}=this.functionModeData;"function"==typeof t&&t("cancel")},clickConfirm(){"function"!=typeof this.asyncConfirm?this.$parent.validateConfirm?D(this.$parent.validateConfirm()).then((t=>{t&&this.emitConfirm()})):this.emitConfirm():D(this.asyncConfirm()).then((t=>{t&&this.emitConfirm()}))},emitConfirm(){this.isEnter=!1,this.timer=setTimeout((()=>{this.$emit("onConfirm"),this.$emit("confirm"),this.innerShow=!1}),300);const{callback:t}=this.functionModeData;"function"==typeof t&&t("confirm")}}},[["render",function(t,e,n,o,i,a){const S=h("PressButton");return i.innerShow?(_(),s("div",{key:0,class:u(["press-popup",a.getPropOrData("popupClass"),a.getPropOrData("horizontal")?"press-popup__hor":"press-popup__vert","white"===t.mode?"press-popup--white":""]),style:m(a.popupStyle),onTouchmove:e[6]||(e[6]=l(((...t)=>a.preventTouchMove&&a.preventTouchMove(...t)),["stop"]))},[t.lockScroll?(_(),s("div",{key:0,class:u(["press-popup--mask",i.isEnter?"press--animation__fade-in":"press--animation__fade-out"]),onClick:e[0]||(e[0]=l(((...t)=>a.onClickTouch&&a.onClickTouch(...t)),["stop"])),onTouchmove:e[1]||(e[1]=l(((...t)=>a.preventTouchMove&&a.preventTouchMove(...t)),["stop","prevent"]))},null,34)):(_(),s("div",{key:1,class:u(["press-popup--mask",i.isEnter?"press--animation__fade-in":"press--animation__fade-out"]),onClick:e[2]||(e[2]=l(((...t)=>a.onClickTouch&&a.onClickTouch(...t)),["stop"]))},null,2)),r("div",{class:u(["press-popup--content",i.isEnter?a.getPropOrData("horizontal")?"press--animation__right-enter":"press--animation__bottom-enter":a.getPropOrData("horizontal")?"press--animation__right-leave":"press--animation__bottom-leave"]),style:m({width:a.getPropOrData("horizontal")?"".concat(a.getPropOrData("widthNumber"),"%"):"100%"})},[a.getPropOrData("showTitle")||a.getPropOrData("horizontal")&&a.getPropOrData("closeIcon")&&a.getPropOrData("arrowIcon")?c("",!0):(_(),s("div",{key:0,class:"press-popup--title-line",onClick:e[3]||(e[3]=l(((...t)=>a.clickCancel&&a.clickCancel(...t)),["stop"]))})),a.getPropOrData("showTitle")?(_(),s("div",{key:1,class:"press-popup--title-wrap"},[r("div",{class:"press-popup__left"},[d(t.$slots,"icon",{},(()=>[a.getPropOrData("closeIcon")?(_(),s("div",{key:0,class:"press-popup--close iconfont icon-close",onClick:e[4]||(e[4]=l(((...t)=>a.clickCancel&&a.clickCancel(...t)),["stop"]))})):a.getPropOrData("arrowIcon")?(_(),s("div",{key:1,class:"press-popup--arrow iconfont icon-back",onClick:e[5]||(e[5]=l(((...t)=>a.clickCancel&&a.clickCancel(...t)),["stop"]))})):c("",!0)]),!0)]),a.getPropOrData("title")?(_(),s("p",{key:0,class:"press-popup--title"},p(a.getPropOrData("title")),1)):d(t.$slots,"title",{key:1},void 0,!0),r("div",{class:"press-popup--title-btn-wrap"},[d(t.$slots,"button",{},(()=>[a.getPropOrData("button")?(_(),C(S,{key:0,type:a.buttonType,"custom-style":"width:auto;height:100%;padding:0 10px;font-size:inherit;",onClick:a.clickConfirm},{default:g((()=>[I(p(a.getPropOrData("button")),1)])),_:1},8,["type","onClick"])):c("",!0)]),!0)])])):c("",!0),d(t.$slots,"default",{},void 0,!0)],6)],38)):c("",!0)}],["__scopeId","data-v-9d75ce21"]]),ot=["showTitle","closeIcon","arrowIcon","title","button","borderButton","zIndex","popupClass","closeOnClickOverlay","customStyle"].reduce(((t,e)=>(t[e]=tt[e],t)),{}),it={SWITCH:"switch",CHECKBOX:"checkbox",BUTTON:"button",TAB:"tab",CELL:"cell"};let at;const st=a({name:"PressPopupCell",options:{virtualHost:!0},components:{PressPopup:nt,PressSwitch:N},mixins:[Z({...ot,tip:{type:String,default:""},cellList:{type:Array,default:()=>[]}})],props:{},emits:["click","cancel","confirm"],data(){return at=this,{POPUP_CELL_TPE_MAP:it,checkedIndexList:[]}},computed:{computedCellList(){return(this.getPropOrData("cellList")||[]).map(((t,e)=>"string"==typeof t.description?{...t,description:[{light:!1,content:t.description,uniqueKey:"".concat(e,"-desc-0")}]}:{...t,tabList:(t.tabList||[]).map(((t,n)=>({...t,uniqueKey:"".concat(e,"-tab-").concat(n)}))),description:(t.description||[]).map(((t,n)=>({...t,uniqueKey:"".concat(e,"-desc-").concat(n)})))}))}},watch:{cellList:{handler(){this.getCheckedList()},immediate:!0,deep:!0},functionModeData:{handler(){this.getCheckedList()},immediate:!0,deep:!0}},methods:{getCheckedList(){at=this;const t=(this.getPropOrData("cellList")||[]).map(((t,e)=>({...t,index:e}))).filter((t=>t.checked)).map((t=>t.index));this.checkedIndexList=t},emitClick({shouldEmitClick:t=!0,item:e,index:n,options:o={}}){const{click:i}=e,a={item:e,index:n,context:this,...o};"function"==typeof i&&i(a),t&&this.$emit("click",a)},onTabChange(t,e,n,o){this.emitClick({item:t,index:e,options:{tabItem:n,tabIndex:o}})},onClickDescription(t,e){this.emitClick({shouldEmitClick:!1,item:t,index:e,options:{}})},onCheckboxChange(t,e){this.onClickCell(t,e)},onSwitchChange(t,e){let n;t.disabled||(n=!t.open),this.emitClick({item:this.computedCellList[e],index:e,options:{value:n}})},onClickCell(t,e){const{click:n}=t,{checkedIndexList:o}=this,i={item:t,index:e,context:this};if(t.type===it.CHECKBOX){const t=o.indexOf(e)>-1;i.value=t,this.checkedIndexList=t?o.filter((t=>t!==e)):o.concat([e]).sort()}"function"==typeof n&&n(i),this.$emit("click",i)},onClickBottomButton(){this.$emit("cancel",{context:this}),this.promiseCallback("cancel")},confirm(){this.$emit("confirm",{context:this}),this.promiseCallback("confirm",{checkedIndexList:this.checkedIndexList})},cancel(){this.$emit("cancel",{context:this}),this.promiseCallback("cancel",{checkedIndexList:this.checkedIndexList})},onAsyncConfirm(){const t=at.getPropOrData("asyncConfirm");return!t||t({checkedIndexList:at.checkedIndexList,context:at})}}},[["render",function(t,e,n,o,i,a){const d=h("PressSwitch"),m=h("PressPopup");return _(),C(m,{"is-show":t.innerShow,"show-title":t.getPropOrData("showTitle"),"close-icon":t.getPropOrData("closeIcon"),"arrow-icon":t.getPropOrData("arrowIcon"),title:t.getPropOrData("title"),button:t.getPropOrData("button"),"border-button":t.getPropOrData("borderButton"),"z-index":t.getPropOrData("zIndex"),"popup-class":t.getPropOrData("popupClass"),"close-on-click-overlay":t.getPropOrData("closeOnClickOverlay"),"custom-style":t.getPropOrData("customStyle"),"async-confirm":a.onAsyncConfirm,onConfirm:a.confirm,onCancel:a.cancel},{default:g((()=>[(_(!0),s(S,null,T(a.computedCellList,((t,e)=>(_(),s("div",{key:e,class:u(["press-popup-cell__item",{"press-popup-cell__item--switch":t.type===i.POPUP_CELL_TPE_MAP.SWITCH,"press-popup-cell__item--checkbox":t.type===i.POPUP_CELL_TPE_MAP.CHECKBOX,"press-popup-cell__item--button":t.type===i.POPUP_CELL_TPE_MAP.BUTTON}]),onClick:l((n=>a.onClickCell(t,e)),["stop"])},[t.type===i.POPUP_CELL_TPE_MAP.BUTTON?(_(),s("div",{key:0},p(t.label),1)):(_(),s(S,{key:1},[r("div",{class:"press-popup-cell__label"},[r("div",{class:"press-popup-cell__title"},p(t.label),1),t.description&&t.description.length?(_(),s("div",{key:0,class:"press-popup-cell__description-wrap"},[(_(!0),s(S,null,T(t.description,((e,n)=>(_(),s("span",{key:e.uniqueKey},[r("span",{class:u({"press-popup-cell__description":!0,"press-popup-cell__description--light":e.light}),onClick:l((o=>a.onClickDescription(e,n,t)),["stop"])},p(e.content),11,["onClick"])])))),128))])):c("",!0)]),r("div",{class:"press-popup-cell__value"},[t.type===i.POPUP_CELL_TPE_MAP.SWITCH?(_(),C(d,{key:0,"custom-class":"press-switch--e-sport",open:t.open,disabled:t.disabled||!1,onClick:n=>a.onSwitchChange(t,e)},null,8,["open","disabled","onClick"])):t.type===i.POPUP_CELL_TPE_MAP.TAB?(_(),s("div",{key:1,class:"press-popup-cell__tabs"},[(_(!0),s(S,null,T(t.tabList,((n,o)=>(_(),s("div",{key:n.uniqueKey,class:u(["press-popup-cell__tab",{"press-popup-cell__tab--active":t.active===n.value}]),onClick:l((i=>a.onTabChange(t,e,n,o)),["stop"])},p(n.label),11,["onClick"])))),128))])):t.type===i.POPUP_CELL_TPE_MAP.CHECKBOX?(_(),s("div",{key:2,class:u(["press-popup-cell__checkbox",{"press-popup-cell__checkbox--checked":i.checkedIndexList.indexOf(e)>-1}]),onClick:l((n=>a.onCheckboxChange(t,e)),["stop"])},null,10,["onClick"])):(_(),s(S,{key:3},[I(p(t.value)+" ",1),r("div",{class:"iconfont icon-back"})],64))])],64))],10,["onClick"])))),128)),t.getPropOrData("tip")?(_(),s("div",{key:0,class:"press-popup-cell__tip"},p(t.getPropOrData("tip")),1)):c("",!0),t.getPropOrData("bottomButton")?(_(),s("div",{key:1,class:"press-popup-cell__bottom-button",onClick:e[0]||(e[0]=l(((...t)=>a.onClickBottomButton&&a.onClickBottomButton(...t)),["stop"]))},p(t.getPropOrData("bottomButton")),1)):c("",!0)])),_:1},8,["is-show","show-title","close-icon","arrow-icon","title","button","border-button","z-index","popup-class","close-on-click-overlay","custom-style","async-confirm","onConfirm","onCancel"])}],["__scopeId","data-v-1c4f9fbe"]]);const ct=a({name:"PressDemoInput",i18n:{"zh-CN":{custom:"自定义",mockData:"自定义数据"},"en-US":{custom:"Custom",mockData:"Custom Data"}},components:{PressField:R,PressButton:P,PressDemoBlock:f},props:{value:{type:String,default:""},sectionStyle:{type:String,default:"margin: 0;background: #f7f8fa;"},headerStyle:{type:String,default:"background: #f7f8fa;"},autosize:{type:[Boolean,Object],default:()=>({maxHeight:600,minHeight:50})}},data(){return{inputValue:this.value}},watch:{value:{handler(t){this.inputValue=t}}},mounted(){},methods:{onClearInput(){this.inputValue=""},onConfirmInput(){this.$emit("confirm",this.inputValue)}}},[["render",function(t,e,n,o,i,a){const s=h("PressField"),c=h("PressButton"),l=h("PressDemoBlock");return _(),C(l,{title:t.t("mockData"),"section-style":n.sectionStyle,"header-style":n.headerStyle},{default:g((()=>[r("div",{class:"input__wrap"},[k(s,{modelValue:i.inputValue,"onUpdate:modelValue":e[0]||(e[0]=t=>i.inputValue=t),type:"textarea",autosize:n.autosize,placeholder:"请输入数据"},null,8,["modelValue","autosize"]),r("div",{class:"input__buttons"},[k(c,{size:"small","custom-style":"margin-left: 0; margin-right: 8px",onClick:a.onClearInput},{default:g((()=>[I(" 清空 ")])),_:1},8,["onClick"]),k(c,{type:"primary","custom-style":"margin: 0;",size:"small",onClick:a.onConfirmInput},{default:g((()=>[I(" 确定 ")])),_:1},8,["onClick"])])])])),_:1},8,["title","section-style","header-style"])}],["__scopeId","data-v-65e1fc2b"]]),rt={arrowIcon:"showBackArrow",list:"selectList",current:"selectItem",confirm:"onClickConfirm",cancel:"onRemove"},lt=i({arrowIcon:{type:Boolean,default:!1},title:{type:String,default:""},list:{type:Array,default:()=>[],required:!1},current:{type:Object,default:null,required:!1},tip:{type:String,default:"",required:!1},confirm:{type:Function,default:null,required:!1},cancel:{type:Function,default:null,required:!1},virtualListThreshold:{type:Number,default:50},horizontal:{type:Boolean,default:!1}},rt);function ut(t){return t.changedTouches&&t.changedTouches[0]?t.changedTouches[0]:t.touches&&t.touches[0]?t.touches[0]:t}const dt=a({name:"PressPicker",options:{styleIsolation:"shared"},components:{PickerInner:a({components:{PressPopup:nt,PressPickerView:a({name:"PressPickerView",props:{data:{type:Array,default:()=>[{label:"test"},{label:"test"},{label:"test"},{label:"test"},{label:"test"},{label:"test"}],required:!0},current:{type:Object,default:null,required:!1},hasTip:{type:Boolean,default:!1,required:!1},virtualListThreshold:{type:Number,default:50},horizontal:{type:Boolean,default:!1}},options:{virtualHost:!0},emits:["currentIndexChanged"],data:()=>({currentIndex:0,currentScroll:0,start:0,startScroll:0,move:0,itemHeight:56,downX:0,downY:0,upX:0,upY:0,lastMove:0,lastTime:0,speed:0,hasClick:!1,slideLimitNum:10,slideTimeThreshold:300}),computed:{upMissed(){const{currentIndex:t,virtualListThreshold:e}=this;return Math.max(0,t-e)},hiddenUpPartStyle(){const{itemHeight:t,upMissed:e}=this;return"height: ".concat(e*t,"px;")},hiddenBottomPartStyle(){const{currentIndex:t,data:e,itemHeight:n,virtualListThreshold:o}=this;return"height: ".concat((e.length-t-o)*n,"px;")},showingData(){const{currentIndex:t,virtualListThreshold:e,upMissed:n}=this;return this.data.slice(n,t+e).map(((t,e)=>({...t,uniqueKey:e+n})))},transformStyle(){return"transform: translate3d(0, ".concat(this.currentScroll,"px, 0);")},slideLimitDistance(){return this.slideLimitNum*this.itemHeight}},watch:{data(t){return this.updateCurrent(),t},current(t){return this.updateCurrent(),t},currentIndex:{handler(t){this.$emit("currentIndexChanged",t)},deep:!0}},created(){},mounted(){w(this,".press-picker-view--item__active").then((t=>{this.itemHeight=t.height,this.updateCurrent()})),this.updateCurrent(),document.addEventListener("mouseup",this.mouseUp)},beforeDestroy(){this.onBeforeDestroy()},beforeUnmount(){this.onBeforeDestroy()},methods:{onBeforeDestroy(){document.removeEventListener("mouseup",this.mouseUp)},mouseDown(t){document.addEventListener("mousemove",this.mouseMove),this.handleStart(t)},mouseMove(t){this.handleMove(t)},mouseUp(){document.removeEventListener("mousemove",this.mouseMove),this.handleEnd()},handleStart(t){const e=ut(t);this.start=null==e?void 0:e.clientY,this.startScroll=this.currentScroll,this.lastMove=0,this.lastTime=(new Date).getTime()},handleMove(t){const e=ut(t);this.move=(null==e?void 0:e.clientY)-this.start;let n=this.startScroll+this.move;n=Math.min(0,n),n=Math.max(-(this.data.length-1)*this.itemHeight,n),this.currentScroll=n;const o=Math.round(this.currentScroll/this.itemHeight);this.currentIndex=-o,this.time=(new Date).getTime(),this.time!==this.lastTime&&(this.speed=(this.move-this.lastMove)/(this.time-this.lastTime)),this.lastMove=this.move,this.lastTime=this.time},handleEnd(){if(this.hasClick)return void(this.hasClick=!1);let t=0;(new Date).getTime()-this.lastTime<this.slideTimeThreshold&&(t=this.speed*this.slideTimeThreshold/2,t=Math.min(this.slideLimitDistance,t),t=Math.max(-this.slideLimitDistance,t));let e=this.currentScroll+t;e=Math.min(0,e),e=Math.max(-(this.data.length-1)*this.itemHeight,e);const n=Math.round(e/this.itemHeight);this.currentScroll=n*this.itemHeight,this.currentIndex=-n},getCurrentItem(){return this.data[this.currentIndex]},updateCurrent(){if(this.current){const t=this.data.find((t=>t.value==this.current.value));this.currentIndex=this.data.indexOf(t),this.currentScroll=-this.currentIndex*this.itemHeight}},itemDown(t){const e=ut(t);this.downX=null==e?void 0:e.clientX,this.downY=null==e?void 0:e.clientY,this.upX=null==e?void 0:e.clientX,this.upY=null==e?void 0:e.clientY},itemMove(t){const e=ut(t);this.upX=null==e?void 0:e.clientX,this.upY=null==e?void 0:e.clientY},itemUp(t){const{uniqueKey:e}=t.currentTarget.dataset;this.twoPointDistance({x:this.downX,y:this.downY},{x:this.upX,y:this.upY})<10&&(this.currentIndex=e,this.currentScroll=-this.currentIndex*this.itemHeight,this.hasClick=!0)},twoPointDistance:(t,e)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),getElementIndex:t=>parseInt(t.id,10)}},[["render",function(t,e,n,o,i,a){return _(),s("div",{class:u(["press-picker-view",[n.hasTip?"press-picker-view__tip":"",n.horizontal?"press-picker-view--hor":""]]),onMousedown:e[6]||(e[6]=l(((...t)=>a.mouseDown&&a.mouseDown(...t)),["stop","prevent"])),onMouseup:e[7]||(e[7]=l(((...t)=>a.mouseUp&&a.mouseUp(...t)),["stop","prevent"])),onTouchstart:e[8]||(e[8]=l(((...t)=>a.handleStart&&a.handleStart(...t)),["stop","prevent"])),onTouchmove:e[9]||(e[9]=l(((...t)=>a.handleMove&&a.handleMove(...t)),["stop","prevent"])),onTouchend:e[10]||(e[10]=l(((...t)=>a.handleEnd&&a.handleEnd(...t)),["stop","prevent"]))},[r("div",{ref:"dropListMask",class:"press-picker-view--mask"},null,512),r("div",{ref:"dropListIndicator",class:"press-picker-view--indicator"},null,512),r("div",{ref:"DropListContent",class:"press-picker-view--content",style:m(a.transformStyle)},[r("div",{style:m(a.hiddenUpPartStyle)},null,4),(_(!0),s(S,null,T(a.showingData,((t,n)=>(_(),s("div",{key:n,class:u(["press-picker-view--item",[t.uniqueKey==i.currentIndex?"press-picker-view--item__active":""]]),"data-unique-key":t.uniqueKey,onMousedown:e[0]||(e[0]=(...t)=>a.itemDown&&a.itemDown(...t)),onMousemove:e[1]||(e[1]=(...t)=>a.itemMove&&a.itemMove(...t)),onMouseup:e[2]||(e[2]=(...t)=>a.itemUp&&a.itemUp(...t)),onTouchstart:e[3]||(e[3]=(...t)=>a.itemDown&&a.itemDown(...t)),onTouchmove:e[4]||(e[4]=(...t)=>a.itemMove&&a.itemMove(...t)),onTouchend:e[5]||(e[5]=(...t)=>a.itemUp&&a.itemUp(...t))},p(t.label),43,["data-unique-key"])))),128)),r("div",{style:m(a.hiddenBottomPartStyle)},null,4)],4)],34)}],["__scopeId","data-v-c0cc4646"]])},props:{title:{type:String,default:"",required:!1},arrowIcon:{type:Boolean,default:!1},tip:{type:String,default:"",required:!1},data:{type:Array,default:()=>[],required:!0},current:{type:Object,default:null,required:!1},virtualListThreshold:{type:Number,default:50},horizontal:{type:Boolean,default:!1}},options:{virtualHost:!0,styleIsolation:"shared"},emits:["onSelect","onCancel"],data:()=>({currentIndex:-1}),mounted(){},methods:{t:b,onCurrentIndexChanged(t){this.currentIndex=t},onConfirm(){var t,e;(null==(t=this.$refs)?void 0:t.picker)?this.$emit("onSelect",this.$refs.picker.getCurrentItem()):this.$emit("onSelect",null==(e=this.data)?void 0:e[this.currentIndex])},onCancel(){this.$emit("onCancel")}}},[["render",function(t,e,n,o,i,a){const r=h("PressPickerView"),l=h("PressPopup");return _(),C(l,{"close-icon":!n.arrowIcon,"show-back-arrow":n.arrowIcon,title:n.title,button:a.t("picker.confirm"),mode:"white",horizontal:n.horizontal,"width-number":54,"popup-class":"press-popup-picker",class:u(n.tip?"press-picker__tip":""),onCancel:a.onCancel,onConfirm:a.onConfirm},{default:g((()=>[n.tip?(_(),s("div",{key:0,class:"press-picker--tip"},p(n.tip),1)):c("",!0),k(r,{ref:"picker",data:n.data,"has-tip":!!n.tip,current:n.current,horizontal:n.horizontal,"virtual-list-threshold":n.virtualListThreshold,onCurrentIndexChanged:a.onCurrentIndexChanged},null,8,["data","has-tip","current","horizontal","virtual-list-threshold","onCurrentIndexChanged"])])),_:1},8,["close-icon","show-back-arrow","title","button","horizontal","class","onCancel","onConfirm"])}],["__scopeId","data-v-8ed2d1bb"]])},mixins:[Z(lt,{showProp:!1,propsKeyMap:rt})],props:{},emits:["onClickConfirm","confirm","onRemove","cancel"],data:()=>({}),mounted(){this.isFunctionMode||this.showDialog()},methods:{onClickSelect(t){this.$emit("onClickConfirm",t),this.$emit("confirm",t),this.innerShow=!1,this.getPropOrData("confirm")&&this.getPropOrData("confirm")(t),this.promiseCallback("confirm",{item:t}),setTimeout((()=>{this.destroy()}),100)},remove(){this.$emit("onRemove"),this.$emit("cancel"),this.innerShow=!1,this.getPropOrData("cancel")&&this.getPropOrData("cancel")(),this.promiseCallback("cancel"),setTimeout((()=>{this.destroy()}),100)},destroy(){var t,e,n,o;this.isFunctionMode||(null==(t=null==this?void 0:this.$destroy)||t.call(this),document.body.contains(this.$el)&&(null==(o=null==(n=null==(e=this.$el)?void 0:e.parentElement)?void 0:n.removeChild)||o.call(n,this.$el)))}}},[["render",function(t,e,n,o,i,a){const s=h("PickerInner");return t.innerShow?(_(),C(s,{key:0,data:t.getPropOrData("list"),current:t.getPropOrData("current"),title:t.getPropOrData("title"),"arrow-icon":t.getPropOrData("arrowIcon"),tip:t.getPropOrData("tip"),"virtual-list-threshold":t.getPropOrData("virtualListThreshold"),horizontal:t.getPropOrData("horizontal"),onOnCancel:a.remove,onOnSelect:a.onClickSelect},null,8,["data","current","title","arrow-icon","tip","virtual-list-threshold","horizontal","onOnCancel","onOnSelect"])):c("",!0)}]]),pt=t=>{var e;return null==(e=("".concat(null==t?void 0:t.battle_id)||"").split("_"))?void 0:e[4]},mt=(t,e={})=>{const{teama_id:n,teamb_id:o,teama_score:i,teamb_score:a}=e;return t===n?i||0:t===o?a||0:void 0};function ht({battleList:t,myTeamIdOrUId:e=""}){return t.map(((t,n)=>{var o;return{scoreOrRank:mt(e,t.schScore)||0,title:"第".concat(null!=(o=pt(t))?o:n+1,"局"),isWin:100===t.battle_result,isFail:200===t.battle_result,isTie:!1,isPending:300===t.battle_result}}))}function _t({label:e="当前状态",value:n,context:o,statusList:i,current:a,callback:s,paramKey:c}){return{label:e,value:n,click:({context:e})=>{var n;e.closeDialog(),(n={context:o,title:"当前状态",closeIcon:!0,list:i,current:{value:a}},t({selector:"#".concat(X.PICKER),...n})).then((({item:t})=>{o.onGTip("设置成功"),"function"==typeof s&&s.call(o,{[c]:t.value})})).catch((()=>{}))}}}const Ct={MATCH_NOT_START:"MATCH_NOT_START",MATCH_STARTED:"MATCH_STARTED",MATCHING:"MATCHING",MATCH_SUCCESS:"MATCH_SUCCESS",MATCH_FAIL:"MATCH_FAIL",BATTLE_END:"BATTLE_END"};function gt({context:e,callback:n,mockData:o}){const i=Object.keys(U).map((t=>({label:t,value:t}))),{cardState:a,isManualStart:s,isVirtualRoom:c,battleList:r,curGoingBattleIndex:l,matchingStatus:u}=o;var d;d={context:e,title:"自定义设置",closeIcon:!0,cellList:[{label:"是否手动开赛",type:"switch",open:s,click:({context:t})=>{t.closeDialog(),e.onGTip("设置成功"),"function"==typeof n.changeParams&&n.changeParams.call(e,{isManualStart:!s})}},{label:"是否为虚拟房间",type:"switch",open:c,click:({context:t})=>{t.closeDialog(),e.onGTip("设置成功"),"function"==typeof n.changeParams&&n.changeParams.call(e,{isVirtualRoom:!c})}},_t({label:"卡片状态",value:U[a],context:e,statusList:i,current:a,callback:n.changeParams,paramKey:"cardState"}),_t({label:"当前场次",value:"第 ".concat(l+1," 场"),context:e,statusList:r.map(((t,e)=>({label:"第 ".concat(e+1," 场"),value:e}))),current:l,callback:n.changeParams,paramKey:"curGoingBattleIndex"}),_t({label:"匹配循环赛状态",value:u,context:e,statusList:Object.keys(Ct).map((t=>({label:t,value:t}))),current:u,callback:n.changeParams,paramKey:"matchingStatus"})]},t({selector:"#".concat(X.POPUP_CELL),...d}).then((t=>{const{context:e={}}=t||{};e.closeDialog()})).catch((t=>{const{context:e={}}=t||{};e.closeDialog()}))}function It(t){const e=parseInt("".concat(Date.now()/1e3),10);return console.log("matchingStatus",t),t===Ct.MATCH_NOT_START?{actStartTime:e+600}:t===Ct.MATCH_STARTED?{matchingStatus:G.UN_JOIN}:t===Ct.MATCHING?{matchingStatus:G.ON_GOING}:t===Ct.MATCH_SUCCESS?{matchingStatus:G.SUCCESS}:t===Ct.MATCH_FAIL?{matchingStatus:G.FAILED}:t===Ct.BATTLE_END?{actEndTime:e-600}:{}}const St={leftIconFont:H.CHECK_OPPONENTS,leftIconText:F.CHECK_OPPONENTS,rightIconFont:H.CHECK_PLAYING_LIST,rightIconText:F.CHECK_PLAYING_LIST},Tt="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2024/1/own_mike_b4dd7d92644d642238.png",ft="press-plus-schedule-card-gp-state",kt={getLocal:()=>B.get(ft),setLocal(t){B.set(ft,t)}},wt={gameRank:1,mainButton:"查看详细数据",mainButtonClass:"press-card__button--invalid",leftIconFont:"icon-gift",leftIconText:"查看奖励",rightIconFont:"icon-team-member",rightIconText:"查看对手",showRoleInfo:!0,roleName:"角色名称",device:"iOS",roleId:"888888888",childName:"子活动名称",childType:"团队赛",battleList:Array.from({length:5}).map(((t,e)=>{const n=Date.now()+36e5*(e+1);return{title:"第".concat(e+1,"场"),timeDesc:A(n,"MM-dd hh:mm"),time:n}})),curShowingBattleIndex:0,curGoingBattleIndex:0,cardState:kt.getLocal()||U.BATTLE_STARTED,isManualStart:!1,isVirtualRoom:!1,signUpTitle:"距离报名截止",joinRoomTime:6e5+Date.now(),signUpCountdown:864e6,battleScoreList:Array.from({length:5}).map(((t,e)=>({title:"第".concat(e+1,"场"),scoreOrRank:"12",isWin:0===e,isFail:1===e,isTie:2===e,isPending:3===e}))),memberList:Array.from({length:4}).map(((t,e)=>({avatar:Tt,name:"队员 ".concat(e),isLeader:0===e}))),teamName:"战队名称",teamAvatar:Tt,opponentInfo:{avatar:Tt,name:"对手战队名称",statusCode:V.ING,statusText:$[V.ING],statusClass:K[V.ING],boNum:3,curBo:1,statusDesc:"等待管理员开赛",showLaunchGameButton:!0,isMyTeamInTeamA:!0,teamAAvatar:Tt,teamBAvatar:Tt,teamAName:"队伍A",teamBName:"队伍B",showScore:!0,teamAScore:1,teamBScore:2},matchingStatus:"MATCH_NOT_START",cardCustom:{GAME_WILL_START:{...St,mainButton:"待开赛",mainButtonClass:O.INVALID},BATTLE_WILL_START:{buttonTips:"开赛前15分钟进入备战房准备",mainButton:"",mainButtonClass:O.INVALID,...St},BATTLE_STARTED:{buttonTips:"倒计时结束前进入游戏，超时无法参赛",mainButton:"进入游戏",...St},BATTLE_PLAYING_JOINED:{...St},BATTLE_PLAYING_NOT_JOINED:{...St},RESULT_WAITING:{...St},RESULT_WIN:{...St},RESULT_FAIL:{...St},RESULT_SHOW_RANK:{...St},CYCLE_MATCH:{}}};var bt,At={};var Bt=(bt||(bt=1,Object.defineProperty(At,"__esModule",{value:!0}),At.NUMBER_CHI_MAP={0:"零",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九",10:"十",11:"十一",12:"十二",13:"十三",14:"十四",15:"十五",16:"十六",17:"十七",18:"十八",19:"十九",20:"二十",21:"二十一",22:"二十二",23:"二十三",24:"二十四",25:"二十五",26:"二十六",27:"二十七",28:"二十八",29:"二十九",30:"三十",31:"三十一",32:"三十二"},At.addNumber=function(t,e){var n=Math.pow(10,10);return Math.round((t+e)*n)/n},At.getPartRatio=function(t,e){return t&&e?+(e/t*100).toFixed(2):0},At.getRandomNumber=function(t,e){return Math.random()*(e-t)+t},At.getThousandSeparator=function(t){return"".concat(t).replace(/(?!^)(?=(\d{3})+$)/g,",")},At.getThousandSeparator2=function(t){return"".concat(t).replace(/\B(?=(\d{3})+\b)/g,",")},At.getUnitPreviousRatio=function(t,e){var n=t-e,o=n>0?"+":"";0===e&&(e=.01);var i=(n/e*100).toFixed(1);return+i>999&&(i="999+"),"".concat(o).concat(i,"%")},At.padZero=function(t,e){void 0===e&&(e=2);for(var n="".concat(t);n.length<e;)n="0".concat(n);return n},At.random=function(t,e){if(t>=0&&e>0&&e>=t){var n=e-t+1;return Math.floor(Math.random()*n+t)}return 0},At.range=function(t,e,n){return Math.min(Math.max(t,e),n)}),At);const yt=15;const Lt=60*yt*1e3,vt=60*5*1e3,Mt=60*0*1e3;function xt({cardState:t,canBattle:e,isSolo:n,isVirtualRoom:o,isGroupingStage:i,canReadyInStartedGame:a,isVirtualReadyStage:s,curGoingBattleIndex:c,curShowingBattleIndex:r,battleList:l}){let u={leftIconFont:"",leftIconText:"",rightIconFont:"",rightIconText:""},d={};if(t===U.SATISFIED_AND_CAN_NOT_INVITE&&(d=function({rawBattleList:t=[],curShowingBattleIndex:e=0,enterBattleRoomDuration:n=yt}){const o=t[e]||{},{battle_status:i=0,can_enter_game:a,start_time:s,battle_id:c,enter_game_remain:r=0}=o,l=200==i;if(i<=100){const t=s-Math.floor(Date.now()/1e3);return t>0&&t<60*n?{title:E.BATTLE_WILL_START,mainButton:E.TO_GROUPING,mainButtonClass:O.PRIMARY,mainButtonCountdown:1e3*s,buttonTips:E.JUMP_TO_ROOM_TIP}:{title:E.BATTLE_WILL_START,mainButton:E.WAIT_START,mainButtonClass:O.INVALID,mainButtonCountdown:0,buttonTips:E.WAIT_VIRTUAL_START_TIP}}if(l){const t=()=>{const t=Math.floor(Date.now()/1e3)-s,e=t>0&&t<300;return 1==a?{title:"比赛已开启",mainButton:E.LAUNCH_GAME,mainButtonClass:O.PRIMARY,mainButtonCountdown:1e3*r+Date.now(),buttonTips:1e3*r>Date.now()?E.LAUNCH_GAME_TIP:""}:e?{title:"比赛已开启",mainButton:E.TO_GROUPING,mainButtonClass:O.PRIMARY,buttonTips:E.JUMP_TO_ROOM_TIP}:c?{title:"比赛进行中",mainButton:E.BATTLE_PLAYING,mainButtonClass:O.INVALID}:{title:"比赛进行中",mainButton:E.NOT_ENTER_GAME,mainButtonClass:O.INVALID}},{title:e,mainButton:n,mainButtonClass:o,mainButtonCountdown:i=0,buttonTips:l}=t();return{title:e,mainButton:n,mainButtonClass:o,mainButtonCountdown:i,buttonTips:l}}return{title:"比赛已结束",mainButton:c?"比赛已结束":"您未出战",mainButtonClass:O.INVALID,mainButtonCountdown:0,buttonTips:""}}({rawBattleList:l,curShowingBattleIndex:r})),t===U.SATISFIED_AND_CAN_INVITE&&(d=function({rawBattleList:t=[],curShowingBattleIndex:e=0,enterBattleRoomDuration:n=yt}){const o=t[e]||{},{battle_status:i=0,start_time:a,battle_id:s,can_enter_game:c,enter_game_remain:r=0}=o,l=i<=100,u=200==i,d=a-Math.floor(Date.now()/1e3),p=d>0&&d<=60*n,m=t.length>e+1;if(l)return p?{mainButton:E.INVITE_MEMBER,secondButton:E.TO_GROUPING,secondCountdown:1e3*a,secondButtonTips:"请在倒计时结束前进入备战房",secondButtonClass:O.PRIMARY}:{mainButton:E.INVITE_MEMBER,secondButton:E.WAIT_START,secondCountdown:1e3*a,secondButtonTips:d>0?"已满足参赛人数，倒计时结束后开赛":"已满足参赛人数",secondButtonClass:O.INVALID};if(u){const t=()=>{const t=Math.floor(Date.now()/1e3)-a,e=t>0&&t<300;return 1==c?{secondButton:E.LAUNCH_GAME,secondCountdown:1e3*r+Date.now(),secondButtonTips:1e3*r>Date.now()?E.LAUNCH_GAME_TIP:"",secondButtonClass:O.PRIMARY}:e?{secondButton:E.TO_GROUPING,secondButtonTips:E.JUMP_TO_ROOM_TIP,secondButtonClass:O.PRIMARY}:{secondButton:"进行中",secondButtonTips:m?"请等待下一局比赛开赛":"",secondButtonClass:O.INVALID}},{secondButton:e,secondCountdown:n=0,secondButtonTips:o="",secondButtonClass:i}=t();return{mainButton:E.INVITE_MEMBER,secondButton:e,secondCountdown:n,secondButtonTips:o,secondButtonClass:i}}return{mainButton:E.INVITE_MEMBER,secondButton:"已结束",secondCountdown:-1,secondButtonTips:"请等待下一局比赛开赛",secondButtonClass:O.INVALID}}({rawBattleList:l,curShowingBattleIndex:r})),n||(u=[U.RESULT_WAITING,U.RESULT_FAIL,U.RESULT_WIN,U.RESULT_SHOW_RANK].includes(t)?{leftIconFont:"",leftIconText:"",rightIconFont:H.CHECK_OPPONENTS,rightIconText:F.CHECK_OPPONENTS}:{leftIconFont:H.CHECK_OPPONENTS,leftIconText:F.CHECK_OPPONENTS,rightIconFont:H.CHECK_PLAYING_LIST,rightIconText:F.CHECK_PLAYING_LIST}),r>c){if(d={mainButton:E.WAIT_START,mainButtonClass:O.INVALID,buttonTips:""},o){d.buttonTips="开赛前15分钟进入备战房准备";const t=l[r]||{},{start_time:e}=t;1e3*e-Date.now()<Lt&&1e3*e-Date.now()>0&&(d={mainButton:E.GROUPING,mainButtonClass:O.PRIMARY,buttonTips:E.JUMP_TO_ROOM_TIP})}}else r<c?d={mainButton:E.BATTLED_ENDED,mainButtonClass:O.INVALID,buttonTips:""}:(t!==U.BATTLE_WILL_START&&t!==U.GAME_WILL_START||o&&(d={mainButton:E.WAIT_START,mainButtonClass:O.INVALID,buttonTips:E.WAIT_VIRTUAL_START_TIP},i?d={mainButton:E.GROUPING,mainButtonClass:O.PRIMARY,buttonTips:E.GROUPING_TIP,title:"比赛已开启"}:(s||a)&&(d={mainButton:E.GROUPING,mainButtonClass:O.PRIMARY,buttonTips:E.JUMP_TO_ROOM_TIP})),t===U.BATTLE_STARTED&&(d=e||n?{mainButton:E.LAUNCH_GAME,mainButtonClass:O.PRIMARY,buttonTips:E.LAUNCH_GAME_TIP}:{mainButton:E.CAN_NOT_BATTLE,mainButtonClass:O.INVALID,buttonTips:""}),[U.BATTLE_PLAYING_JOINED,U.BATTLE_PLAYING_NOT_JOINED].includes(t)&&o&&(d={mainButtonClass:O.PRIMARY,mainButton:E.BATTLE_PLAYING}));return{...JSON.parse(JSON.stringify(Y)),[t]:{...Y[t]||{},...u,...d}}}function Dt(...t){var e,n,o,i,a,s,c,r,l,u;let d,p,m=0,h=!0,_=!1,C=!1,g=!1,I=!1,S=[];1===t.length&&t[0].info?(d=t[0].info,m=null!=(e=t[0].curJoinStatus)?e:0,h=null==(n=t[0].mineInBattle)||n,p=null!=(o=t[0].teamInfo)?o:{},_=t[0].isPlayingAndCanSignup,C=t[0].isPlayingAndNotSatisfied,g=t[0].isSatisfiedAndCanInvite,I=t[0].isSatisfiedAndCannotInvite,S=null!=(i=t[0].childInfo)?i:{}):(d=t[0],m=null!=(a=t[1])?a:0,h=null==(s=t[2])||s,p=null!=(c=t[3])?c:{});const T=function(t){var e;const n=Math.floor(Date.now()/1e3);if(!t.length||!(null==(e=t[0])?void 0:e.stime)||t[0].stime>n)return 1;for(let o=1;o<t.length;o++)if(t[o].stime>n&&t[o-1].stime<=n)return Math.min(o+1,t.length);return t.length}((null==(l=null==(r=null==S?void 0:S.match_rule_cfg)?void 0:r.pubg_rule_cfg)?void 0:l.round_time_cfg)||[]),{battle_list:f=[],battle_user_list:k=[],cur_battle_seq:w=T,game_status:b,game_result:B,game_rank:y="-",start_battle_type:L,game_start_remain:v=0,join_type:M=1,use_match:x,is_advance:D=0}=d,P=f[w-1]||{},{battle_status:N=0,can_enter_game:R,can_battle:O,start_time:E,enter_game_remain:G=0}=P,F=w==f.length,H=2==M,K=3==x,$=2==L,V=Date.now()-1e3*E,Y=K&&1e3*E-Date.now()<Lt&&V<0,W=!$&&(K&&V<=Mt&&V>0),q=(()=>{const t=K&&V>0;return $?t&&V<vt:t&&V>Mt&&V<vt+Mt})(),z=function({curJoinStatus:t,isAdvance:e,gameResult:n,gameStatus:o,battleList:i,curBattleStatus:a,isLastBattle:s,canEnterGame:c,mineInBattle:r,isGroupingStage:l,canReadyInStartedGame:u,isPlayingAndCanSignup:d,isPlayingAndNotSatisfied:p,isSatisfiedAndCanInvite:m,isSatisfiedAndCannotInvite:h}){return d?U.PLAYING_AND_CAN_SIGN_UP:p?U.PLAYING_AND_NOT_SATISFIED:m?U.SATISFIED_AND_CAN_INVITE:h?U.SATISFIED_AND_CAN_NOT_INVITE:2==t?U.NOT_SIGN_UP:100==n?e?U.RESULT_WIN:U.RESULT_SHOW_RANK:200==n?e?U.RESULT_FAIL:U.RESULT_SHOW_RANK:o<=10?U.GAME_WILL_START:i.length&&a<=10||100==a?U.BATTLE_WILL_START:200==a?1==c?U.BATTLE_STARTED:l||u?U.BATTLE_WILL_START:r?U.BATTLE_PLAYING_JOINED:U.BATTLE_PLAYING_NOT_JOINED:300==a?300==n||!n&&s?U.RESULT_WAITING:r?U.BATTLE_PLAYING_JOINED:U.BATTLE_PLAYING_NOT_JOINED:7==t?U.NOT_SIGN_UP:""}({curJoinStatus:m,isAdvance:D,gameResult:B,gameStatus:b,battleList:f,curBattleStatus:N,isLastBattle:F,canEnterGame:R,mineInBattle:h,isGroupingStage:q,canReadyInStartedGame:W,isPlayingAndCanSignup:_,isPlayingAndNotSatisfied:C,isSatisfiedAndCanInvite:g,isSatisfiedAndCannotInvite:I}),{newBattleList:j,battleScoreList:J}=function(t,e){return{newBattleList:t.map((t=>{const{start_time:e,battle_start_remain:n=0,battle_seq:o,battle_id:i}=t;let a=1e3*e;return n&&(a=Date.now()+1e3*n),{title:"第".concat(Bt.NUMBER_CHI_MAP[o],"场"),time:a,timeDesc:A(a,"MM-dd hh:mm"),battleId:i,rawStartTime:e}})),battleScoreList:t.map(((t,n)=>{const{battle_seq:o=1,battle_status:i=0,score:a=0}=t;let s=a;return a||(e<n+1?s="-":e==n+1&&(s=i<=100?"-":"0")),{title:"第".concat(Bt.NUMBER_CHI_MAP[o],"场"),scoreOrRank:s}}))}}(f,w);return{rawBattleList:f,battleList:j,curGoingBattleIndex:w-1,curShowingBattleIndex:w-1,isManualStart:2==L,gameStartCountdown:1e3*v,cardState:z,battleScoreList:J,gameRank:y,joinRoomTime:1e3*G+Date.now(),curBattleInfo:P,isVirtualRoom:K,isSolo:H,isGroupingStage:q,canReadyInStartedGame:W,isVirtualReadyStage:Y,canBattle:O,memberList:((null==p?void 0:p.members)||k||[]).map((t=>({avatar:t.head,name:t.nick,nick:t.nick,isLeader:1==t.teamrole||t.is_cap}))),minSignNum:(null==(u=null==S?void 0:S.match_rule_cfg)?void 0:u.sign_team_min_mem)||d.sign_team_min_mem}}const Pt=a({props:{battleList:{type:Array,default:()=>[]},curShowingBattleIndex:{type:Number,default:0},curGoingBattleIndex:{type:Number,default:0},alwaysShowNumber:{type:Boolean,default:!1}},emits:["changeCurShowingBattleIndex"],methods:{changeCurShowingBattleIndex(t){this.$emit("changeCurShowingBattleIndex",t)}}},[["render",function(t,e,n,o,i,a){return n.battleList&&n.battleList.length?(_(),s("div",{key:0,class:"press-card__timeline"},[r("div",{class:"press-card__timeline-inner"},[r("ul",{class:"press-card__timeline-stage"},[(_(!0),s(S,null,T(n.battleList,((t,e)=>(_(),s("li",{key:e,class:u(["press-card__stage-li",e==n.curGoingBattleIndex?"press-card__stage-highlight":""]),onClick:l((t=>a.changeCurShowingBattleIndex(e)),["stop"])},[n.battleList[0].timeDesc?(_(),s("p",{key:0,class:u(["press-card__timeline-stage-msg",{"press-card__timeline-stage-msg--active":e==n.curShowingBattleIndex}])},[n.battleList.length>1?(_(),s("em",{key:0,class:"em"},p(n.battleList[e].title),1)):(_(),s("em",{key:1,class:"em"},"共一场")),e==n.curGoingBattleIndex&&e!=n.curShowingBattleIndex?(_(),s("span",{key:2,class:"press-card__stage--playing"},"进行中")):(_(),s("span",{key:3,class:"press-card__stage--normal"},p(n.battleList[e].timeDesc),1))],2)):(_(),s("p",{key:1,class:u(["press-card__timeline-stage-msg--less",{"press-card__timeline-stage-msg--active":e==n.curShowingBattleIndex}])},[n.battleList.length>1||n.alwaysShowNumber?(_(),s("em",{key:0,class:"em"},p(n.battleList[e].title),1)):(_(),s("em",{key:1,class:"em"},"共一场"))],2))],10,["onClick"])))),128))])])])):c("",!0)}],["__scopeId","data-v-e01d2596"]]);const Nt=a({props:{pageType:{type:[String,Number],default:""},shortMode:{type:Boolean,default:!1},title:{type:String,default:""},tips:{type:String,default:""},curGoingBattleSeq:{type:[Number,String],default:1},memberList:{type:Array,default:()=>[]},totalBattleLength:{type:Number,default:1}},emits:["inviteMember"],data:()=>({isActive:!0}),computed:{innerTotalBattleLength(){const{totalBattleLength:t,curGoingBattleSeq:e}=this;return e>t?e:t},computedTips(){return this.tips?this.tips:"当前已进行到第".concat(this.curGoingBattleSeq,"/").concat(this.innerTotalBattleLength,"局，最后一局开始前均可报名参赛")},fakeMemberList(){return this.shortMode?[]:Array.from({length:6-this.memberList.length}).map(((t,e)=>({key:"fake-".concat(e)})))}},methods:{inviteMember(){this.$emit("inviteMember")}}},[["render",function(t,e,n,o,i,a){const d=y;return _(),s("div",null,[2===n.pageType?(_(),s("div",{key:0,class:u(["press-member-card",{"press-member-card--short":n.shortMode}])},[r("h4",{class:"press-member-card__title"},p(n.title),1),n.shortMode?c("",!0):(_(),s("div",{key:0,class:"press-member-card__description"},[r("div",null,[I("当前已进行到第 "),r("span",{class:"press-card__battle-play-number"},p(n.curGoingBattleSeq)+"/"+p(a.innerTotalBattleLength),1),I(" 局")])])),r("div",{class:"press-battle-user-wrapper"},[(_(!0),s(S,null,T(n.memberList,((t,e)=>(_(),s("div",{key:e,class:"press-portrait-wrapper"},[k(d,{class:u(["press-portrait-wrapper__img",{"press-portrait-wrapper__border":!0}]),src:t.avatar,alt:""},null,8,["src"]),r("p",{class:"press-portrait-wrapper__name"},p(t.nick),1),t.isLeader?(_(),s("div",{key:0,class:"press-portrait-wrapper__icon"},[k(d,{class:"press-portrait-wrapper__icon-img",src:"https://image-1251917893.file.myqcloud.com/tip-project/pubg/pubg-match/icon-leader.png",alt:""})])):c("",!0)])))),128)),(_(!0),s(S,null,T(a.fakeMemberList,(t=>(_(),s("div",{key:t.key,class:"press-portrait-wrapper",onClick:e[0]||(e[0]=l(((...t)=>a.inviteMember&&a.inviteMember(...t)),["stop"]))},[r("div",{class:"press_add-icon"},[r("div",{class:"iconfont icon-close"})]),r("p",{class:"press-portrait-wrapper__name"}," 邀请好友 ")])))),128))])],2)):1===n.pageType?(_(),s("div",{key:1,class:"press-battle-wrapper"},[k(d,{class:"press-battle-wrapper_logo",src:"https://image-1251917893.file.myqcloud.com/tip-project/pubg/pubg-match/default-battle-logo.png",mode:"scaleToFill"}),r("h4",{class:"press-battle-wrapper_name"},p(n.title),1),r("div",{class:"press-battle-wrapper_description"},[r("div",null,p(a.computedTips),1)])])):c("",!0)])}],["__scopeId","data-v-5553370f"]]);const Rt=a({props:{battleScoreList:{type:Array,default:()=>[]},titlePostFix:{type:String,default:"积分排名"},showWinOrFail:{type:Boolean,default:!1}},data:()=>({isWinner:!1})},[["render",function(t,e,n,o,i,a){return _(),s("div",{class:u(["press-card__battle-result",{"press-card__battle-result--center":n.battleScoreList.length<5}])},[(_(!0),s(S,null,T(n.battleScoreList,((t,e)=>(_(),s("div",{key:e,class:"press-card__battle-result-li"},[r("p",{class:"press-card__battle-result-left"},p(t.title)+p(n.titlePostFix),1),r("div",{class:"press-card__battle-result-right"},[r("p",{class:"press-card__battle-result-right-score"},p(t.scoreOrRank),1),n.showWinOrFail?(_(),s(S,{key:0},[t.isWin?(_(),s("div",{key:0,class:"press-card__battle-result-title press-card__battle-result-title--win"}," 胜 ")):t.isFail?(_(),s("div",{key:1,class:"press-card__battle-result-title press-card__battle-result-title--fail"}," 败 ")):t.isTie?(_(),s("div",{key:2,class:"press-card__battle-result-title press-card__battle-result-title--tie"}," 平 ")):t.isPending?(_(),s("div",{key:3,class:"press-card__battle-result-title press-card__battle-result-title--pending"}," - ")):(_(),s("div",{key:4,class:"press-card__battle-result-title"},"   "))],64)):c("",!0)])])))),128))],2)}],["__scopeId","data-v-b15dc511"]]);const Ot=a({props:{battleScoreList:{type:Array,default:()=>[]},title:{type:String,default:""},showRank:{type:Boolean,default:!1},showDetailEntrance:{type:Boolean,default:!0},showWinOrFail:{type:Boolean,default:!1}},emits:["checkDetailScore"],methods:{checkDetailScore(){this.$emit("checkDetailScore")}}},[["render",function(t,e,n,o,i,a){return _(),s("div",{class:"press-card__title--ready"},[r("h4",{class:u({"press-card__title-name":!0,"press-card__title-name--rank":n.showRank,"press-card__title-name--score":!n.showRank})},p(n.title),3),n.showDetailEntrance?(_(),s("a",{key:0,class:"press-card__title-link",onClick:e[0]||(e[0]=l(((...t)=>a.checkDetailScore&&a.checkDetailScore(...t)),["stop"]))},"详情")):c("",!0),n.battleScoreList&&n.battleScoreList.length?(_(),s("div",{key:1,class:u(["press-card__title-score",{"press-card__title-score--long":n.battleScoreList.length>5}])},[(_(!0),s(S,null,T(n.battleScoreList,((t,e)=>(_(),s("div",{key:e,class:"press-card__title-score-item"},[r("p",{class:"press-card__title-score-name"},p(t.scoreOrRank),1),r("div",{class:"press-card__title-score-box"},[r("p",{class:u(["press-card__title-score-inner",{"press-card__title-score-inner--small":n.showWinOrFail}])},[r("span",null,p(t.title),1)],2),n.showWinOrFail?(_(),s(S,{key:0},[t.isWin?(_(),s("div",{key:0,class:"press-card__title-score-result press-card__title-score-result--win"}," 胜 ")):t.isFail?(_(),s("div",{key:1,class:"press-card__title-score-result press-card__title-score-result--fail"}," 败 ")):t.isTie?(_(),s("div",{key:2,class:"press-card__title-score-result press-card__title-score-result--tie"}," 平 ")):t.isPending?(_(),s("div",{key:3,class:"press-card__title-score-result press-card__title-score-result--pending"}," - ")):c("",!0)],64)):c("",!0)])])))),128))],2)):c("",!0)])}],["__scopeId","data-v-5dd11e13"]]);function Et(t){if(t<=0)return 0;const e=t-Date.now();return e>0?e:0}const Gt=a({components:{PressCountDown:J},props:{leftIconFont:{type:String,default:""},leftIconText:{type:String,default:""},rightIconText:{type:String,default:""},rightIconFont:{type:String,default:""},secondButton:{type:String,default:""},mainButton:{type:String,default:""},secondButtonClass:{type:String,default:""},mainButtonClass:{type:String,default:""},secondButtonTips:{type:String,default:""},buttonTips:{type:String,default:""},secondCountdown:{type:Number,default:0},countdown:{type:Number,default:0},isAdmin:{type:Boolean,default:!1},isNoMarginTop:{type:Boolean,default:!1}},emits:["clickMainButton","clickSecondButton","clickLeftIcon","clickRightIcon","countdownFinish"],data:()=>({isShowTip:!1}),computed:{parsedCountdown(){return Et(this.countdown)},parsedSecondCountdown(){return Et(this.secondCountdown)},onlyHaveOneButton(){return!this.secondButton||!this.mainButton}},methods:{onToggleTip(){this.isShowTip=!this.isShowTip},clickMainButton(){this.$emit("clickMainButton",this.mainButton,this.mainButtonClass)},clickLeftIcon(){this.$emit("clickLeftIcon")},clickRightIcon(){this.$emit("clickRightIcon")},pardZero:W,secondCountdownFinish(){this.$emit("countdownFinish")},countdownFinish(){this.$emit("countdownFinish")},clickSecondButton(){this.$emit("clickSecondButton")}}},[["render",function(t,e,n,o,i,a){const d=h("PressCountDown");return _(),s("div",{class:u(["press-card__button",{"press-card__button--no-top":n.isNoMarginTop,"press-card__button--one":a.onlyHaveOneButton}])},[n.leftIconText&&a.onlyHaveOneButton?(_(),s("a",{key:0,class:u(["press-card__left-icon"]),onClick:e[0]||(e[0]=l(((...t)=>a.clickLeftIcon&&a.clickLeftIcon(...t)),["stop"]))},[n.leftIconFont?(_(),s("i",{key:0,class:u(["iconfont",n.leftIconFont])},null,2)):c("",!0),r("span",null,p(n.leftIconText),1)])):c("",!0),n.secondButton?(_(),s("div",{key:1,class:"press-card__button-wrap"},[n.secondButtonTips?(_(),s("p",{key:0,class:"press-card__button-tips"},[r("span",null,p(n.secondButtonTips),1)])):c("",!0),n.secondButton?(_(),s("a",{key:1,class:u(["press-card__button-common",n.secondButtonClass]),onClick:e[1]||(e[1]=l(((...t)=>a.clickSecondButton&&a.clickSecondButton(...t)),["stop"]))},[I(p(n.secondButton)+" ",1),a.parsedSecondCountdown>0?(_(),C(d,{key:0,time:a.parsedSecondCountdown,"use-slot":"",onFinish:a.secondCountdownFinish},{default:g((({timeData:t})=>[r("span",{class:"press-card__button-countdown"},[t.days?(_(),s(S,{key:0},[I(p(t.days)+"天",1)],64)):c("",!0),t.days||t.hours?(_(),s(S,{key:1},[I(p(a.pardZero(t.hours))+":",1)],64)):c("",!0),I(p(a.pardZero(t.minutes))+":"+p(a.pardZero(t.seconds)),1)])])),_:1},8,["time","onFinish"])):c("",!0)],2)):c("",!0)])):c("",!0),n.mainButton?(_(),s("div",{key:2,class:"press-card__button-wrap"},[n.buttonTips?(_(),s("p",{key:0,class:"press-card__button-tips"},[r("span",null,p(n.buttonTips),1)])):c("",!0),r("a",{class:u(["press-card__button-common",n.mainButtonClass]),onClick:e[2]||(e[2]=l(((...t)=>a.clickMainButton&&a.clickMainButton(...t)),["stop"]))},[I(p(n.mainButton)+" ",1),a.parsedCountdown>0?(_(),C(d,{key:0,time:a.parsedCountdown,"use-slot":"",onFinish:a.countdownFinish},{default:g((({timeData:t})=>[r("span",{class:"press-card__button-countdown"},p(a.pardZero(t.minutes))+":"+p(a.pardZero(t.seconds)),1)])),_:1},8,["time","onFinish"])):c("",!0)],2)])):c("",!0),n.rightIconText&&a.onlyHaveOneButton?(_(),s("p",{key:3,class:u(["press-card__right-icon"]),onClick:e[3]||(e[3]=l(((...t)=>a.clickRightIcon&&a.clickRightIcon(...t)),["stop"]))},[n.rightIconFont?(_(),s("i",{key:0,class:u(["iconfont",n.rightIconFont])},null,2)):c("",!0),I(" "+p(n.rightIconText),1)])):c("",!0)],2)}],["__scopeId","data-v-8f806fc8"]]);const Ut=a({name:"PressCardMatchingResult",components:{},props:{isSuccess:{type:Boolean,default:!1}},data:()=>({}),computed:{},methods:{}},[["render",function(t,e,n,o,i,a){return _(),s("div",{class:"press_card-matching-result"},[r("div",{class:"press_card-matching-box"},[r("div",{class:"press_card-gp-match-logo"}),r("div",{class:"press_card-matching-title"},p(n.isSuccess?"匹配成功":"匹配失败"),1)]),r("div",{class:"press_card-matching-tip"}," 已匹配到对手，请尽快进入比赛 ")])}],["__scopeId","data-v-c2626a4d"]]);const Ft=a({name:"PressCardMemberList",components:{PressCountDown:J},props:{memberList:{type:Array,default:()=>[]},isManualStart:{type:Boolean,default:!1},gameStartCountdown:{type:Number,default:-1},signUpCountdown:{type:Number,default:0},teamName:{type:String,default:""},minSignNum:{type:Number,default:1}},data:()=>({}),computed:{fakeMemberList(){return Array.from({length:6-this.memberList.length}).map(((t,e)=>({avatar:q,key:"fake-".concat(e)})))}}},[["render",function(t,e,n,o,i,a){const c=h("PressCountDown"),l=M("lazy");return _(),s("div",{class:"press_card-single-sign-uping"},[r("div",{class:"press_team-name"},p(n.teamName),1),r("div",{class:"press_teammate-list"},[(_(!0),s(S,null,T(n.memberList,((t,e)=>(_(),s("div",{key:e,class:"press_teammate-avatar-wrap"},[L(r("img",{class:"press_teammate-avatar",alt:"",srcset:""},null,512),[[l,t.avatar]]),r("div",{class:"press_teammate-name"},p(t.name),1)])))),128)),(_(!0),s(S,null,T(a.fakeMemberList,(t=>(_(),s("div",{key:t.key,class:"press_teammate-avatar-wrap"},[L(r("img",{class:"press_teammate-avatar",alt:"",srcset:""},null,512),[[l,t.avatar]]),r("div",{class:"press_teammate-name"},p(t.name),1)])))),128))]),r("div",{class:"press_info-box"},[L(r("div",{class:"press_tip"},p("满".concat(n.minSignNum,"人才能参赛")),513),[[v,n.memberList.length<n.minSignNum]]),r("div",{class:"press_countdown-box"},[n.memberList.length<n.minSignNum?(_(),s(S,{key:0},[r("div",{class:"press_countdown-text"}," 报名截止时间： "),k(c,{time:n.signUpCountdown,format:"DD 天 HH 时 mm 分 ss 秒"},null,8,["time"])],64)):(_(),s(S,{key:1},[n.isManualStart?(_(),s("div",{key:0}," 等待管理员开赛 ")):(_(),s("div",{key:1,class:"press_countdown-text"}," 开赛倒计时： ")),k(c,{time:n.gameStartCountdown,format:"DD 天 HH 时 mm 分 ss 秒"},null,8,["time"])],64))])])])}],["__scopeId","data-v-db604344"]]);const Ht=a({name:"PressCardMemberList",components:{},props:{opponentInfo:{type:Object,default:()=>({})}},emits:["clickTeam"],data:()=>({}),computed:{battleTagClass:()=>t=>1==t?"press_battle-tag-start":2==t?"press_battle-tag-in-game":3==t?"press_battle-tag-end":void 0},methods:{clickTeam(t,e){e||this.$emit("clickTeam",t)}}},[["render",function(t,e,n,o,i,a){const d=M("lazy");return _(),s("div",{class:"press_card-single-sign-up-end"},[r("div",{class:"press_vs-team"},[r("div",{class:"press_team-avatar-wrap"},[n.opponentInfo.isMyTeamInTeamA?(_(),s("div",{key:0,class:"press_com-tag-gp"}," 我 ")):c("",!0),L(r("img",{class:"press_team-avatar",alt:"",srcset:""},null,512),[[d,n.opponentInfo.teamAAvatar]])]),r("div",{class:u(["press_team-name",{"press_team-name-active":!n.opponentInfo.isTeamASpecial}]),onClick:e[0]||(e[0]=l((t=>a.clickTeam(n.opponentInfo.teamAId,n.opponentInfo.isTeamASpecial)),["stop"]))},p(n.opponentInfo.teamAName),3)]),r("div",{class:"press_match-info-box"},[r("div",{class:u(n.opponentInfo.statusClass)},p(n.opponentInfo.statusText),3),r("div",{class:"press_match-time"},p(n.opponentInfo.statusDesc),1),n.opponentInfo.showScore?(_(),s("div",{key:0,class:"press_text-vs"},p(n.opponentInfo.teamAScore)+" : "+p(n.opponentInfo.teamBScore),1)):(_(),s("div",{key:1,class:"press_text-vs"}," vs "))]),r("div",{class:"press_vs-team"},[r("div",{class:"press_team-avatar-wrap"},[n.opponentInfo.isMyTeamInTeamB?(_(),s("div",{key:0,class:"press_com-tag-gp"}," 我 ")):c("",!0),L(r("img",{class:"press_team-avatar",alt:"",srcset:""},null,512),[[d,n.opponentInfo.teamBAvatar]])]),r("div",{class:u(["press_team-name",{"press_team-name-active":!n.opponentInfo.isTeamBSpecial}]),onClick:e[1]||(e[1]=l((t=>a.clickTeam(n.opponentInfo.teamBId,n.opponentInfo.isTeamBSpecial)),["stop"]))},p(n.opponentInfo.teamBName),3)])])}],["__scopeId","data-v-fa9c961b"]]);const Kt=a({props:{gameRank:{type:[String,Number],default:""},gameScore:{type:String,default:""}},data:()=>({isWinner:!1})},[["render",function(t,e,n,o,i,a){return _(),s("ul",{class:"press-card__score-info"},[r("li",{class:"press-card__score-info-li"},[r("p",{class:"press-card__score-left"}," 总积分排名 "),r("div",{class:"press-card__score-right"},[r("p",{class:"press-card__score-right-score"},p(n.gameRank),1)])]),r("li",{class:"press-card__score-info-li"},[r("p",{class:"press-card__score-left"}," 单场积分 "),r("div",{class:"press-card__score-right"},[r("p",{class:"press-card__score-right-score"},p(n.gameScore),1)])])])}],["__scopeId","data-v-96a252a8"]]);const $t=a({components:{PressCountDown:J},props:{...z},emits:["countdownFinish"],data:()=>({}),methods:{pardZero:W,countdownFinish(){this.$emit("countdownFinish")},changeCountdown(){}}},[["render",function(t,e,n,o,i,a){const c=h("PressCountDown");return _(),s("div",{class:"press-card__sign-up"},[r("div",{class:"press-card__sign-up-countdown"},[r("div",{class:"press-card__sign-up-countdown-wrap"},[r("p",{class:"press-card__sign-up-title"},p(t.signUpTitle),1),k(c,{time:t.signUpCountdown,"use-slot":"",onChange:a.changeCountdown,onFinish:a.countdownFinish},{default:g((({timeData:t})=>[r("div",{class:"press-card__countdown-wrap"},[r("div",{class:"press-card__countdown-bundle"},[r("p",{class:"press-card__countdown-item"},[r("span",{class:"press-card__countdown-number"},p(a.pardZero(t.days)),1)])]),r("div",{class:"press-card__countdown-text"}," 天 "),r("div",{class:"press-card__countdown-bundle"},[r("p",{class:"press-card__countdown-item"},[r("span",{class:"press-card__countdown-number"},p(a.pardZero(t.hours)),1)])]),r("div",{class:"press-card__countdown-text"}," 时 "),r("div",{class:"press-card__countdown-bundle"},[r("p",{class:"press-card__countdown-item"},[r("span",{class:"press-card__countdown-number"},p(a.pardZero(t.minutes)),1)])]),r("div",{class:"press-card__countdown-text"}," 分 "),r("div",{class:"press-card__countdown-bundle"},[r("p",{class:"press-card__countdown-item"},[r("span",{class:"press-card__countdown-number"},p(a.pardZero(t.seconds)),1)])]),r("div",{class:"press-card__countdown-text"}," 秒 ")])])),_:1},8,["time","onChange","onFinish"])])])])}],["__scopeId","data-v-502b3ad2"]]);const Vt=a({props:{memberList:{type:Array,default:()=>[]},teamName:{type:String,default:""}},data:()=>({})},[["render",function(t,e,n,o,i,a){const c=M("lazy");return _(),s("div",{class:"press_single-match-team-box"},[r("div",{class:"press_team-name"},p(n.teamName),1),r("div",{class:"press_teammate-list"},[(_(!0),s(S,null,T(n.memberList,((t,e)=>L((_(),s("img",{key:e,class:"press_teammate-avatar",alt:"头像",srcset:""})),[[c,t.avatar]]))),128))])])}],["__scopeId","data-v-3f997a3d"]]);const Yt=a({props:{description:{type:String,default:"请等待本场比赛结束"}}},[["render",function(t,e,n,o,i,a){return _(),s("div",{class:"press-card__title--playing"},[r("h4",{class:"press-card__title-name press-card__title-name--playing"}),r("p",{class:"press-card__description"},p(n.description),1)])}],["__scopeId","data-v-fd7fff43"]]);const Wt=a({props:{cardState:{type:String,default:""},gameRank:{type:[Number,String],default:"  "}},data:()=>({CARD_STATUS_MAP:U})},[["render",function(t,e,n,o,i,a){return _(),s("div",null,[n.cardState===i.CARD_STATUS_MAP.RESULT_WAITING?(_(),s("div",{key:0,class:"press-card__result"},[r("div",{class:"press-card__result-title"},[r("h4",{class:"press-card__result-title--waiting"}),r("p",{class:"press-card__result-tips"}," 等待裁判确认晋级结果 ")])])):n.cardState===i.CARD_STATUS_MAP.RESULT_WIN?(_(),s("div",{key:1,class:"press-card__result-wrap--win"},[r("div",{class:"press-card__result-title"},[r("h4",{class:"press-card__result-title-win"})])])):n.cardState===i.CARD_STATUS_MAP.RESULT_FAIL?(_(),s("div",{key:2,class:"press-card__result-wrap--fail"},[r("div",{class:"press-card__result-title"},[r("h4",{class:"press-card__result-title-lose"}),r("p",{class:"press-card__result-tips"}," 不要气馁，备战下一次比赛！ ")])])):[i.CARD_STATUS_MAP.RESULT_SHOW_RANK,i.CARD_STATUS_MAP.KNOCK_OUT_RESULT].indexOf(n.cardState)>-1?(_(),s("div",{key:3,class:"press-card__result-wrap--rank"},[1==n.gameRank?(_(),s("img",{key:0,src:"https://image-1251917893.file.myqcloud.com/tip-project/pubg/pubg-match/champion.png",alt:"第一名"})):2==n.gameRank?(_(),s("img",{key:1,src:"https://image-1251917893.file.myqcloud.com/tip-project/pubg/pubg-match/second.png",alt:"第二名"})):3==n.gameRank?(_(),s("img",{key:2,src:"https://image-1251917893.file.myqcloud.com/tip-project/pubg/pubg-match/third.png",alt:"第三名"})):(_(),s("div",{key:3,class:"press-card__result-rank"},[r("p",null,p(n.gameRank),1)]))])):c("",!0)])}],["__scopeId","data-v-d20500c3"]]);const qt=a({components:{PressCountDown:J},props:{title:{type:String,default:""},description:{type:String,default:""},countdown:{type:Number,default:0}},emits:["countdownFinish","refresh"],data:()=>({emitRefreshTimeMap:{3540:!1,900:!1,600:!1,300:!1,60:!1}}),methods:{pardZero:W,countdownFinish(){this.$emit("countdownFinish")},change(t){const{days:e,hours:n,minutes:o,seconds:i}=t,a=60*(24*e*60+60*n+o)+i;Object.keys(this.emitRefreshTimeMap).forEach((t=>{!this.emitRefreshTimeMap[t]&&a<t&&(this.$emit("refresh"),this.emitRefreshTimeMap[t]=!0)}))}}},[["render",function(t,e,n,o,i,a){const l=h("PressCountDown");return _(),s("div",{class:"press-card__title--ready"},[r("h4",{class:"press-card__title-name press-card__title-name--ready"},p(n.title),1),n.description?(_(),s("p",{key:0,class:"press-card__description"},p(n.description),1)):(_(),C(l,{key:1,time:n.countdown,"use-slot":"",onChange:a.change,onFinish:a.countdownFinish},{default:g((({timeData:t})=>[r("div",{class:u(["press-card__countdown-wrap",{"press-card__countdown-wrap--day":t.days>0}])},[t.days>0?(_(),s("p",{key:0,class:"press-card__countdown-box"},[r("span",{class:"press-card__countdown-num"},p(a.pardZero(t.days)),1)])):c("",!0),t.days>0?(_(),s("em",{key:1,class:"press-card__countdown-text day"},"天")):c("",!0),r("p",{class:"press-card__countdown-box"},[r("span",{class:"press-card__countdown-num"},p(a.pardZero(t.hours)),1)]),r("em",{class:"press-card__countdown-text press-card__countdown-colon"},":"),r("p",{class:"press-card__countdown-box"},[r("span",{class:"press-card__countdown-num"},p(a.pardZero(t.minutes)),1)]),0==t.days?(_(),s("em",{key:2,class:"press-card__countdown-text press-card__countdown-colon"},":")):c("",!0),0==t.days?(_(),s("p",{key:3,class:"press-card__countdown-box"},[r("span",{class:"press-card__countdown-num"},p(a.pardZero(t.seconds)),1)])):c("",!0)],2)])),_:1},8,["time","onChange","onFinish"]))])}],["__scopeId","data-v-2ec09727"]]);const zt=a({props:j,emits:["clickChildName","clickQuestion"],methods:{clickChildName(){this.$emit("clickChildName")},clickQuestion(){this.$emit("clickQuestion")}}},[["render",function(t,e,n,o,i,a){return _(),s("div",null,[t.showRoleInfo?(_(),s("div",{key:0,class:"press-card__bar"},[r("div",{class:"press-card__bar-role"},[r("div",{class:"flex items-center"},[r("p",{class:"max-w-7.2 truncate text-1.12 text-[#fff]"},p(t.roleName),1),r("p",{class:"ml-0.64 text-0.8 text-[rgba(255,255,255,.75)]"},[r("span",{class:"press_type-text"},p(t.device),1),t.device?(_(),s(S,{key:0},[I(" | ")],64)):c("",!0),r("span",{class:"press_type-text"},"ID:"+p(t.roleId),1)])]),r("p",{class:"text-0.8 text-[#fff]",onClick:e[0]||(e[0]=l(((...t)=>a.clickQuestion&&a.clickQuestion(...t)),["stop"]))}," 进游戏遇到问题？ ")])])):(_(),s("div",{key:1,class:"press-card__bar"},[t.childName?(_(),s("p",{key:0,class:"press-card__bar-name max-w-19.2 truncate text-0.96 text-[#fff]",onClick:e[1]||(e[1]=l(((...t)=>a.clickChildName&&a.clickChildName(...t)),["stop"]))},p(t.childName),1)):c("",!0),r("span",{class:"press_type-text"},p(t.childType),1)]))])}],["__scopeId","data-v-9ce7f56d"]]);const jt=a({},[["render",function(t,e,n,o,i,a){return _(),s("div",{class:"press-new-card"},[d(t.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-efb93b52"]]);const Jt=a({components:{PressScheduleCardGp:a({name:"PressScheduleCardGp",components:{CardTitleResult:Wt,CardRankScoreInfo:Kt,CardButton:Gt,CardWrap:a({},[["render",function(t,e,n,o,i,a){return _(),s("div",{class:"press-card"},[d(t.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-cece4d92"]]),CardTopBar:zt,CardSignUp:$t,CardBattleList:Pt,CardTitle:qt,CardBattleScore:Ot,CardTitlePlaying:Yt,CardSingleResult:Vt,CardMemberList:Ft,CardOpponent:Ht,CardBattleResult:Rt,CardMatchingResult:Ut,CardBattlePlay:Nt,CardWrapV2:jt},props:{cardState:{type:String,default:""},isManualStart:{type:Boolean,default:!1},joinRoomTime:{type:Number,default:0},gameStartCountdown:{type:Number,default:0},battleScoreList:{type:Array,default:()=>[]},cardCustom:{type:Object,default:()=>({...Y})},memberList:{type:Array,default:()=>[]},teamName:{type:String,default:""},teamAvatar:{type:String,default:""},opponentInfo:{type:Object,default:()=>({})},minSignNum:{type:Number,default:1},isAdmin:{type:Boolean,default:!1},enterGameCountdown:{type:Number,default:0},battleList:{type:Array,default:()=>[]},curShowingBattleIndex:{type:Number,default:0},curGoingBattleIndex:{type:Number,default:0},...z,...j,gameRank:{type:[String,Number],default:""},leftIconFont:{type:String,default:""},leftIconText:{type:String,default:""},rightIconText:{type:String,default:""},rightIconFont:{type:String,default:""},mainButton:{type:String,default:""},mainButtonClass:{type:String,default:""},buttonTips:{type:String,default:""},countdown:{type:Number,default:0},isNoMarginTop:{type:Boolean,default:!1},showSendAward:{type:Boolean,default:!1},rawBattleList:{type:Array,default:()=>[]},mineInBattle:{type:Boolean,default:!0},titleTips:{type:String,default:""},totalBattleLength:{type:Number,default:1}},emits:["refresh","clickMainButton","clickLeftIcon","clickRightIcon","changeCurShowingBattleIndex","checkDetailScore","clickChildName","clickQuestion","countdownFinish","inviteMember","jumpToBattleRoom","clickTeam","clickShare","clickAwarding","checkOpponents","checkPlayingList","clickSecondButton"],data:()=>({CARD_STATUS_MAP:U,CARD_ICON_FONT_MAP:H,CARD_ICON_TEXT_MAP:F,CARD_BUTTON_CLASS:O}),computed:{inviteMemberButtonTips(){const t=this.memberList.length||1;if(this.minSignNum<=t)return"";const e=this.minSignNum-t;return"请至少邀请".concat(e,"名队友才可参赛")},curBattle(){const{battleList:t,curShowingBattleIndex:e}=this;return t[e]},currentGameStartCountdown(){const{curBattle:t}=this;if(!(null==t?void 0:t.time))return 0;const e=(t.time||0)-Date.now();return e<=0?0:e},allScoreStr(){return this.battleScoreList.map((t=>t.scoreOrRank)).join("/")}},mounted(){},methods:{clickMainButton(...t){this.$emit("clickMainButton",...t)},clickLeftIcon(){this.$emit("clickLeftIcon")},clickRightIcon(){this.$emit("clickRightIcon")},changeCurShowingBattleIndex(t){this.$emit("changeCurShowingBattleIndex",t)},checkDetailScore(){this.$emit("checkDetailScore")},clickChildName(){this.$emit("clickChildName")},clickQuestion(){this.$emit("clickQuestion")},countdownFinish(){this.$emit("countdownFinish")},inviteMember(){this.$emit("inviteMember")},jumpToBattleRoom(){this.$emit("jumpToBattleRoom")},clickTeam(...t){this.$emit("clickTeam",...t)},clickShare(){this.$emit("clickShare")},clickAwarding(){this.$emit("clickAwarding")},checkOpponents(){this.$emit("checkOpponents")},checkPlayingList(){this.$emit("checkPlayingList")},clickSecondButton(){this.$emit("clickSecondButton")},refresh(){this.$emit("refresh")}}},[["render",function(t,e,n,o,i,a){const r=h("CardSignUp"),l=h("CardTopBar"),u=h("CardBattlePlay"),d=h("CardWrapV2"),p=h("CardBattleList"),m=h("CardTitle"),I=h("CardBattleScore"),T=h("CardBattleResult"),f=h("CardMatchingResult"),w=h("CardButton"),b=h("CardMemberList"),A=h("CardOpponent"),B=h("CardTitleResult"),y=h("CardSingleResult"),L=h("CardTitlePlaying"),v=h("CardRankScoreInfo"),M=h("CardWrap");return _(),s("div",null,[n.cardState===i.CARD_STATUS_MAP.NOT_SIGN_UP?(_(),C(r,{key:0,"sign-up-title":t.signUpTitle,"sign-up-countdown":t.signUpCountdown,onCountdownFinish:a.countdownFinish},null,8,["sign-up-title","sign-up-countdown","onCountdownFinish"])):n.cardState===i.CARD_STATUS_MAP.PLAYING_AND_CAN_SIGN_UP?(_(),C(d,{key:1},{default:g((()=>[k(l,{"show-role-info":t.showRoleInfo,"role-name":t.roleName,device:t.device,"role-id":t.roleId,"child-name":t.childName,"child-type":t.childType,onClickChildName:a.clickChildName,onClickQuestion:a.clickQuestion},null,8,["show-role-info","role-name","device","role-id","child-name","child-type","onClickChildName","onClickQuestion"]),k(u,{title:"比赛进行中","cur-going-battle-seq":n.curGoingBattleIndex+1,"page-type":1,tips:n.titleTips,"total-battle-length":n.totalBattleLength},null,8,["cur-going-battle-seq","tips","total-battle-length"])])),_:1})):(_(),C(M,{key:2},{default:g((()=>[k(l,{"show-role-info":t.showRoleInfo,"role-name":t.roleName,device:t.device,"role-id":t.roleId,"child-name":t.childName,"child-type":t.childType,onClickChildName:a.clickChildName,onClickQuestion:a.clickQuestion},null,8,["show-role-info","role-name","device","role-id","child-name","child-type","onClickChildName","onClickQuestion"]),[i.CARD_STATUS_MAP.CYCLE_MATCH].indexOf(n.cardState)>-1?(_(),s(S,{key:0},[k(p,{"battle-list":n.battleList,"cur-showing-battle-index":n.curShowingBattleIndex,"cur-going-battle-index":n.curGoingBattleIndex,"always-show-number":!0,onChangeCurShowingBattleIndex:a.changeCurShowingBattleIndex},null,8,["battle-list","cur-showing-battle-index","cur-going-battle-index","onChangeCurShowingBattleIndex"]),n.cardCustom[n.cardState].matchingTitle?(_(),C(m,{key:0,title:n.cardCustom[n.cardState].matchingTitle,countdown:n.cardCustom[n.cardState].matchingCountdown,onCountdownFinish:a.countdownFinish,onRefresh:a.refresh},null,8,["title","countdown","onCountdownFinish","onRefresh"])):n.cardCustom[n.cardState].showBattleScoreList?(_(),C(I,{key:1,title:"积分排名","show-rank":!1,"show-detail-entrance":!1,"show-win-or-fail":!0,"battle-score-list":n.cardCustom[n.cardState].battleScoreList,onCheckDetailScore:a.checkDetailScore},null,8,["battle-score-list","onCheckDetailScore"])):n.cardCustom[n.cardState].showBattleResultList?(_(),C(T,{key:2,"show-win-or-fail":!0,"battle-score-list":n.cardCustom[n.cardState].battleScoreList},null,8,["battle-score-list"])):n.cardCustom[n.cardState].showMatchingResult?(_(),C(f,{key:3,"is-success":n.cardCustom[n.cardState].isMatchingSuccess},null,8,["is-success"])):c("",!0),n.cardCustom[n.cardState].mainButton?(_(),C(w,{key:4,"main-button":n.cardCustom[n.cardState].mainButton,"main-button-class":n.cardCustom[n.cardState].mainButtonClass,"button-tips":n.cardCustom[n.cardState].buttonTips,countdown:n.cardCustom[n.cardState].buttonCountdown,"is-no-margin-top":!1,"left-icon-font":n.cardCustom[n.cardState].leftIconFont,"left-icon-text":n.cardCustom[n.cardState].leftIconText,"right-icon-font":n.cardCustom[n.cardState].rightIconFont,"right-icon-text":n.cardCustom[n.cardState].rightIconText,onClickLeftIcon:a.clickLeftIcon,onClickRightIcon:a.clickRightIcon,onClickMainButton:a.clickMainButton,onCountdownFinish:a.countdownFinish},null,8,["main-button","main-button-class","button-tips","countdown","left-icon-font","left-icon-text","right-icon-font","right-icon-text","onClickLeftIcon","onClickRightIcon","onClickMainButton","onCountdownFinish"])):c("",!0)],64)):[i.CARD_STATUS_MAP.KNOCK_OUT_SIGNED_UP].indexOf(n.cardState)>-1?(_(),s(S,{key:1},[k(b,{"member-list":n.memberList,"is-manual-start":n.isManualStart,"game-start-countdown":n.gameStartCountdown,"sign-up-countdown":t.signUpCountdown,"team-name":n.teamName,"min-sign-num":n.minSignNum},null,8,["member-list","is-manual-start","game-start-countdown","sign-up-countdown","team-name","min-sign-num"]),k(w,{"main-button":"邀请队员","main-button-class":i.CARD_BUTTON_CLASS.PRIMARY,"is-no-margin-top":!1,countdown:-1,onClickMainButton:a.inviteMember},null,8,["main-button-class","onClickMainButton"])],64)):[i.CARD_STATUS_MAP.KNOCK_OUT_OPPONENT].indexOf(n.cardState)>-1?(_(),s(S,{key:2},[k(p,{"battle-list":n.battleList,"cur-showing-battle-index":n.curGoingBattleIndex,"cur-going-battle-index":n.curGoingBattleIndex,onChangeCurShowingBattleIndex:a.changeCurShowingBattleIndex},null,8,["battle-list","cur-showing-battle-index","cur-going-battle-index","onChangeCurShowingBattleIndex"]),k(A,{"team-avatar":n.teamAvatar,"team-name":n.teamName,"opponent-info":n.opponentInfo,onClickTeam:a.clickTeam},null,8,["team-avatar","team-name","opponent-info","onClickTeam"]),n.opponentInfo.showLaunchGameButton?(_(),C(w,{key:0,"main-button":"去备战","main-button-class":i.CARD_BUTTON_CLASS.PRIMARY,"is-no-margin-top":!1,countdown:n.enterGameCountdown,onClickLeftIcon:a.clickLeftIcon,onClickRightIcon:a.clickRightIcon,onClickMainButton:a.clickMainButton},null,8,["main-button-class","countdown","onClickLeftIcon","onClickRightIcon","onClickMainButton"])):n.opponentInfo.showGamePlayingButton?(_(),C(w,{key:1,"main-button":"比赛进行中","main-button-class":i.CARD_BUTTON_CLASS.INVALID,"is-no-margin-top":!1,countdown:n.enterGameCountdown,onClickLeftIcon:a.clickLeftIcon,onClickRightIcon:a.clickRightIcon,onClickMainButton:a.clickMainButton},null,8,["main-button-class","countdown","onClickLeftIcon","onClickRightIcon","onClickMainButton"])):c("",!0)],64)):[i.CARD_STATUS_MAP.KNOCK_OUT_RESULT].indexOf(n.cardState)>-1?(_(),s(S,{key:3},[k(B,{"card-state":n.cardState,"game-rank":n.gameRank},null,8,["card-state","game-rank"]),k(y,{"member-list":n.memberList,"team-name":n.teamName},null,8,["member-list","team-name"]),k(w,{"main-button":"分享比赛","is-admin":n.isAdmin,"main-button-class":i.CARD_BUTTON_CLASS.PRIMARY,countdown:-1,"show-send-award":n.showSendAward,"second-button":n.showSendAward&&n.isAdmin?"发放游戏礼包":"","second-button-class":i.CARD_BUTTON_CLASS.INVALID,onClickLeftIcon:a.clickLeftIcon,onClickRightIcon:a.clickRightIcon,onClickMainButton:a.clickShare,onClickSecondButton:a.clickAwarding},null,8,["is-admin","main-button-class","show-send-award","second-button","second-button-class","onClickLeftIcon","onClickRightIcon","onClickMainButton","onClickSecondButton"])],64)):n.cardState===i.CARD_STATUS_MAP.PLAYING_AND_NOT_SATISFIED?(_(),s(S,{key:4},[k(u,{title:"比赛进行中","cur-going-battle-seq":n.curGoingBattleIndex+1,"page-type":2,"member-list":n.memberList,"total-battle-length":n.totalBattleLength,onInviteMember:a.inviteMember},null,8,["cur-going-battle-seq","member-list","total-battle-length","onInviteMember"]),k(w,{"main-button":"邀请队友","button-tips":a.inviteMemberButtonTips,onClickMainButton:a.inviteMember},null,8,["button-tips","onClickMainButton"])],64)):n.cardState===i.CARD_STATUS_MAP.SATISFIED_AND_CAN_INVITE?(_(),s(S,{key:5},[k(u,{title:"比赛进行中","cur-going-battle-seq":n.curGoingBattleIndex+1,"page-type":2,"member-list":n.memberList,"total-battle-length":n.totalBattleLength,onInviteMember:a.inviteMember},null,8,["cur-going-battle-seq","member-list","total-battle-length","onInviteMember"]),k(w,{"main-button":n.cardCustom[n.cardState].mainButton,"second-button":n.cardCustom[n.cardState].secondButton,"second-countdown":n.cardCustom[n.cardState].secondCountdown,"second-button-tips":n.cardCustom[n.cardState].secondButtonTips,"second-button-class":n.cardCustom[n.cardState].secondButtonClass,onClickMainButton:a.clickMainButton,onClickSecondButton:a.clickSecondButton,onCountdownFinish:a.countdownFinish},null,8,["main-button","second-button","second-countdown","second-button-tips","second-button-class","onClickMainButton","onClickSecondButton","onCountdownFinish"])],64)):n.cardState===i.CARD_STATUS_MAP.SATISFIED_AND_CAN_NOT_INVITE?(_(),s(S,{key:6},[k(p,{"battle-list":n.battleList,"cur-showing-battle-index":n.curShowingBattleIndex,"cur-going-battle-index":n.curGoingBattleIndex,onChangeCurShowingBattleIndex:a.changeCurShowingBattleIndex},null,8,["battle-list","cur-showing-battle-index","cur-going-battle-index","onChangeCurShowingBattleIndex"]),n.curShowingBattleIndex<n.curGoingBattleIndex?(_(),C(I,{key:0,title:"队伍积分","show-rank":!0,"battle-score-list":n.battleScoreList,onCheckDetailScore:a.checkDetailScore},null,8,["battle-score-list","onCheckDetailScore"])):n.curShowingBattleIndex==n.curGoingBattleIndex?(_(),C(u,{key:1,title:n.cardCustom[n.cardState].title,"short-mode":!0,"page-type":2,"member-list":n.memberList,"total-battle-length":n.totalBattleLength,onCountdownFinish:a.countdownFinish},null,8,["title","member-list","total-battle-length","onCountdownFinish"])):n.curShowingBattleIndex>n.curGoingBattleIndex?(_(),C(u,{key:2,title:"待开赛","short-mode":!0,"page-type":2,"member-list":n.memberList,"total-battle-length":n.totalBattleLength,onCountdownFinish:a.countdownFinish},null,8,["member-list","total-battle-length","onCountdownFinish"])):c("",!0),k(w,{"main-button":n.cardCustom[n.cardState].mainButton,"main-button-class":n.cardCustom[n.cardState].mainButtonClass,countdown:n.cardCustom[n.cardState].mainButtonCountdown,"button-tips":n.cardCustom[n.cardState].buttonTips,"left-icon-font":i.CARD_ICON_FONT_MAP.CHECK_OPPONENTS,"left-icon-text":i.CARD_ICON_TEXT_MAP.CHECK_OPPONENTS,"right-icon-font":i.CARD_ICON_FONT_MAP.CHECK_PLAYING_LIST,"right-icon-text":i.CARD_ICON_TEXT_MAP.CHECK_PLAYING_LIST,onClickLeftIcon:a.checkOpponents,onClickRightIcon:a.checkPlayingList,onClickMainButton:a.clickMainButton,onCountdownFinish:a.countdownFinish},null,8,["main-button","main-button-class","countdown","button-tips","left-icon-font","left-icon-text","right-icon-font","right-icon-text","onClickLeftIcon","onClickRightIcon","onClickMainButton","onCountdownFinish"])],64)):[i.CARD_STATUS_MAP.GAME_WILL_START,i.CARD_STATUS_MAP.BATTLE_WILL_START].indexOf(n.cardState)>-1?(_(),s(S,{key:7},[k(p,{"battle-list":n.battleList,"cur-showing-battle-index":n.curShowingBattleIndex,"cur-going-battle-index":n.curGoingBattleIndex,onChangeCurShowingBattleIndex:a.changeCurShowingBattleIndex},null,8,["battle-list","cur-showing-battle-index","cur-going-battle-index","onChangeCurShowingBattleIndex"]),n.isManualStart?(_(),s(S,{key:0},[n.curShowingBattleIndex<n.curGoingBattleIndex?(_(),C(I,{key:0,title:"队伍积分","show-rank":!0,"battle-score-list":n.battleScoreList,onCheckDetailScore:a.checkDetailScore},null,8,["battle-score-list","onCheckDetailScore"])):(_(),C(m,{key:1,title:n.curShowingBattleIndex>n.curGoingBattleIndex?"比赛即将开始":n.cardCustom[n.cardState].title||"比赛即将开始",description:n.cardState===i.CARD_STATUS_MAP.GAME_WILL_START?"":"请等待裁判开打",countdown:n.cardState===i.CARD_STATUS_MAP.GAME_WILL_START?n.gameStartCountdown:-1,onCountdownFinish:a.countdownFinish,onRefresh:a.refresh},null,8,["title","description","countdown","onCountdownFinish","onRefresh"])),k(w,{"main-button":n.curShowingBattleIndex<n.curGoingBattleIndex?n.battleList[n.curShowingBattleIndex]&&n.battleList[n.curShowingBattleIndex].battleId?"对局已结束":"您未出战":n.cardCustom[n.cardState].mainButton,"main-button-class":n.curShowingBattleIndex<n.curGoingBattleIndex?i.CARD_BUTTON_CLASS.INVALID:n.cardCustom[n.cardState].mainButtonClass,"button-tips":n.curShowingBattleIndex<n.curGoingBattleIndex?"":n.cardCustom[n.cardState].buttonTips,countdown:-1,"left-icon-font":n.cardCustom[n.cardState].leftIconFont,"left-icon-text":n.cardCustom[n.cardState].leftIconText,"right-icon-font":n.cardCustom[n.cardState].rightIconFont,"right-icon-text":n.cardCustom[n.cardState].rightIconText,onClickLeftIcon:a.clickLeftIcon,onClickRightIcon:a.clickRightIcon,onClickMainButton:a.clickMainButton,onCountdownFinish:a.countdownFinish},null,8,["main-button","main-button-class","button-tips","left-icon-font","left-icon-text","right-icon-font","right-icon-text","onClickLeftIcon","onClickRightIcon","onClickMainButton","onCountdownFinish"])],64)):(_(),s(S,{key:1},[n.curShowingBattleIndex<n.curGoingBattleIndex?(_(),C(I,{key:0,title:"队伍积分","show-rank":!0,"battle-score-list":n.battleScoreList,onCheckDetailScore:a.checkDetailScore},null,8,["battle-score-list","onCheckDetailScore"])):(_(),C(m,{key:1,title:"比赛即将开始",countdown:a.currentGameStartCountdown,onCountdownFinish:a.countdownFinish,onRefresh:a.refresh},null,8,["countdown","onCountdownFinish","onRefresh"])),k(w,{"main-button":n.curShowingBattleIndex<n.curGoingBattleIndex?n.battleList[n.curShowingBattleIndex]&&n.battleList[n.curShowingBattleIndex].battleId?"对局已结束":"您未出战":n.cardCustom[n.cardState].mainButton,"main-button-class":n.curShowingBattleIndex<n.curGoingBattleIndex?i.CARD_BUTTON_CLASS.INVALID:n.cardCustom[n.cardState].mainButtonClass,"button-tips":n.curShowingBattleIndex<n.curGoingBattleIndex?"":n.cardCustom[n.cardState].buttonTips,countdown:-1,"left-icon-font":n.cardCustom[n.cardState].leftIconFont,"left-icon-text":n.cardCustom[n.cardState].leftIconText,"right-icon-font":n.cardCustom[n.cardState].rightIconFont,"right-icon-text":n.cardCustom[n.cardState].rightIconText,onClickLeftIcon:a.clickLeftIcon,onClickRightIcon:a.clickRightIcon,onClickMainButton:a.clickMainButton,onCountdownFinish:a.countdownFinish},null,8,["main-button","main-button-class","button-tips","left-icon-font","left-icon-text","right-icon-font","right-icon-text","onClickLeftIcon","onClickRightIcon","onClickMainButton","onCountdownFinish"])],64))],64)):n.cardState===i.CARD_STATUS_MAP.BATTLE_STARTED?(_(),s(S,{key:8},[k(p,{"battle-list":n.battleList,"cur-showing-battle-index":n.curShowingBattleIndex,"cur-going-battle-index":n.curGoingBattleIndex,onChangeCurShowingBattleIndex:a.changeCurShowingBattleIndex},null,8,["battle-list","cur-showing-battle-index","cur-going-battle-index","onChangeCurShowingBattleIndex"]),n.curShowingBattleIndex<n.curGoingBattleIndex?(_(),C(I,{key:0,title:"队伍积分","show-rank":!0,"battle-score-list":n.battleScoreList,onCheckDetailScore:a.checkDetailScore},null,8,["battle-score-list","onCheckDetailScore"])):n.curShowingBattleIndex==n.curGoingBattleIndex?(_(),C(m,{key:1,title:"比赛已开启",description:n.isManualStart?"请尽快进入比赛":"",countdown:n.isManualStart?-1:0,onCountdownFinish:a.countdownFinish,onRefresh:a.refresh},null,8,["description","countdown","onCountdownFinish","onRefresh"])):(_(),C(m,{key:2,title:"比赛即将开始",description:n.isManualStart?"请等待裁判开打":"",countdown:n.isManualStart?-1:a.currentGameStartCountdown,onCountdownFinish:a.countdownFinish,onRefresh:a.refresh},null,8,["description","countdown","onCountdownFinish","onRefresh"])),k(w,{"main-button":n.curShowingBattleIndex>n.curGoingBattleIndex?"待开赛":n.curShowingBattleIndex<n.curGoingBattleIndex?"本局已结束":n.cardCustom.BATTLE_STARTED.mainButton,"main-button-class":n.curShowingBattleIndex==n.curGoingBattleIndex?i.CARD_BUTTON_CLASS.PRIMARY:i.CARD_BUTTON_CLASS.INVALID,"button-tips":n.curShowingBattleIndex==n.curGoingBattleIndex?n.cardCustom.BATTLE_STARTED.buttonTips:"","left-icon-font":n.cardCustom[n.cardState].leftIconFont,"left-icon-text":n.cardCustom[n.cardState].leftIconText,"right-icon-font":n.cardCustom[n.cardState].rightIconFont,"right-icon-text":n.cardCustom[n.cardState].rightIconText,countdown:n.curShowingBattleIndex==n.curGoingBattleIndex?n.joinRoomTime:-1,onClickLeftIcon:a.clickLeftIcon,onClickRightIcon:a.clickRightIcon,onClickMainButton:a.clickMainButton,onCountdownFinish:a.countdownFinish},null,8,["main-button","main-button-class","button-tips","left-icon-font","left-icon-text","right-icon-font","right-icon-text","countdown","onClickLeftIcon","onClickRightIcon","onClickMainButton","onCountdownFinish"])],64)):[i.CARD_STATUS_MAP.BATTLE_PLAYING_JOINED,i.CARD_STATUS_MAP.BATTLE_PLAYING_NOT_JOINED].indexOf(n.cardState)>-1?(_(),s(S,{key:9},[k(p,{"battle-list":n.battleList,"cur-showing-battle-index":n.curShowingBattleIndex,"cur-going-battle-index":n.curGoingBattleIndex,onChangeCurShowingBattleIndex:a.changeCurShowingBattleIndex},null,8,["battle-list","cur-showing-battle-index","cur-going-battle-index","onChangeCurShowingBattleIndex"]),n.curShowingBattleIndex<n.curGoingBattleIndex?(_(),C(I,{key:0,title:"队伍积分","show-rank":!0,"battle-score-list":n.battleScoreList,onCheckDetailScore:a.checkDetailScore},null,8,["battle-score-list","onCheckDetailScore"])):n.curShowingBattleIndex==n.curGoingBattleIndex?(_(),C(L,{key:1,description:n.cardState===i.CARD_STATUS_MAP.BATTLE_PLAYING_JOINED?"请等待本场比赛结束":"您本场未出战"},null,8,["description"])):(_(),C(m,{key:2,title:"比赛即将开始",description:n.isManualStart?"请等待裁判开打":"",countdown:n.isManualStart?-1:a.currentGameStartCountdown,onCountdownFinish:a.countdownFinish,onRefresh:a.refresh},null,8,["description","countdown","onCountdownFinish","onRefresh"])),k(w,{"main-button":n.curShowingBattleIndex>n.curGoingBattleIndex?n.cardCustom[n.cardState].mainButton||"待开赛":n.curShowingBattleIndex<n.curGoingBattleIndex?"本局已结束":"比赛进行中","main-button-class":n.cardCustom[n.cardState].mainButtonClass||i.CARD_BUTTON_CLASS.INVALID,countdown:-1,"button-tips":n.cardCustom[n.cardState].buttonTips,"left-icon-font":n.cardCustom[n.cardState].leftIconFont,"left-icon-text":n.cardCustom[n.cardState].leftIconText,"right-icon-font":n.cardCustom[n.cardState].rightIconFont,"right-icon-text":n.cardCustom[n.cardState].rightIconText,onClickLeftIcon:a.clickLeftIcon,onClickRightIcon:a.clickRightIcon,onClickMainButton:a.clickMainButton,onCountdownFinish:a.countdownFinish},null,8,["main-button","main-button-class","button-tips","left-icon-font","left-icon-text","right-icon-font","right-icon-text","onClickLeftIcon","onClickRightIcon","onClickMainButton","onCountdownFinish"])],64)):[i.CARD_STATUS_MAP.RESULT_WAITING,i.CARD_STATUS_MAP.RESULT_WIN,i.CARD_STATUS_MAP.RESULT_FAIL,i.CARD_STATUS_MAP.RESULT_SHOW_RANK].indexOf(n.cardState)>-1?(_(),s(S,{key:10},[k(B,{"card-state":n.cardState,"game-rank":n.gameRank},null,8,["card-state","game-rank"]),k(v,{"game-rank":n.gameRank,"game-score":a.allScoreStr},null,8,["game-rank","game-score"]),k(w,{"main-button":"查看详细数据","is-admin":n.isAdmin,"main-button-class":i.CARD_BUTTON_CLASS.PRIMARY,countdown:-1,"left-icon-font":n.cardCustom[n.cardState].leftIconFont,"left-icon-text":n.cardCustom[n.cardState].leftIconText,"right-icon-font":n.cardCustom[n.cardState].rightIconFont,"right-icon-text":n.cardCustom[n.cardState].rightIconText,"show-send-award":n.showSendAward,"second-button":n.showSendAward&&n.isAdmin?"发放游戏礼包":"","second-button-class":i.CARD_BUTTON_CLASS.INVALID,onClickLeftIcon:a.clickLeftIcon,onClickRightIcon:a.clickRightIcon,onClickMainButton:a.checkDetailScore,onClickSecondButton:a.clickAwarding},null,8,["is-admin","main-button-class","left-icon-font","left-icon-text","right-icon-font","right-icon-text","show-send-award","second-button","second-button-class","onClickLeftIcon","onClickRightIcon","onClickMainButton","onClickSecondButton"])],64)):c("",!0)])),_:1}))])}]]),PressCell:x,PressPopupCell:st,PressPicker:dt,DemoInput:ct},data:()=>({MOCK_DATA:{...wt},sectionStyle:"margin: 0;background: #f7f8fa;",headerStyle:"background: #f7f8fa;",FUNCTIONAL_ID_MAP:X,autosize:{maxHeight:600,minHeight:50},MOCK_SCHEDULE_DATA:"",isAdmin:!0,showSendAward:!0}),computed:{},mounted(){this.changeParams({})},methods:{changeCurShowingBattleIndex(t){this.MOCK_DATA.curShowingBattleIndex=t,this.initCardCustom()},clickLeftIcon(){this.onGTip("[clickLeftIcon]")},clickRightIcon(){this.onGTip("[clickRightIcon]")},clickMainButton(){this.onGTip("[clickMainButton]")},checkDetailScore(){this.onGTip("[checkDetailScore]")},onShowBasicPopupCell(){const{MOCK_DATA:t}=this;gt({context:this,mockData:t,callback:{changeParams:this.changeParams}})},changeParams(t={}){this.MOCK_DATA={...this.MOCK_DATA,...t},t.cardState&&kt.setLocal(t.cardState),this.initCardCustom()},initCardCustom(){const{isManualStart:t,isVirtualRoom:e,curGoingBattleIndex:n,curShowingBattleIndex:o,battleList:i,cardState:a,matchingStatus:s}=this.MOCK_DATA;let c;if(a===U.CYCLE_MATCH){const t=function({battleList:t,curGoingBattleIndex:e,curShowingBattleIndex:n,matchingStatus:o,matchingCountdown:i=0,actEndTime:a,actStartTime:s,myTeamIdOrUId:c=""}){const r={leftIconFont:"",leftIconText:"",rightIconFont:"",rightIconText:""},l=parseInt("".concat(Date.now()/1e3),10),u=t=>({matchingTitle:"",matchingCountdown:0,showMatchingResult:!1,showBattleResultList:!1,showBattleScoreList:!1,isMatchingFail:!1,isMatchingSuccess:!1,...t});if(s&&s>l)return{...u({matchingTitle:"匹配未开启",matchingCountdown:s?1e3*Math.max(s-l,0):0}),mainButton:E.WAIT_MATCHING,mainButtonClass:O.INVALID,buttonTips:"",...r,memo:"actStartTime > now"};if(a&&a<l)return{...u({showBattleResultList:!0}),battleScoreList:ht({battleList:t,myTeamIdOrUId:c}),mainButton:"",leftIconFont:"",leftIconText:"",rightIconFont:"",rightIconText:"",memo:"actEndTime < now"};if(n>e)return{...u({matchingTitle:"匹配未开启",matchingCountdown:0}),mainButton:E.WAIT_MATCHING,mainButtonClass:O.INVALID,buttonTips:"",...r,memo:"check next battle"};if(n<e){const e=ht({battleList:t,myTeamIdOrUId:c});return{...u({showBattleScoreList:!0}),battleScoreList:e,mainButton:E.MATCHING_END,mainButtonClass:O.INVALID,buttonTips:"",...r,memo:"check last battle"}}const d=t[t.length-1];if(o===G.FAILED)return{...u({showMatchingResult:!0,isMatchingFail:!0}),mainButton:E.CONTINUE_MATCHING,mainButtonClass:O.PRIMARY,buttonTips:"",...r,memo:"match status is FAILED"};if(d&&200===d.scheState&&o!==G.ON_GOING&&a&&a>l)return{...u({matchingTitle:"匹配已开启",matchingCountdown:a?1e3*Math.max(a-l,0):0}),mainButton:E.START_MATCHING,mainButtonClass:O.PRIMARY,buttonTips:"",...r,memo:"last battle is end & act not end"};if(o===G.UNKNOWN)return{...u({matchingTitle:"匹配未开启",matchingCountdown:0}),mainButton:E.WAIT_MATCHING,mainButtonClass:O.INVALID,buttonTips:"",...r,memo:"match status is UNKNOWN"};if(o===G.UN_JOIN)return{...u({matchingTitle:"匹配已开启",matchingCountdown:a?1e3*Math.max(a-l,0):0}),mainButton:E.START_MATCHING,mainButtonClass:O.PRIMARY,buttonTips:"",...r,memo:"match status is UN_JOIN"};if(o===G.ON_GOING)return{...u({matchingTitle:"匹配已开启",matchingCountdown:1e3*i}),mainButton:E.MATCHING,mainButtonClass:O.PRIMARY,buttonTips:"",...r,memo:"match status is ON_GOING"};if(o===G.SUCCESS){let t={mainButton:E.BATTLE_PLAYING,mainButtonClass:O.INVALID,buttonTips:""};return(null==d?void 0:d.can_enter_game)&&(t={mainButton:E.LAUNCH_GAME,mainButtonClass:O.PRIMARY,buttonCountdown:1e3*(d.enter_game_remain||0)+Date.now(),buttonTips:""}),{...u({showMatchingResult:!0,isMatchingSuccess:!0}),...t,...r,memo:"match status is SUCCESS"}}return d||o?{}:{...u({matchingTitle:"匹配已开启",matchingCountdown:a?1e3*Math.max(a-l,0):0}),mainButton:E.START_MATCHING,mainButtonClass:O.PRIMARY,buttonTips:"",...r,memo:"not battle && not match status"}}({curGoingBattleIndex:n,curShowingBattleIndex:o,battleList:i,...It(s)});c={[U.CYCLE_MATCH]:t}}else c=xt({isVirtualRoom:e,curGoingBattleIndex:n,curShowingBattleIndex:o,battleList:i,cardState:a});this.MOCK_DATA.cardCustom[a]={...wt.cardCustom[a],...c[a]},this.MOCK_DATA.battleList=t?wt.battleList.map((t=>({title:t.title}))):wt.battleList.map((t=>({...t}))),o<n?this.setCardCustom({buttonTips:"",mainButton:"本局已结束",mainButtonClass:O.INVALID}):o>n?this.setCardCustom({buttonTips:"",mainButton:"待开赛",mainButtonClass:O.INVALID}):e?this.setCardCustom({buttonTips:"进入备战房",mainButton:"进入比赛",mainButtonClass:O.PRIMARY}):this.setCardCustom({buttonTips:"",mainButton:"待开赛",mainButtonClass:O.INVALID})},setCardCustom(t={}){this.MOCK_DATA.cardCustom.BATTLE_WILL_START={...wt.cardCustom.BATTLE_WILL_START,...t}},clickOpponent(){this.onGTip("clickOpponent")},clickKnockoutBattle(){this.onGTip("clickKnockoutBattle")},clickShare(){this.onGTip("clickShare"),this.isAdmin=!this.isAdmin},clickAwarding(){this.onGTip("clickAwarding")},inviteMember(){this.onGTip("inviteMember")},refresh(){this.onGTip("refresh"),console.log("[refresh]")},onConfirmInput(t){t||(this.MOCK_DATA={...wt});let e={};try{e=JSON.parse(t)}catch(h){e={}}if(!Object.keys(e).length)return void this.onGTip("解析失败");const{userGameInfo:n,curJoinStatus:o,mineInBattle:i,memInfo:a,childInfo:s,signUpTitle:c,childType:r,showRoleInfo:l}=e,u=Dt(n,o,i),d=function(t={}){const{game_info:e={}}=t;return{roleName:e.roleName||"",device:2==e.device?"":"iOS",roleId:e.roleid}}(a),p=function(t={}){return t.join_end?{signUpCountdown:1e3*(t.join_end-parseInt("".concat(Date.now()/1e3),10))}:{signUpCountdown:0}}(s),m=xt(u);this.MOCK_DATA={...u,...d,...p,childName:n.child_name,showRoleInfo:l,cardCustom:m,signUpTitle:c,childType:r}}}},[["render",function(t,e,n,o,i,a){const c=h("PressCell"),r=h("DemoBlock"),l=h("PressScheduleCardGp"),u=h("DemoInput"),d=h("PressPopupCell"),p=h("PressPicker");return _(),s("div",{class:"demo-wrap demo-wrap--gray demo-wrap--gp-iconfont"},[k(r,{title:t.t("basicUsage"),"section-style":i.sectionStyle,"header-style":i.headerStyle},{default:g((()=>[k(c,{title:t.t("custom"),"is-link":"",onClick:a.onShowBasicPopupCell},null,8,["title","onClick"])])),_:1},8,["title","section-style","header-style"]),k(l,{"game-rank":i.MOCK_DATA.gameRank,"child-name":i.MOCK_DATA.childName,"child-type":i.MOCK_DATA.childType,"show-role-info":i.MOCK_DATA.showRoleInfo,"role-name":i.MOCK_DATA.roleName,device:i.MOCK_DATA.device,"role-id":i.MOCK_DATA.roleId,"battle-list":i.MOCK_DATA.battleList,"cur-showing-battle-index":i.MOCK_DATA.curShowingBattleIndex,"cur-going-battle-index":i.MOCK_DATA.curGoingBattleIndex,"card-state":i.MOCK_DATA.cardState,"is-manual-start":i.MOCK_DATA.isManualStart,"battle-score-list":i.MOCK_DATA.battleScoreList,"card-custom":i.MOCK_DATA.cardCustom,"join-room-time":i.MOCK_DATA.joinRoomTime,"sign-up-countdown":i.MOCK_DATA.signUpCountdown,"sign-up-title":i.MOCK_DATA.signUpTitle,"member-list":i.MOCK_DATA.memberList,"team-name":i.MOCK_DATA.teamName,"team-avatar":i.MOCK_DATA.teamAvatar,"opponent-info":i.MOCK_DATA.opponentInfo,"is-admin":i.isAdmin,"show-send-award":i.showSendAward,onChangeCurShowingBattleIndex:a.changeCurShowingBattleIndex,onClickLeftIcon:a.clickLeftIcon,onClickRightIcon:a.clickRightIcon,onCheckDetailScore:a.checkDetailScore,onClickMainButton:a.clickMainButton,onClickOpponent:a.clickOpponent,onClickKnockoutBattle:a.clickKnockoutBattle,onClickShare:a.clickShare,onClickAwarding:a.clickAwarding,onInviteMember:a.inviteMember,onRefresh:a.refresh},null,8,["game-rank","child-name","child-type","show-role-info","role-name","device","role-id","battle-list","cur-showing-battle-index","cur-going-battle-index","card-state","is-manual-start","battle-score-list","card-custom","join-room-time","sign-up-countdown","sign-up-title","member-list","team-name","team-avatar","opponent-info","is-admin","show-send-award","onChangeCurShowingBattleIndex","onClickLeftIcon","onClickRightIcon","onCheckDetailScore","onClickMainButton","onClickOpponent","onClickKnockoutBattle","onClickShare","onClickAwarding","onInviteMember","onRefresh"]),k(u,{"section-style":i.sectionStyle,"header-style":i.headerStyle,autosize:i.autosize,value:i.MOCK_SCHEDULE_DATA,onConfirm:a.onConfirmInput},null,8,["section-style","header-style","autosize","value","onConfirm"]),k(d,{id:i.FUNCTIONAL_ID_MAP.POPUP_CELL,ref:i.FUNCTIONAL_ID_MAP.POPUP_CELL,mode:"functional"},null,8,["id"]),k(p,{id:i.FUNCTIONAL_ID_MAP.PICKER,ref:i.FUNCTIONAL_ID_MAP.PICKER,mode:"functional"},null,8,["id"])])}],["__scopeId","data-v-e1b2e1ec"]]);export{Jt as default};
