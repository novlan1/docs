import{_ as e,c as t,b as s,a,i as o,D as l,e as n,W as i,w as c,o as r,aL as d,af as u,ae as h,d as m,n as p,F as f,l as T,h as v,S as y,r as g,J as S,f as I,j as L}from"./index-DdqTp3oi.js";import{a as k}from"./press-list.Bcv4-KBB.js";let b={name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",complete:"完成",loading:"加载中...",telEmpty:"请填写电话",nameEmpty:"请填写姓名",nameInvalid:"请输入正确的姓名",confirmDelete:"确定要删除吗",telInvalid:"请输入正确的手机号",reply:"回复",calendar:{end:"结束",start:"开始",title:"日期选择",confirm:"确定",startEnd:"开始/结束",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>"".concat(e,"年").concat(t,"月"),rangePrompt:e=>"选择天数不能超过 ".concat(e," 天")},picker:{confirm:"确定"},dialog:{title:"温馨提示"},scheduleTree:{pending:"待定",emptyTeam:"轮空",quitScore:"弃",champion:"冠军",thirdPlace:"季军",checkFinal:"决赛区  查看>",groupedChampion:e=>e?"分组冠军":"分组季军",ended:"已结束",playing:"比赛中",currentBo:(e,t)=>"当前".concat(e||"","/").concat(t||"","局"),joining:"上场中",joiningAndTimeoutAutoQuit:"上场中 超时自动弃权",startMatchOnTime:"M/d hh:mm开赛",endTimeFormat:"M/d hh:mm",startBattleAuto:"人满开赛",startBattleManual:"待管理员开赛",startBattleOnTime:"定时开赛"},scheduleList:{finals:"总决赛",finalsChampion:"冠军",me:"我",joinDeadline:"M/d hh:mm 截止上场",manage:"管理",spectate:"观战",toPlay:"去比赛",reCap:"回顾",subscribe:"订阅",subscribed:"已订阅"},actTipDialog:{prompt:"提示描述"}},w=function(){};const C=function(e="",...t){let s=w.apply(this);if(null!=s)return s;const a=e.split(".");let o=b;for(let l=0,n=a.length;l<n;l++){const e=a[l];if(s=o[e],l===n-1)return s?"function"==typeof s?s(...t):s:b[e]||"";if(!s)return b[a[a.length-1]]||"";o=s}return""};C("scheduleTree.startBattleAuto"),C("scheduleTree.startBattleManual"),C("scheduleTree.startBattleOnTime");const M={KNOCK_OUT:{name:"KNOCK_OUT",title:"淘汰赛",scheduleName:"knockout"},CYCLE:{name:"CYCLE",title:"循环赛",scheduleName:"cycle"},DOUBLE_FAIL_LOSER:{name:"DOUBLE_FAIL_LOSER",title:"双败赛败者组",scheduleName:"doubleFailLoser"},SWISS_SYSTEM:{name:"SWISS_SYSTEM",title:"瑞士轮",scheduleName:"swiss"}},N={TREE_REF:"scheduleTree",TREE_ID:"scheduleTreeId"},P=k(N.TREE_ID);function E(e,t=!1){if(!t)return;const s=Array.isArray(e)?e:[e];console.log(s.join(" "))}function A(e){_(0,{animation:!0})}function _(e=0,{animation:t=!0}){const s=Date.now(),a=null==document?void 0:document.querySelector(P);if(!a)return;const o=a.scrollTop;if(o===e)return;if(!t)return void(a.scrollTop=e);const l=e-o,n=window.requestAnimationFrame||(e=>setTimeout(e,16)),i=()=>{const t=(Date.now()-s)/500;t<1?(a.scrollTop=o+l*t,n(i)):a.scrollTop=e};n(i)}let R,B=0;let x=0,D=0,q=0;function O(){var e;B=(null==(e=null==document?void 0:document.querySelector(P))?void 0:e.scrollTop)||0}function G(e,t){const s=null==document?void 0:document.querySelector(P);if(s)if(t){const t=-e,a=Date.now();cancelAnimationFrame(R),R=window.requestAnimationFrame||(e=>setTimeout(e,16));const o=()=>{const l=(Date.now()-a)/300;l<1?(s.scrollTop=B+t*l,R(o)):s.scrollTop=B-e};R(o)}else s.scrollTop=B+e}function W(e){return 32+100*e+16*(e-1)}const F="press-schedule-tree-pair--mine",Y="press-schedule-tree-pair--recent",V="HORIZONTAL",$="VERTICAL",K={PENDING:"https://image-1251917893.file.myqcloud.com/Esports/new/user/dd.png",BYE:"https://image-1251917893.file.myqcloud.com/Esports/new/user/team-logo.png",QUIT:"https://image-1251917893.file.myqcloud.com/Esports/new/user/team-logo.png"};let j="",X=!1;const H={endX:0,endY:0};function U(e){return(null==e?void 0:e.schId)||e.schid}const z=e({name:"PressScheduleTree",components:{TwoTeamWrap:e({name:"PressScheduleTeam",props:{scheGroupInfo:{type:Object,default:()=>({})},selectedSchId:{type:String,default:""},isPreview:{type:Number,default:0},myTeamId:{type:String,default:""},selectedTeamId:{type:String,default:""},customClass:{type:String,default:""}},emits:["clickSche","clickVideoIcon"],data:()=>({i18nMap:{pending:C("scheduleTree.pending"),emptyTeam:C("scheduleTree.emptyTeam"),quitScore:C("scheduleTree.quitScore")}}),computed:{upTeamInfo(){return this.scheGroupInfo.upTeamInfo||{}},bottomTeamInfo(){return this.scheGroupInfo.downTeamInfo||{}},abnormalTip(){const{abnormalErr:e=!1}=this.scheGroupInfo;return e}},mounted(){},methods:{onClickSche(){this.$emit("clickSche",this.scheGroupInfo.schid,this.scheGroupInfo)},onWatchBattle(){this.$emit("clickVideoIcon",this.scheGroupInfo.schid,this.scheGroupInfo)}}},[["render",function(e,d,u,h,m,p){const f=i("lazy");return r(),t("div",{class:o(["press-schedule-team",u.customClass])},[s("div",{class:o({"press-schedule-team-main":!0,"press-schedule-team-main--selected":u.selectedSchId&&u.selectedSchId==u.scheGroupInfo.schid}),onClick:d[0]||(d[0]=c(((...e)=>p.onClickSche&&p.onClickSche(...e)),["stop"]))},[s("div",{class:o([{"press-schedule-team-one--lose":[m.i18nMap.emptyTeam,m.i18nMap.pending].includes(p.upTeamInfo.teamname)||1==p.bottomTeamInfo.isWinner||p.upTeamInfo.scoreDesc===m.i18nMap.quitScore,"press-schedule-team-one--active":u.selectedTeamId&&u.selectedTeamId==p.upTeamInfo.teamid||p.upTeamInfo.teamid==u.myTeamId},"press-schedule-team-one--up press-schedule-team-one"])},[p.upTeamInfo.teamAvatarText?(r(),t("div",{key:0,class:"press-schedule-team-avatar-text press-schedule-team-avatar-text--up"},n(p.upTeamInfo.teamAvatarText),1)):p.upTeamInfo.teamAvatarSkeleton?(r(),t("div",{key:1,class:"press-schedule-team-avatar-preview"})):p.upTeamInfo.teamAvatar?l((r(),t("img",{key:2,class:"press-schedule-team-avatar"},null,512)),[[f,p.upTeamInfo.teamAvatar]]):a("",!0),p.upTeamInfo.teamNameSkeleton?(r(),t("div",{key:3,class:"press-schedule-team-name-preview"})):p.upTeamInfo.teamNameDesc?(r(),t("div",{key:4,class:"press-schedule-team-name"},n(p.upTeamInfo.teamNameDesc),1)):a("",!0),p.upTeamInfo.scoreDesc?(r(),t("p",{key:5,class:"press-schedule-team-score"},n(p.upTeamInfo.scoreDesc),1)):a("",!0)],2),s("div",{class:o([{"press-schedule-team-one--lose":[m.i18nMap.emptyTeam,m.i18nMap.pending].includes(p.bottomTeamInfo.teamname)||1==p.upTeamInfo.isWinner||p.bottomTeamInfo.scoreDesc===m.i18nMap.quitScore,"press-schedule-team-one--active":u.selectedTeamId&&u.selectedTeamId==p.bottomTeamInfo.teamid||p.bottomTeamInfo.teamid==u.myTeamId},"press-schedule-team-one--down press-schedule-team-one"])},[p.bottomTeamInfo.teamAvatarText?(r(),t("div",{key:0,class:"press-schedule-team-avatar-text press-schedule-team-avatar-text--down"},n(p.bottomTeamInfo.teamAvatarText),1)):p.bottomTeamInfo.teamAvatarSkeleton?(r(),t("div",{key:1,class:"press-schedule-team-avatar-preview"})):p.bottomTeamInfo.teamAvatar?l((r(),t("img",{key:2,class:"press-schedule-team-avatar"},null,512)),[[f,p.bottomTeamInfo.teamAvatar]]):a("",!0),p.bottomTeamInfo.teamNameSkeleton?(r(),t("div",{key:3,class:"press-schedule-team-name-preview"})):p.bottomTeamInfo.teamNameDesc?(r(),t("div",{key:4,class:"press-schedule-team-name"},n(p.bottomTeamInfo.teamNameDesc),1)):a("",!0),p.bottomTeamInfo.scoreDesc?(r(),t("p",{key:5,class:"press-schedule-team-score"},n(p.bottomTeamInfo.scoreDesc),1)):a("",!0)],2),p.abnormalTip?(r(),t("div",{key:0,class:"press-schedule-team--err-tip"},[s("div",{class:"press-schedule-team__err-icon"})])):a("",!0)],2),s("div",{class:"press-schedule-team-tips"},[u.scheGroupInfo.bracketIdDesc?(r(),t("p",{key:0,class:"press-schedule-team-tip press-schedule-team-tip--bg"},n(u.scheGroupInfo.bracketIdDesc),1)):a("",!0),u.scheGroupInfo.timeDesc?(r(),t("p",{key:1,class:"press-schedule-team-tip"},n(u.scheGroupInfo.timeDesc),1)):a("",!0),u.scheGroupInfo.statusDesc?(r(),t("p",{key:2,class:o(["press-schedule-team-tip",{"press-schedule-team-tip--light":u.scheGroupInfo.isStatusHighList}])},n(u.scheGroupInfo.statusDesc),3)):a("",!0),u.scheGroupInfo.showLiveIcon?(r(),t("div",{key:3,class:"press-schedule-team-tip-icon press-schedule-team-tip-icon--green iconfont icon-live",onClick:d[1]||(d[1]=c(((...e)=>p.onWatchBattle&&p.onWatchBattle(...e)),["stop"]))})):a("",!0),u.scheGroupInfo.showChannelsIcon?(r(),t("div",{key:4,class:"press-schedule-team-tip-icon iconfont icon-video-number"})):a("",!0)])],2)}],["__scopeId","data-v-58e08057"]]),PressLoadingPlus:d},props:{mapClass:{type:String,default:""},customClass:{type:String,default:""},scheList:{type:Array,default:()=>[]},isAdmin:{type:Boolean,default:!1},isPreview:{type:Number,default:0},myTeamId:{type:String,default:""},selectedSchId:{type:String,default:""},shadow:{type:Boolean,default:!1},autoBackToTop:{type:Boolean,default:!0},resumePosition:{type:[String,Number],default:"right"},showRoundTab:{type:Boolean,default:!0},maxColumns:{type:Number,default:3},tabScrollWidth:{type:[String,Number],default:"164"},scheduleScrollWidth:{type:[String,Number],default:"164"},showChampion:{type:Boolean,default:!0},championRoundName:{type:String,default:""},championName:{type:String,default:""},championTag:{type:String,default:""},canClickFinalSche:{type:Boolean,default:!1},specialAvatarMap:{type:Object,default:()=>K},loading:{type:Boolean,default:!1},loadingSize:{type:String,default:"20px"},loadingText:{type:String,default:"加载中..."},finished:{type:Boolean,default:!1},finishedText:{type:String,default:""},ladderMap:{type:Boolean,default:!0},scheduleName:{type:String,default:"knockout"},winnerName:{type:String,default:C("scheduleTree.champion")},page:{type:Number,default:0},totalPage:{type:Number,default:0},automaticGrouping:{type:Boolean,default:!1},recentSchId:{type:String,default:""},showRoundBO:{type:Boolean,default:!0},outerChampTeamInfo:{type:Object,default:()=>({})},hideLastBottomParallelBorder:{type:Boolean,default:!1}},emits:["clickFinalSche","clickRoundTab","scheduleOnClick","scroll","scrollToLower","clickSche","clickVideoIcon"],data:()=>({GROUP_TYPE_NAME_MAP:M,startX:0,scrollTime:0,touchStartTime:0,pageWidth:"",tabScrollNum:"0",scheduleScrollNum:"0",selectedTeamId:"",scheItemStyle:{},REF_MAP:N,MY_TEAM_SCHE_PAIR_CLASS:F,i18nMap:{pending:C("scheduleTree.pending"),champion:C("scheduleTree.champion"),thirdPlace:C("scheduleTree.thirdPlace"),emptyTeam:C("scheduleTree.emptyTeam")},swissBordersStyles:[],locating:!1}),options:{virtualHost:!0,styleIsolation:"shared"},computed:{topRowWithErrTip(){let e=!1;const{scheList:t}=this;return e=!t.every((e=>e.every((e=>{const{upScheGroup:{abnormalErr:t}={}}=e;return!t})))),e},roundList(){const{scheList:e}=this;return e.map((e=>{var t;return(null==(t=null==e?void 0:e[0])?void 0:t.roundInfo)||{}}))},schePairList(){var e;const{scheList:t}=this;return null==(e=null==t?void 0:t.map((e=>e.length)))?void 0:e.map(((e,t)=>Array.from({length:e},((e,s)=>({uniqueKey:"teamLenInnerItem-".concat(t,"-").concat(s)})))))},scheGroupList(){const{scheList:e}=this;return e.map((e=>e.reduce(((e,t)=>{var s;return e+(null==(s=t.battleList)?void 0:s.length)}),0)))},scrollList(){const{scheGroupList:e,scrollTime:t,ladderMap:s}=this,a=[0-t];if(!s)return Array.from({length:e.length}).map((()=>0));for(let o=1;o<e.length;o++){const s=a[a.length-1];let l;l=e[o]===e[o-1]?s:s+1,t===o&&l<0&&(l=0),a.push(l)}return a},fakeRoundList(){const{schePairList:e}=this;return Array.from({length:e.length},((e,t)=>({uniqueKey:"round-".concat(t)})))},tabWidth(){return 100*this.screenNum},column(){const{schePairList:e,showChampion:t}=this;return t?e.length:e.length-1},screenNum(){return Math.ceil((this.column+1)/2)},teamTotal(){if(!this.scheList.length)return 0;return 2*this.scheList[0].reduce(((e,t)=>e+=t.battleList.length),0)},champTeamInfo(){var e,t,s,a,o;const{scheList:l,outerChampTeamInfo:n}=this,i=(null==(e=null==l?void 0:l[l.length-1])?void 0:e[0])||{};if(n&&Object.keys(n).length)return n;const c=null==(s=null==(t=null==i?void 0:i.battleList)?void 0:t[0])?void 0:s.realStatus,r={teamavatar:this.specialAvatarMap.PENDING,teamname:C("scheduleTree.pending"),score:0};if(400==c)return r;return((null==(o=null==(a=null==i?void 0:i.battleList)?void 0:a[0])?void 0:o.teamList)||[]).find((e=>!!e.isWinner))||r},innerChampionRoundName(){return this.championRoundName?this.championRoundName:this.innerChampionTag},innerChampionName(){return this.championName?this.championName:this.haveNextPage?C("scheduleTree.checkFinal"):this.champTeamInfo.teamname},innerChampionTag(){return this.championTag?this.championTag:this.haveNextPage?"...":!this.automaticGrouping&&this.page!==this.totalPage-1&&this.totalPage>1?C("scheduleTree.groupedChampion",this.winnerName===this.i18nMap.champion):this.winnerName},pagination(){const{page:e,totalPage:t}=this;return{page:e,totalPage:t}},haveNextPage(){const{winnerName:e,automaticGrouping:t,page:s,totalPage:a,i18nMap:o}=this;return e!==o.thirdPlace&&t&&s!==a-1&&a>1},isSwiss(){return this.scheduleName===M.SWISS_SYSTEM.scheduleName}},watch:{column:{handler(e){const t=function(e,t){if("string"==typeof e){if("left"===e)return 0;if("right"===e)return t-1<0?0:t-1}return e||0}(this.resumePosition,e);this.scrollTime>e-1&&this.setScrollParams(t)}},pagination:{handler(e,t){const{page:s,totalPage:a}=e,{page:o}=t;a>1&&s!==o&&(A(),this.setScrollParams(0))},deep:!0},scheList:{handler(){this.$nextTick((()=>{this.calcSwissBorderHeight()}))},deep:!0}},created(){},mounted(){setTimeout((()=>{this.locateMyTeam()}),0),null==window||window.addEventListener("mouseup",this.unwatchMouseUp),this.calcSwissBorderHeight()},updated(){},destroyed(){this.onDestroyed()},unmounted(){this.onDestroyed()},methods:{calcSwissBorderHeight(){},onDestroyed(){null==window||window.removeEventListener("mouseup",this.unwatchMouseUp)},getColumnStyle(e){const{maxColumns:t,isSwiss:s}=this;return s?{height:"fit-content",overflow:"unset"}:e>t-1?{height:0,overflow:"hidden"}:e==t-1?{height:"calc(100% - 174px)",overflow:"unset"}:1==e?{height:"calc(100% - 58px)",overflow:"unset"}:e<0?{height:0,overflow:"hidden"}:{height:"auto",overflow:"unset"}},jump2Finals(){(this.canClickFinalSche||this.haveNextPage)&&this.$emit("clickFinalSche")},hasMyTeam(e,t){var s,a,o;if(e>0)return;const l=(null==(a=null==(s=this.scheList)?void 0:s[e])?void 0:a[t])||{};return!!(null==(o=null==l?void 0:l.battleList)?void 0:o.map((e=>{var t;return null==(t=null==e?void 0:e.teamList)?void 0:t.map((e=>e.teamid))})).flat().filter((e=>!!e))).includes(this.myTeamId)||void 0},isMyRecentMatch(e,t){var s,a;const o=((null==(a=null==(s=this.scheList)?void 0:s[e])?void 0:a[t])||{}).battleList.map((e=>e.schid));return this.recentSchId&&o.find((e=>e===this.recentSchId))},clickRoundTab(e){if(!this.isAdmin)return;const t=this.roundList[e]||{};this.$emit("clickRoundTab",(null==t?void 0:t.round_type)||"",t)},locateMyTeam(){!this.myTeamId||this.teamTotal<=8||this.innerLocateOnSche(F)},innerLocateOnSche(e){var t;const s=null==(t=null==document?void 0:document.querySelectorAll)?void 0:t.call(document,".".concat(e))[0];s&&_(s.offsetTop,{animation:!1})},locateMp(e){var t,s,a,o,l,n,i;null==(i=null==(n=null==(l=null==(o=null==(a=null==(s=null==(t=this.createSelectorQuery)?void 0:t.call(this))?void 0:s.select)?void 0:a.call(s,"#".concat(N.TREE_ID)))?void 0:o.node)?void 0:l.call(o))?void 0:n.exec)||i.call(n,(t=>{var s;const a=null==(s=t[0])?void 0:s.node;a&&a.scrollIntoView(e)}))},locateH5(e){var t,s,a,o;let l=null;if(this.isSwiss){l=null==(t=null==document?void 0:document.querySelectorAll)?void 0:t.call(document,".".concat(Y))[0];const o=null==(a=null==(s=null==l?void 0:l.querySelectorAll)?void 0:s.call(l,".press-schedule-team"))?void 0:a[e];if(!o)return;o.scrollIntoView()}else{if(l=null==(o=null==document?void 0:document.querySelectorAll)?void 0:o.call(document,".".concat(Y))[0],!l)return;l.scrollIntoView()}},locateMyRecentMatch(){let e=!1,t=0;this.locating=!0;let s=0;const a=()=>{this.locating&&(this.locating=!1,this.locateH5(s),this.$refs.scheduleTree.$el.removeEventListener("transitionend",a))};for(const o of this.scheList){e=!1;for(const t of o){const a=t.battleList.map((e=>e.schid)).indexOf(this.recentSchId);if(a>-1){s=a,e=!0;break}}if(e)break;t+=1}e&&(this.scrollTime!==t?(this.setScrollParams(t),this.$refs.scheduleTree.$el.addEventListener("transitionend",a,!1)):this.locateH5(s))},handleTransitionEnd(){},getBoType(e){var t;return"BO".concat((null==(t=this.roundList[e])?void 0:t.bo_type)||"")},getRoundName(e){var t;return(null==(t=this.roundList[e])?void 0:t.round_name)||""},start(e){var t;X=!0,j="";const s=(null==(t=e.touches)?void 0:t[0])||e;this.startX=null==s?void 0:s.clientX,this.startY=null==s?void 0:s.clientY,this.touchStartTime=Date.now(),this.$emit("scheduleOnClick"),O()},move(e){var t;if(!X)return;const s=(null==(t=e.touches)?void 0:t[0])||e,a=null==s?void 0:s.clientX;H.endX=a-this.startX,H.endY=(null==s?void 0:s.clientY)-this.startY,j=V;(Math.abs(H.endY)>Math.abs(H.endX)||Math.abs(H.endY)>120)&&(j=$,function(e){const t=(new Date).getTime();q=(e.endY-D)/(t-x),D=e.endY,x=t}(H),G(-H.endY,!1))},end(){return X=!1,j===$?(j="",void function(){let e=0;(new Date).getTime()-x<300&&(e=300*q/2,e=Math.min(2e5,e),e=Math.max(-2e5,e),O(),G(e,!0))}()):function({endX:e,context:t,scrollTime:s=0,column:a=1,autoBackToTop:o=!0,setScrollParams:l,needLog:n=!1}){return e<-60&&s<a-1?(E("左滑",n),o&&A(),l(s+1),!0):e>60&&0!=s?(E("右滑",n),o&&A(),l(s-1),!0):void E("just to touch",n)}({endX:H.endX,context:this,autoBackToTop:this.autoBackToTop,setScrollParams:this.setScrollParams,scrollTime:this.scrollTime,column:this.column})?(H.endX=0,void this.$emit("scroll",this.scrollTime,this.column+1)):void(H.endX=0)},onScroll(){},scrollToLower(){this.$emit("scrollToLower",this.scrollTime,this.column+1)},clickSche(e,t,s,a){var o,l;this.resetSelect();const n=(null==(l=null==(o=this.scheList)?void 0:o[s])?void 0:l[a])||{};this.$emit("clickSche",e,t,n)},clickVideoIcon(e,t,s,a){var o,l;const n=(null==(l=null==(o=this.scheList)?void 0:o[s])?void 0:l[a])||{};this.$emit("clickVideoIcon",e,t,n)},resetSelect(){this.selectedTeamId=""},setScrollParams(e){const{tabScrollWidth:t,scheduleScrollWidth:s}=this;this.tabScrollNum=-e*t,this.scheduleScrollNum=-e*s,this.scrollTime=e},setScrollTime(e){this.setScrollParams(e)},scrollToOneSche(e){e&&this.innerLocateOnSche("press-schedule-tree-pair--id-".concat(e))},setBackToTop(){A()},unwatchMouseUp(){X=!1},getTreePairClass(e,t){var s,a;const{scheList:o}=this,l=o[e][t];return h.bem2("schedule-tree-pair",[{mine:this.hasMyTeam(e,t),recent:this.isMyRecentMatch(e,t),hidden:l.hidden},"id-".concat(U(l.battleList[0])),(null==(s=l.battleList)?void 0:s[1])?"id-".concat(U(null==(a=l.battleList)?void 0:a[1])):""])},getUniqueKey:(...e)=>e.reduce(((e,t)=>"".concat(e).concat(t)),""),async realCalcSwissBorderHeight(){var e;const t=[];null==(e=this.scheList)||e.forEach((e=>{var s,a;const o=null==(a=null==(s=null==e?void 0:e[0])?void 0:s.battleList)?void 0:a.length;let l=0;e.forEach(((t,s)=>{var a;const o=(null==(a=null==t?void 0:t.battleList)?void 0:a.length)||0;l+=W(o),s!==e.length-1&&(l+=30)}));const n=W(o),i={height:"".concat(l-(n/2+n/2),"px"),top:"".concat(n/2,"px")};t.push(u(i))})),this.swissBordersStyles=t.slice(1)},getTeamClass(e,t){let s="";return t===e.length-1&&(s+="press-schedule-team--last"),0===t&&(s+=" press-schedule-team--first"),s}}},[["render",function(e,d,u,h,k,b){const w=g("TwoTeamWrap"),C=g("PressLoadingPlus"),M=y,N=i("lazy");return r(),t("div",{class:o(["press-schedule-tree","press-schedule-tree--".concat(u.scheduleName),u.mapClass,u.customClass])},[s("div",{class:"press-schedule-tree-tab-mask"}),u.showRoundTab?(r(),t("div",{key:0,class:"press-schedule-tree-tabs",style:p({width:"".concat(b.tabWidth,"%"),transform:"translate3d(".concat(k.tabScrollNum,"px, 0, 0)")}),onMousedown:d[0]||(d[0]=(...e)=>b.start&&b.start(...e)),onTouchstart:d[1]||(d[1]=(...e)=>b.start&&b.start(...e)),onMousemove:d[2]||(d[2]=(...e)=>b.move&&b.move(...e)),onTouchmove:d[3]||(d[3]=(...e)=>b.move&&b.move(...e)),onMouseup:d[4]||(d[4]=(...e)=>b.end&&b.end(...e)),onTouchend:d[5]||(d[5]=(...e)=>b.end&&b.end(...e))},[(r(!0),t(f,null,T(b.fakeRoundList,((e,l)=>(r(),t("div",{key:e.uniqueKey,class:o(["press-schedule-tree-tab",["press-schedule-tree-tab--scroll-".concat(l-k.scrollTime),u.isAdmin?"press-schedule-tree-tab--clickable":""]]),style:p({width:"".concat(u.tabScrollWidth,"px")})},[s("p",{class:"press-schedule-tree-tab-title",onClick:c((e=>b.clickRoundTab(l)),["stop"])},n(b.getRoundName(l)||""),9,["onClick"]),u.showRoundBO?(r(),t("p",{key:0,class:"press-schedule-tree-tab-desc",onClick:c((e=>b.clickRoundTab(l)),["stop"])},n(b.getBoType(l)||""),9,["onClick"])):a("",!0),u.isAdmin?(r(),t("div",{key:1,class:"press-schedule-tree-tab-desc-icon iconfont icon-back",onClick:c((e=>b.clickRoundTab(l)),["stop"])},null,8,["onClick"])):a("",!0),s("div",{class:"press-schedule-tree-tab-icon"})],6)))),128)),u.showChampion?(r(),t("div",{key:0,class:o(["press-schedule-tree-tab",["press-schedule-tree-tab--scroll-".concat(b.column-k.scrollTime)]])},[s("p",{class:"press-schedule-tree-tab-title"},n(b.innerChampionRoundName),1),s("div",{class:"press-schedule-tree-tab-icon"})],2)):a("",!0)],36)):a("",!0),b.fakeRoundList.length?(r(),m(M,{key:1,id:k.REF_MAP.TREE_ID,ref:k.REF_MAP.TREE_REF,"scroll-y":"true","scroll-x":"true","enable-flex":"true",enhanced:"true",class:o(["press-schedule-tree-main"]),style:p({width:"".concat(b.tabWidth,"%"),transform:"translate3d(".concat(k.scheduleScrollNum,"px,0,0)")}),onTouchstart:b.start,onMousedown:b.start,onTouchmove:b.move,onMousemove:b.move,onTouchend:b.end,onMouseup:b.end,onScroll:b.onScroll,onScrolltolower:b.scrollToLower,onTransitionend:b.handleTransitionEnd},{default:v((()=>[s("div",{class:o(["press-schedule-tree-layout",{"press-schedule-tree-layout--shadow":u.shadow,"press-schedule-tree-layout--err-tip":b.topRowWithErrTip}])},[(r(!0),t(f,null,T(b.fakeRoundList,((e,l)=>(r(),t("div",{id:e.uniqueKey,key:e.uniqueKey,ref_for:!0,ref:e.uniqueKey,style:p({height:b.getColumnStyle(b.scrollList[l]).height,overflow:b.getColumnStyle(b.scrollList[l]).overflow}),class:o(["press-schedule-tree-column",["press-schedule-tree-column--scroll-".concat(b.scrollList[l]),{"press-schedule-tree-column--shadow":u.shadow&&l%2==1}]])},[(r(!0),t(f,null,T(b.schePairList[l],((e,i)=>(r(),t("div",{id:e.uniqueKey,key:e.uniqueKey,ref_for:!0,ref:e.uniqueKey,class:o([b.getTreePairClass(l,i)])},[u.scheList[l][i].battleList?(r(),t(f,{key:0},[b.isSwiss&&u.scheList[l][i].swissScoreStr?(r(),t("div",{key:0,class:"press-schedule-tree-group-scoreboard-wrap"},[s("div",{class:"press-schedule-tree-group-scoreboard"},n(u.scheList[l][i].swissScoreStr),1)])):a("",!0),(r(!0),t(f,null,T(u.scheList[l][i].battleList,((e,t)=>(r(),m(w,{key:b.getUniqueKey("sche-group",t,i,l),class:o({"`${MY_RECENT_TEAM_CLASS}`":e.schid===u.recentSchId}),"my-team-id":u.myTeamId,col:l,"is-preview":u.isPreview,"sche-group-info":e,"schedule-info":u.scheList[l]&&u.scheList[l][i],"selected-team-id":k.selectedTeamId,"selected-sch-id":u.selectedSchId,"custom-class":b.getTeamClass(u.scheList[l][i].battleList,t),onClickSche:(e,t)=>b.clickSche(e,t,l,i),onClickVideoIcon:(e,t)=>b.clickVideoIcon(e,t,l,i)},null,8,["class","my-team-id","col","is-preview","sche-group-info","schedule-info","selected-team-id","selected-sch-id","custom-class","onClickSche","onClickVideoIcon"])))),128))],64)):(r(),t(f,{key:1},[u.scheList[l][i]&&u.scheList[l][i].battleList&&u.scheList[l][i].battleList[0]?(r(),m(w,{key:0,"my-team-id":u.myTeamId,col:l,"is-preview":u.isPreview,"sche-group-info":u.scheList[l]&&u.scheList[l][i]&&u.scheList[l][i].battleList[0],"schedule-info":u.scheList[l]&&u.scheList[l][i],"selected-team-id":k.selectedTeamId,"selected-sch-id":u.selectedSchId,"custom-class":b.getTeamClass([0],0),onClickSche:(e,t)=>b.clickSche(e,t,l,i),onClickVideoIcon:(e,t)=>b.clickVideoIcon(e,t,l,i)},null,8,["my-team-id","col","is-preview","sche-group-info","schedule-info","selected-team-id","selected-sch-id","custom-class","onClickSche","onClickVideoIcon"])):a("",!0),u.scheList[l][i]&&u.scheList[l][i].battleList&&u.scheList[l][i].battleList[1]?(r(),m(w,{key:1,"is-preview":u.isPreview,col:l,"my-team-id":u.myTeamId,"sche-group-info":u.scheList[l]&&u.scheList[l][i]&&u.scheList[l][i].battleList[1],"schedule-info":u.scheList[l]&&u.scheList[l][i],"is-up-two-team":!1,"selected-team-id":k.selectedTeamId,"selected-sch-id":u.selectedSchId,"custom-class":b.getTeamClass([0,1],1),onClickSche:(e,t)=>b.clickSche(e,t,l,i),onClickVideoIcon:(e,t)=>b.clickVideoIcon(e,t,l,i)},null,8,["is-preview","col","my-team-id","sche-group-info","schedule-info","selected-team-id","selected-sch-id","custom-class","onClickSche","onClickVideoIcon"])):a("",!0)],64)),s("div",{class:"press-schedule-tree-pair-gap"}),u.shadow?a("",!0):(r(),t("div",{key:2,class:o(["press-schedule-tree-pair-border",{"press-schedule-tree-pair-border--parallel":(b.scrollList[l+1]===b.scrollList[l]||l===b.scrollList.length-1)&&!b.isSwiss,"press-schedule-tree-pair-border--first":0===i,"press-schedule-tree-pair-border--last":i===b.schePairList[l].length-1,"press-schedule-tree-pair-border--no-bottom":u.scheList[l][i]&&u.scheList[l][i].battleList&&1==u.scheList[l][i].battleList.length}])},null,2))],10,["id"])))),128))],14,["id"])))),128)),u.showChampion?(r(),t("div",{key:0,class:o(["press-schedule-tree-column press-schedule-tree-column__champion",["press-schedule-tree-column--scroll-".concat(b.scrollList[b.scrollList.length-1]+1)]]),style:p({height:b.getColumnStyle(b.scrollList[b.scrollList.length-1]+1).height,overflow:b.getColumnStyle(b.scrollList[b.scrollList.length-1]+1).overflow})},[s("div",{class:"press-schedule-tree-pair"},[s("div",null,[s("div",null,[s("div",{class:o(["press-schedule-team-one--up press-schedule-team-one",{"press-schedule-team-one--active":u.myTeamId==b.champTeamInfo.teamid||k.selectedTeamId&&k.selectedTeamId==b.champTeamInfo.teamid,"press-schedule-team-one--lose":[k.i18nMap.emptyTeam,k.i18nMap.pending].includes(b.champTeamInfo.teamname)}]),onClick:d[6]||(d[6]=c(((...e)=>b.jump2Finals&&b.jump2Finals(...e)),["stop"]))},[b.champTeamInfo.teamAvatarText?(r(),t("div",{key:0,class:"press-schedule-team-avatar-text press-schedule-team-avatar-text--up"},n(b.champTeamInfo.teamAvatarText),1)):b.champTeamInfo.teamavatar?l((r(),t("img",{key:b.champTeamInfo.teamavatar,size:"50",class:"press-schedule-team-avatar"})),[[N,b.champTeamInfo.teamavatar]]):a("",!0),s("p",{class:"press-schedule-team-name"},n(b.innerChampionName),1),b.champTeamInfo.teamname!==k.i18nMap.pending?(r(),t("p",{key:2,class:"press-schedule-team-score"},n(b.champTeamInfo.score),1)):a("",!0),s("div",{class:o({"press-schedule-team-tag":!0,"press-schedule-team-tag--first":u.winnerName===k.i18nMap.champion,"press-schedule-team-tag--second":u.winnerName===k.i18nMap.thirdPlace})},n(b.innerChampionTag),3)],2)])])])],6)):a("",!0)],2),u.loading?S(e.$slots,"loading",{key:0},(()=>[s("div",{class:"press-schedule-tree__loading"},[I(C,{vertical:!1,size:u.loadingSize},{default:v((()=>[L(n(u.loadingText),1)])),_:1},8,["size"])])]),!0):a("",!0),u.finishedText&&u.finished?S(e.$slots,"finished",{key:1},(()=>[s("div",{class:"press-schedule-tree__finished"},[s("div",null,n(u.finishedText),1)])]),!0):a("",!0)])),_:3},8,["id","style","onTouchstart","onMousedown","onTouchmove","onMousemove","onTouchend","onMouseup","onScroll","onScrolltolower","onTransitionend"])):a("",!0)],2)}],["__scopeId","data-v-0d8883ec"]]);export{z as P};
