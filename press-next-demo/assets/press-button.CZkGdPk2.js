import{aR as e,_ as t,c as s,b as o,i as a,n,o as r,af as i,L as l,aL as p,ao as d,M as g,ap as c,ae as u,d as f,h as m,w as y,am as h,aS as b,r as S,F as C,f as k,a as v,e as P,J as x}from"./index-DdqTp3oi.js";const I={props:{id:{type:String,default:""},lang:{type:String,default:""},businessId:{type:String,default:""},sessionFrom:{type:String,default:""},sendMessageTitle:{type:String,default:""},sendMessagePath:{type:String,default:""},sendMessageImg:{type:String,default:""},showMessageCard:{type:String,default:""},appParameter:{type:String,default:""},ariaLabel:{type:String,default:""},openType:{type:String,default:""},getUserProfileDesc:{type:String,default:""},hoverClass:{type:String,default:""},loadingClass:{type:String,default:""}},data:()=>({canIUseGetUserProfile:e()}),methods:{triggerEvent(...e){this.$emit(...e)},onGetUserInfo(e){this.triggerEvent("getuserinfo",e)},onContact(e){this.triggerEvent("contact",e)},onGetPhoneNumber(e){this.triggerEvent("getphonenumber",e)},onError(e){this.triggerEvent("error",e)},onLaunchApp(e){this.triggerEvent("launchapp",e)},onOpenSetting(e){this.triggerEvent("opensetting",e)},onChooseAvatar(e){this.triggerEvent("chooseAvatar",e)}}};const _=t({name:"PressLoading",props:{loadingBg:{type:String,default:"",required:!1},loadingScenes:{type:String,default:"page",required:!1}},options:{virtualHost:!0},emits:[],data:()=>({}),mounted(){},methods:{}},[["render",function(e,t,i,l,p,d){return r(),s("div",{class:"press-loading",style:n({background:i.loadingBg})},[o("img",{class:a("btn"==i.loadingScenes?"press-loading__img--btn":"press-loading__img--page"),src:"https://image-1251917893.file.myqcloud.com/Esports/user/img/".concat(i.loadingScenes,"-loading.gif")},null,10,["src"])],4)}],["__scopeId","data-v-36a81223"]]),E=["normal","large","small","mini"];function L(e){const t=function(e){const t={},{size:s}=e;return s&&("string"===s&&E.indexOf(s)<=-1?(t.height=s,t.width=s):"object"==typeof s&&(s.height&&(t.height=s.height),s.width&&(t.width=s.width))),t}(e);if(!e.color)return i([t,e.customStyle]);const s={color:e.plain?e.color:"#fff",background:e.plain?null:e.color,...t};return-1!==e.color.indexOf("gradient")?s.border=0:s["border-color"]=e.color,i([s,e.customStyle])}const T={"e-sport-primary":["e-sport-primary"],"e-sport-primary-bg":["e-sport-primary","e-sport-bg"],"e-sport-primary-bg-lg":["e-sport-primary","e-sport-bg","e-sport-bg-lg"],"e-sport-primary-bg-xl":["e-sport-primary","e-sport-bg","e-sport-bg-xl"],"e-sport-secondary":["e-sport-secondary"],"e-sport-border":["e-sport-border"]},U=[I];b()&&U.push("wx://form-field-button");const G=t({name:"PressButton",options:{virtualHost:!0,...g,styleIsolation:"shared"},components:{PressIconPlus:d,PressLoadingPlus:p,PressLoading:_},mixins:U,props:{formType:{type:String,default:""},icon:{type:String,default:""},classPrefix:{type:String,default:"press-icon-plus"},plain:Boolean,block:Boolean,round:Boolean,square:Boolean,loading:{type:Boolean,default:!1},hairline:Boolean,disabled:Boolean,loadingText:{type:String,default:""},customStyle:{type:String,default:""},loadingType:{type:String,default:"circular"},type:{type:String,default:"default"},dataset:{type:[Object,null],default:null},size:{type:[String,Object],default:"normal"},loadingSize:{type:String,default:"20px"},color:{type:String,default:""},...l},emits:["click","getuserinfo"],data:()=>({baseStyle:""}),computed:{isESportLoading(){return this.loading&&T[this.type]},buttonClass(){const{type:e,size:t,block:s,round:o,plain:a,square:n,loading:r,disabled:i,hairline:l,customClass:p}=this,d=E.indexOf(t)>-1?t:"";let g=[],c=e;if(T[e]&&(g=T[e],c=""),e.indexOf("-disabled")>-1){const t=e.replace("-disabled","");g=[...T[t],"e-sport-disabled"]}return"".concat(p," ").concat(u.bem2("button",[c,d,...g,{block:s,round:o,plain:a,square:n,loading:r,disabled:i,hairline:l,unclickable:i||r}])," ").concat(l?"press-hairline--surround":"")},buttonStyle(){const{plain:e,color:t,customStyle:s,size:o}=this;return L({plain:e,color:t,customStyle:s,size:o})},loadingColor(){const{type:e,color:t,plain:s}=this;return(o={type:e,color:t,plain:s}).plain?o.color?o.color:"#c9c9c9":"default"===o.type?"#c9c9c9":"#fff";var o},innerHoverClass(){return"press-button--active ".concat(this.hoverClass||"")}},methods:{onFakeClick(e){c()&&this.realFakeClick(e)},realFakeClick(e){const{disabled:t,loading:s}=this;t||s||this.onClick(e)},onFakeTap(e){c()||this.realFakeClick(e)},onClick(e){this.$emit("click",e);const{canIUseGetUserProfile:t,openType:s,getUserProfileDesc:o,lang:a}=this;"getUserInfo"===s&&t&&uni.getUserProfile({desc:o||"  ",lang:a||"en",complete:e=>{this.$emit("getuserinfo",e)}})}}},[["render",function(e,t,i,l,p,d){const g=S("PressLoading"),c=S("PressLoadingPlus"),u=S("PressIconPlus"),b=h;return r(),f(b,{id:e.id,"data-detail":i.dataset,class:a(d.buttonClass),"hover-class":d.innerHoverClass,lang:e.lang,"form-type":i.formType,style:n(d.buttonStyle),"open-type":i.disabled||i.loading||e.canIUseGetUserProfile&&"getUserInfo"===e.openType?"":e.openType,"business-id":e.businessId,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,"aria-label":e.ariaLabel,onClick:[y(d.onFakeClick,["stop"]),y(d.onFakeTap,["stop"])],onGetuserinfo:e.onGetUserInfo,onContact:e.onContact,onGetphonenumber:e.onGetPhoneNumber,onError:e.onError,onLaunchapp:e.onLaunchApp,onOpensetting:e.onOpenSetting,onChooseavatar:e.onChooseAvatar},{default:m((()=>[d.isESportLoading?(r(),f(g,{key:0,"loading-scenes":"btn"})):i.loading?(r(),s(C,{key:1},[k(c,{"custom-class":e.loadingClass,size:i.loadingSize,type:i.loadingType,color:d.loadingColor},null,8,["custom-class","size","type","color"]),i.loadingText?(r(),s("div",{key:0,class:"press-button__loading-text"},P(i.loadingText),1)):v("",!0)],64)):(r(),s(C,{key:2},[i.icon?(r(),f(u,{key:0,size:"1.2em",name:i.icon,"class-prefix":i.classPrefix,class:"press-button__icon","custom-style":"line-height: inherit;"},null,8,["name","class-prefix"])):v("",!0),o("div",{class:"press-button__text"},[x(e.$slots,"default",{},void 0,!0)])],64))])),_:3},8,["id","data-detail","class","hover-class","lang","form-type","style","open-type","business-id","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter","aria-label","onClick","onGetuserinfo","onContact","onGetphonenumber","onError","onLaunchapp","onOpensetting","onChooseavatar"])}],["__scopeId","data-v-e5c51530"]]);export{G as P};
