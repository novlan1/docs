(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-press-schedule-tree-schedule-tree"],{1437:function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.GROUP_TYPE_LIST=t.DEFAULT_TEAM_NUMBER=void 0,Object.defineProperty(t,"GROUP_TYPE_NAME_MAP",{enumerable:!0,get:function(){return r.GROUP_TYPE_NAME_MAP}}),t.TEAM_MAP=t.TEAM_LIST=t.STATUS_TITLE_MAP=t.STATUS_SCHE_MAP=t.STATUS_MAP=t.STATUS_LIST=t.MOCK_DATA_META=void 0,n("8e97"),n("bb80"),n("0fe4"),n("51e0"),n("6f81"),n("339c"),n("7338"),n("a21a"),n("9821");var o=a(n("e62e")),r=n("2163"),c=(t.DEFAULT_TEAM_NUMBER=64,15),u=(t.MOCK_DATA_META={DEFAULT_AVATAR:"https://image-1251917893.file.myqcloud.com/Esports/user/img/default-avatar.png",DEFAULT_NAME:"队伍名称很长很长很长"},t.STATUS_MAP={PREVIEW:"PREVIEW",PREVIEW_CUSTOM_SCHE:"PREVIEW_CUSTOM_SCHE",NOT_START:"NOT_START",PLAYING:"PLAYING",PLAYING_WITH_CHANNELS:"PLAYING_WITH_CHANNELS",ENDED:"ENDED"}),i=t.STATUS_TITLE_MAP=(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)({},u.PREVIEW,"报名中，未定义赛程"),u.PREVIEW_CUSTOM_SCHE,"报名中，已定义赛程"),u.NOT_START,"未开赛"),u.PLAYING,"进行中，无视频号"),u.PLAYING_WITH_CHANNELS,"进行中，有视频号"),u.ENDED,"已结束"),l=(t.STATUS_SCHE_MAP=(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)({},u.PREVIEW,{isPreview:1,realStatus:0}),u.PREVIEW_CUSTOM_SCHE,{isPreview:2,realStatus:0}),u.NOT_START,{realStatus:50}),u.PLAYING,{realStatus:100,curBo:1,boType:3}),u.PLAYING_WITH_CHANNELS,{realStatus:100,isWeChatLiving:!0,curBo:1,boType:3}),u.ENDED,{realStatus:200}),t.STATUS_LIST=Object.keys(i).map((function(e){return{label:i[e],value:e}})),t.TEAM_LIST=Array.from({length:c}).map((function(e,t){return{label:"".concat(Math.pow(2,t+1)," 队"),value:Math.pow(2,t+1)}})));t.TEAM_MAP=l.reduce((function(e,t){return e[t.value]=t.label,e}),{}),t.GROUP_TYPE_LIST=Object.keys(r.GROUP_TYPE_NAME_MAP).map((function(e){return{label:r.GROUP_TYPE_NAME_MAP[e].title,value:r.GROUP_TYPE_NAME_MAP[e].name}}))},1521:function(e,t,n){"use strict";var a=n("c30c"),o=n.n(a);o.a},"183d":function(e,t,n){"use strict";var a=n("d951"),o=n.n(a);o.a},"1a54":function(e,t,n){"use strict";function a(e){for(var t=Math.ceil(Math.log(e)/Math.log(2)),n={0:Math.pow(2,t)/2},a=[n],o=1;o<t;o++){for(var r=a[a.length-1],c=Object.keys(r),u={},i=0,l=c;i<l.length;i++){var s=l[i],d=r[s],_=Math.ceil(d/2),T=Math.floor(d/2);u[s]?u[s]+=T:u[s]=T,u[+s+1]?u[+s+1]+=_:u[+s+1]=_}a.push(u)}return a}n("1e9d"),Object.defineProperty(t,"__esModule",{value:!0}),t.getSwissScheMap=a,n("f23a"),n("7338")},"1ed9":function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("12cd"),n("a2ee"),n("658f");var o=a(n("ef56")),r=a(n("6d7c")),c=a(n("2406")),u=n("f0f2"),i=a(n("9d1c")),l=n("f694"),s=n("1437"),d=n("ccfc"),_=n("19a7"),T=a(n("f3ac"));t.default={i18n:{"zh-CN":{custom:"自定义"},"en-US":{custom:"Custom"}},components:{ScheduleTree:T.default,PressPopupCell:i.default,PressPicker:c.default},data:function(){return{sectionStyle:"",headerStyle:"",FUNCTIONAL_ID_MAP:u.FUNCTIONAL_ID_MAP,myTeamId:"team-id-515-b-a",scheList:[],isPreview:0,maxColumns:3,scheLocal:(0,r.default)({},l.local)}},computed:{isSwissSystem:function(){return this.scheLocal.groupType==s.GROUP_TYPE_NAME_MAP.SWISS_SYSTEM.name},isCycle:function(){return this.scheLocal.groupType===s.GROUP_TYPE_NAME_MAP.CYCLE.name},scheduleName:function(){var e;return(null===(e=s.GROUP_TYPE_NAME_MAP[this.scheLocal.groupType])||void 0===e?void 0:e.scheduleName)||""},scheduleScrollWidth:function(){return this.isSwissSystem?180:164},tabScrollWidth:function(){return this.isSwissSystem?180:164},finished:function(){return 4==this.scheLocal.teamNumber&&this.isCycle},loading:function(){return 2==this.scheLocal.teamNumber&&this.isCycle}},mounted:function(){this.generateData()},methods:{onScroll:function(e,t){this.onGTip("[scroll] ".concat(e," ").concat(t))},scrollToLower:function(e,t){var n="[scrollToLower] ".concat(e," ").concat(t);this.onGTip(n),console.log(n)},onShowBasicPopupCell:function(){(0,l.showCustomPopup)({context:this,callback:{changeTeamNumber:this.changeTeamNumber,changeStatus:this.changeStatus,changeAdmin:this.changeAdmin,changeGroupType:this.changeGroupType,changeErrorTip:this.changeErrorTip}})},changeTeamNumber:function(e){this.scheLocal.teamNumber=e,this.generateData()},changeStatus:function(e){this.scheLocal.status=e,this.generateData(),this.isPreview=s.STATUS_SCHE_MAP[e].isPreview||0},changeAdmin:function(e){this.scheLocal=(0,r.default)((0,r.default)({},this.scheLocal),{},{isAdmin:e}),this.generateData()},changeErrorTip:function(e){var t;this.scheLocal=(0,r.default)((0,r.default)({},this.scheLocal),{},{showError:e}),this.generateData(),null===(t=this.$refs)||void 0===t||null===(t=t.pressScheduleTreeRef)||void 0===t||t.scrollToOneSche("511-a")},changeGroupType:function(e){this.scheLocal=(0,r.default)((0,r.default)({},this.scheLocal),{},{groupType:e}),this.generateData()},generateData:function(){var e=this.scheLocal,t=e.isAdmin,n=e.teamNumber,a=e.status,o=e.groupType,c=e.showError,u=(0,d.genScheList)({info:(0,r.default)((0,r.default)({},s.STATUS_SCHE_MAP[a]),{},{abnormalErr:!!c}),teamNumber:n,groupType:o});console.log("[Origin ScheList]",JSON.stringify(u)),this.scheList=(0,_.formatScheTreeData)({scheList:u,isPreview:s.STATUS_SCHE_MAP[a].isPreview||0,isAdmin:t}),console.log("[Parsed ScheList]",JSON.stringify(this.scheList))},clickRoundTab:function(e){var t;(t=console).log.apply(t,["[clickRoundTab]"].concat((0,o.default)(e))),this.onGTip("click round tab")},clickSche:function(e,t,n){console.log("[clickSche]",e,t,n),this.onGTip("click schedule item")},clickVideoIcon:function(e,t,n){console.log("[clickVideoIcon]",e,t,n),this.onGTip("click video icon")}}}},2163:function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.SWITCH_TYPE=t.START_BATTLE_TITLE_MAP=t.START_BATTLE_CODE_MAP=t.SPECIAL_TEAM_STATE_MAP=t.SPECIAL_TEAM_ID_MAP=t.SPECIAL_STATE_MAP=t.SCH_STATE_MAP=t.SCHEDULE_TYPE_MAP=t.SCHEDULE_STATUS_MAP=t.SCHEDULE_CUSTOM_STATUS_MAP=t.REMATCH_STATE_MAP=t.PREVIEW_STATE_MAP=t.GROUP_TYPE_NAME_MAP=t.GROUP_TYPE_MAP=t.CUSTOM_PREVIEW_STATUS_MAP=t.BATTLE_STATE_MAP=void 0;var o=a(n("e62e")),r=n("91e8"),c=t.START_BATTLE_CODE_MAP={AUTO:1,MANUAL:2,ON_TIME:3},u=(t.START_BATTLE_TITLE_MAP=(0,o.default)((0,o.default)((0,o.default)({},c.AUTO,(0,r.t)("scheduleTree.startBattleAuto")),c.MANUAL,(0,r.t)("scheduleTree.startBattleManual")),c.ON_TIME,(0,r.t)("scheduleTree.startBattleOnTime")),t.SCHEDULE_CUSTOM_STATUS_MAP={EMPTY:300,PENDING:400}),i=t.SCHEDULE_STATUS_MAP={NOT_START:0,STARTED:50,PLAYING:100,ENDED:200};t.SPECIAL_TEAM_ID_MAP={PREVIEW:"PREVIEW",PREVIEW_EMPTY:"PREVIEW_EMPTY"},t.PREVIEW_STATE_MAP={PREVIEW:1,PREVIEW_CUSTOM:2},t.SPECIAL_STATE_MAP={LUN_KONG:"LUN_KONG",DAI_DING:"DAI_DING",QUIT_RIGHT:"QUIT_RIGHT"},t.GROUP_TYPE_NAME_MAP={KNOCK_OUT:{name:"KNOCK_OUT",title:"淘汰赛",scheduleName:"knockout"},CYCLE:{name:"CYCLE",title:"循环赛",scheduleName:"cycle"},DOUBLE_FAIL_LOSER:{name:"DOUBLE_FAIL_LOSER",title:"双败赛败者组",scheduleName:"doubleFailLoser"},SWISS_SYSTEM:{name:"SWISS_SYSTEM",title:"瑞士轮",scheduleName:"swiss"}},t.SCHEDULE_TYPE_MAP={DOUBLE_FAIL:2,CYCLE:3,KNOCK_OUT:4,MATCH_MODE:8,QUICK_MATCH:6,SWISS_SYSTEM:9,ARENA_MATCH:10},t.GROUP_TYPE_MAP={DOUBLE_FAIL:2,CYCLE:3,KNOCK_OUT:4,CUP:5,QUICK_MATCH:6,MULTI_STAGE:8},t.BATTLE_STATE_MAP={NOT_START:0,STARTED_CAN_READY:100,WAIT_CREATE_ROOM:200,CREATING_ROOM:300,CREATED_ROOM:400,IN_BATTLE:500,ENDED_READING_DATA:600,ENDED:700},t.REMATCH_STATE_MAP={REMATCH:100},t.CUSTOM_PREVIEW_STATUS_MAP={PREVIEW:1,PREVIEW_CUSTOM:2},t.SCH_STATE_MAP=(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)({},i.NOT_START,"未开始"),i.STARTED,"未开始"),i.PLAYING,"进行中"),i.ENDED,"已结束"),u.EMPTY,"轮空"),u.PENDING,"待定"),t.SPECIAL_TEAM_STATE_MAP={DAI_DING:{state:u.PENDING,specState:"DAI_DING",name:"待定",avatar:"https://image-1251917893.file.myqcloud.com/Esports/new/user/dd.png"},LUN_KONG:{state:u.EMPTY,specState:"LUN_KONG",name:"轮空",avatar:"https://image-1251917893.file.myqcloud.com/Esports/new/user/team-logo.png"},QUIT_RIGHT:{specState:"QUIT_RIGHT",name:"弃权",avatar:"https://image-1251917893.file.myqcloud.com/Esports/new/user/team-logo.png"}},t.SWITCH_TYPE={ON:"1",OFF:"2"}},"2e48":function(e,t,n){var a=n("a8d8");t=a(!1),t.push([e.i,"uni-page-body[data-v-5995cacb]{background:#f5f6fa}body.?%PAGE?%[data-v-5995cacb]{background:#f5f6fa}",""]),e.exports=t},"44e8":function(e,t,n){"use strict";n("1e9d"),Object.defineProperty(t,"__esModule",{value:!0}),t.getReadyInfoDesc=s,t.getStartBattleTypeDesc=d,t.isSchEnd=c,t.isSchPlaying=u,t.isScheNotStart=i,n("cde5");var a=n("ccee"),o=n("91e8"),r=n("2163");function c(e){var t=e.nodeItem||{},n=t.rawState;return n===r.SCHEDULE_STATUS_MAP.ENDED||[r.SCHEDULE_STATUS_MAP.ENDED,r.SCHEDULE_CUSTOM_STATUS_MAP.EMPTY].includes(e.realStatus)}function u(e,t){return[r.SCHEDULE_STATUS_MAP.PLAYING].includes(e)&&!t}function i(e){return l(e)}function l(e){return[void 0,r.SCHEDULE_STATUS_MAP.NOT_START,r.SCHEDULE_STATUS_MAP.STARTED,r.SCHEDULE_CUSTOM_STATUS_MAP.PENDING].includes(e)}function s(e){var t,n=e.roundInfo,a=void 0===n?{}:n,c=e.scheGroup,u=void 0===c?{}:c,i=a.latest_ready_time,l=a.start_battle_type,s=u.realStatus,_=d(a),T=(null===u||void 0===u||null===(t=u.nodeItem)||void 0===t||null===(t=t.sch_score)||void 0===t?void 0:t.cur_bo)||0;return T>1?(0,o.t)("scheduleTree.joining"):l==r.START_BATTLE_CODE_MAP.AUTO?_:s==r.SCHEDULE_STATUS_MAP.STARTED?i?(0,o.t)("scheduleTree.joiningAndTimeoutAutoQuit"):(0,o.t)("scheduleTree.joining"):_}function d(e){var t=e||{},n=t.show_stime,c=t.start_battle_type;return c===r.START_BATTLE_CODE_MAP.ON_TIME?(0,a.timeStampFormat)(n,(0,o.t)("scheduleTree.startMatchOnTime")):r.START_BATTLE_TITLE_MAP[c]}},"5df3":function(e,t,n){"use strict";function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"setData";if(!e)return Promise.reject("Not Found Dialog");var a=e.$vm&&e.$vm[n]||e[n];return"function"===typeof a?a(t):Promise.reject("Not Found setData function")}function o(e){for(var t=e.$vm||e,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];"function"===typeof t.$set?t.$set.apply(t,[t].concat(a)):t[a[0]]=a[1]}function r(e){var t;if(e)return t=e,t}n("1e9d"),Object.defineProperty(t,"__esModule",{value:!0}),t.getVMInVue3=r,t.setData=a,t.vmSet=o,n("12cd"),n("a21a")},"5f41":function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo-wrap demo-wrap--flex demo-wrap--e-sport"},[n("DemoBlock",{attrs:{title:e.t("basicUsage"),"section-style":e.sectionStyle,"header-style":e.headerStyle}},[n("PressCell",{attrs:{title:e.t("custom"),"is-link":!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onShowBasicPopupCell.apply(void 0,arguments)}}})],1),e.scheList.length?n("ScheduleTree",{ref:"pressScheduleTreeRef",attrs:{"sche-list":e.scheList,"is-admin":e.scheLocal.isAdmin,"is-preview":e.isPreview,"show-champion":!e.isCycle&&!e.isSwissSystem,shadow:e.isCycle,"auto-back-to-top":!e.isCycle,"my-team-id":e.myTeamId,"max-columns":e.maxColumns,loading:e.loading,finished:e.finished,"finished-text":"-- 已经拉到底了 --","ladder-map":!e.isCycle&&!e.isSwissSystem,"schedule-name":e.scheduleName,"schedule-scroll-width":e.scheduleScrollWidth,"tab-scroll-width":e.tabScrollWidth},on:{clickRoundTab:function(t){arguments[0]=t=e.$handleEvent(t),e.clickRoundTab.apply(void 0,arguments)},clickSche:function(t){arguments[0]=t=e.$handleEvent(t),e.clickSche.apply(void 0,arguments)},clickVideoIcon:function(t){arguments[0]=t=e.$handleEvent(t),e.clickVideoIcon.apply(void 0,arguments)},scroll:function(t){arguments[0]=t=e.$handleEvent(t),e.onScroll.apply(void 0,arguments)},scrollToLower:function(t){arguments[0]=t=e.$handleEvent(t),e.scrollToLower.apply(void 0,arguments)}}}):e._e(),n("PressPopupCell",{ref:e.FUNCTIONAL_ID_MAP.POPUP_CELL,attrs:{id:e.FUNCTIONAL_ID_MAP.POPUP_CELL,mode:"functional"}}),n("PressPicker",{ref:e.FUNCTIONAL_ID_MAP.PICKER,attrs:{id:e.FUNCTIONAL_ID_MAP.PICKER,mode:"functional"}})],1)},r=[]},6337:function(e,t,n){"use strict";n.r(t);var a=n("5f41"),o=n("dade");for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n("1521"),n("183d");var c,u=n("921e"),i=Object(u["a"])(o["default"],a["b"],a["c"],!1,null,"5995cacb",null,!1,a["a"],c);t["default"]=i.exports},"91e8":function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.use=t.t=t.i18n=t.getLang=t.default=t.add=void 0,n("1fc7");var o=n("45b0"),r=n("2319"),c=a(n("b1f5")),u=c.default,i=!1,l=function(){var e,t=null===(e=Object.getPrototypeOf(this||r.Vue))||void 0===e?void 0:e.$t;if("function"===typeof t&&r.Vue.locale){var n;if(!i)i=!0,r.Vue.locale(r.Vue.config.lang,(0,o.deepAssign)((null===r.Vue||void 0===r.Vue||null===(n=r.Vue.locale)||void 0===n?void 0:n.call(r.Vue,r.Vue.config.lang))||{},u));return t.apply(this,arguments)}},s=t.t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=l.apply(this);if(null!==t&&void 0!==t)return t;for(var n=e.split("."),a=u,o=arguments.length,r=new Array(o>1?o-1:0),c=1;c<o;c++)r[c-1]=arguments[c];for(var i=0,s=n.length;i<s;i++){var d=n[i];if(t=a[d],i===s-1)return t?"function"===typeof t?t.apply(void 0,r):t:u[d]||"";if(!t)return u[n[n.length-1]]||"";a=t}return""},d=t.use=function(e){u=e||u},_=t.i18n=function(e){l=e||l},T=t.add=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.deepAssign)(u,e)},f=t.getLang=function(){return u};t.default={use:d,t:s,i18n:_,add:T,getLang:f}},ab90:function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.MOCK_DATA=void 0;var o=a(n("6d7c")),r=n("1437"),c=r.MOCK_DATA_META.DEFAULT_NAME,u=r.MOCK_DATA_META.DEFAULT_AVATAR,i={score:0,teamid:"PREVIEW",teamname:c,fromBracketDesc:"xxx",teamavatar:u},l={gid:331,sch_type:4,sch_rule:{round_stage:101,round_type:"main",round_id:2,group_id:1,tree_node_uni_id:"10014655_101_main_2_1_0"},sch_score:{teama_id:"PREVIEW",teamb_id:"PREVIEW"},sch_dantao:{},childid:10014655,status:"未开始"},s={site_id:10014653,child_id:10014655,gid:331,round_stage:101,round_type:"main",round_id:1,round_name:"2进1",bo_type:1,grp_num:1,grp_source_num:4,grp_promote_num:2,source_num:4,promote_num:2,start_battle_type:1,ready_time_utime:1686100386},d={bracketIdDesc:"U1",battleid:"",gameName:"杨的比赛",roundName:"2进1",boType:1,curBo:1,roomType:1,battleStatus:"未开始",redSide:"",status:"未开始",isWeChatLiving:!1,liveInfo:{}},_=[[{battleList:[(0,o.default)((0,o.default)({},d),{},{realStatus:100,teamList:[i,i],nodeItem:(0,o.default)((0,o.default)({},l),{},{sch_dantao:{both_team_set:3}})}),(0,o.default)((0,o.default)({},d),{},{teamList:[i,i],nodeItem:(0,o.default)((0,o.default)({},l),{},{sch_dantao:{both_team_set:3}})})],roundInfo:(0,o.default)((0,o.default)({},s),{},{round_name:"4进2"}),isChamp:!1}],[{battleList:[(0,o.default)((0,o.default)({},d),{},{realStatus:100,teamList:[i,i],nodeItem:(0,o.default)({},l)})],roundInfo:(0,o.default)((0,o.default)({},s),{},{round_name:"2进1"}),isChamp:!0}]];t.MOCK_DATA={scheList:_}},b1f5:function(e,t,n){"use strict";n("1e9d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("12cd");t.default={name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",complete:"完成",loading:"加载中...",telEmpty:"请填写电话",nameEmpty:"请填写姓名",nameInvalid:"请输入正确的姓名",confirmDelete:"确定要删除吗",telInvalid:"请输入正确的手机号",reply:"回复",calendar:{end:"结束",start:"开始",title:"日期选择",confirm:"确定",startEnd:"开始/结束",weekdays:["日","一","二","三","四","五","六"],monthTitle:function(e,t){return"".concat(e,"年").concat(t,"月")},rangePrompt:function(e){return"选择天数不能超过 ".concat(e," 天")}},picker:{confirm:"确定"},dialog:{title:"温馨提示"},scheduleTree:{pending:"待定",emptyTeam:"轮空",quitScore:"弃",champion:"冠军",thirdPlace:"季军",checkFinal:"决赛区  查看>",groupedChampion:function(e){return e?"分组冠军":"分组季军"},ended:"已结束",playing:"比赛中",currentBo:function(e,t){return"当前".concat(e||"","/").concat(t||"","局")},joining:"上场中",joiningAndTimeoutAutoQuit:"上场中 超时自动弃权",startMatchOnTime:"M/d hh:mm开赛",endTimeFormat:"M/d hh:mm",startBattleAuto:"人满开赛",startBattleManual:"待管理员开赛",startBattleOnTime:"定时开赛"},scheduleList:{finals:"总决赛",finalsChampion:"冠军",me:"我",joinDeadline:"M/d hh:mm 截止上场",manage:"管理",spectate:"观战",toPlay:"去比赛",reCap:"回顾",subscribe:"订阅",subscribed:"已订阅"},actTipDialog:{prompt:"提示描述"}}},b487:function(e,t,n){var a=n("a8d8");t=a(!1),t.push([e.i,"demo-block[data-v-5995cacb]{height:auto}schedule-tree[data-v-5995cacb]{flex:1;overflow:auto}",""]),e.exports=t},c30c:function(e,t,n){var a=n("b487");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("5a15").default;o("b5780e5e",a,!0,{sourceMap:!1,shadowMode:!1})},caeb:function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.selectComponent=d,t.showFunctionalComponent=_,n("3db9"),n("a21a"),n("4efe"),n("3c3d"),n("987c");var o=a(n("6d7c")),r=a(n("b463")),c=n("5df3"),u=n("67d4"),i="showDialog";function l(){var e=getCurrentPages();return e[e.length-1]}function s(e,t,n){var a=e.$children;if(a){var o,c=(0,r.default)(a);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(u.$attrs[t]===n)return u}}catch(T){c.e(T)}finally{c.f()}var i,l=(0,r.default)(a);try{for(l.s();!(i=l.n()).done;){var d=i.value,_=s(d,t,n);if(_)return _}}catch(T){l.e(T)}finally{l.f()}}}function d(e,t){if(t&&e){if("function"===typeof t)return t(e);var n=t;if(n.match(/^[^\w]/)&&(n=n.slice(1)),e.$refs&&e.$refs[n])return e.$refs[n];if((0,u.isNotInUni)()){var a=t.startsWith("#")?"id":"class",o=s(e,a,n);if(o)return o}if(e&&"function"===typeof e.$selectComponent){var r=e.$selectComponent(t);return r}return e&&e.selectComponent&&e.selectComponent(t)}}function _(e){return new Promise((function(t,n){var a=e.context||l(),r=e.dialog;r||(r=d(a,e.selector));var u=(0,o.default)({callback:function(e,a){"confirm"===e?t(a):n(a)}},e);delete u.dialog,delete u.context;var s=e.showFunction||i;(0,c.setData)(r,u,s)}))}},ccfc:function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.genScheList=f,n("12cd"),n("8e97"),n("cde5"),n("bb80"),n("f23a"),n("e328"),n("83b3"),n("51e0"),n("6f81"),n("7338"),n("a21a"),n("9821");var o=a(n("6d7c")),r=n("ab90"),c=n("1437"),u=n("1a54"),i=[{start_battle_type:1,bo_type:1},{start_battle_type:2,bo_type:3},{start_battle_type:3,show_stime:1686100386,bo_type:5},{start_battle_type:1,ready_time_utime:1686100386,bo_type:7},{start_battle_type:2,ready_time_utime:1686100386,bo_type:1},{start_battle_type:3,show_stime:1686100386,ready_time_utime:1686100386,bo_type:1}];function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{score:0,teamid:"team-id-".concat(e),teamname:c.MOCK_DATA_META.DEFAULT_NAME,fromBracketDesc:"U16胜者",teamavatar:c.MOCK_DATA_META.DEFAULT_AVATAR}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(0,o.default)((0,o.default)({},(null===e||void 0===e?void 0:e.nodeItem)||{}),{},{utime:1686100386});return e.abnormalErr&&(n=(0,o.default)((0,o.default)({},n),{},{sch_score:(0,o.default)((0,o.default)({},n.sch_score||{}),{},{err_flag:9999})})),e.swissScore&&(n=(0,o.default)((0,o.default)({},n),{},{extra_info:{swiss_score:e.swissScore}})),(0,o.default)((0,o.default)({nodeItem:n},e),{},{schid:t,curBo:1,teamList:[l("".concat(t,"-a")),l("".concat(t,"-b"))]})}function d(e){for(var t=e.info,n=e.roundIndex,a=void 0===n?0:n,r=e.teamIndex,c=void 0===r?0:r,u=e.scheGroupNumber,l=void 0===u?2:u,d=e.groupType,f=e.teamNumber,A=[],E=T(f,d),m=0;m<l;m++)A.push(s(t,"".concat(c,"-").concat(m)));return{battleList:A,roundInfo:(0,o.default)((0,o.default)({},i[a%i.length]),{},{round_name:_({minusRoundNumber:a+1,roundNumber:E-a,groupType:d})})}}function _(e){var t=e.roundNumber,n=e.groupType,a=e.minusRoundNumber;return n===c.GROUP_TYPE_NAME_MAP.KNOCK_OUT.name?a-1===0?"决赛":"".concat(Math.pow(2,a),"进").concat(Math.pow(2,a-1)):[c.GROUP_TYPE_NAME_MAP.CYCLE.name,c.GROUP_TYPE_NAME_MAP.SWISS_SYSTEM.name].includes(n)?"第".concat(t,"轮"):n===c.GROUP_TYPE_NAME_MAP.DOUBLE_FAIL_LOSER.name?"败者组第".concat(t,"轮"):""}function T(e,t){var n=Math.ceil(Math.log(e)/Math.log(2));return t!==c.GROUP_TYPE_NAME_MAP.DOUBLE_FAIL_LOSER.name?n:2*n}function f(e){var t=e.info,n=e.teamNumber,a=e.groupType,u=T(n,a),i=r.MOCK_DATA.scheList;if(a===c.GROUP_TYPE_NAME_MAP.CYCLE.name){var l=10,s=Array.from({length:u}).map((function(e,o){return Array.from({length:l}).map((function(e,r){return d({info:t,scheGroupNumber:1,roundIndex:o,teamIndex:o*l+r,groupType:a,teamNumber:n})}))})).reverse();return s}if(a===c.GROUP_TYPE_NAME_MAP.DOUBLE_FAIL_LOSER.name){var _=Array.from({length:u}).map((function(e,r){return r?1===r?[(0,o.default)((0,o.default)({},i[1][0]),{},{roundInfo:(0,o.default)((0,o.default)({},i[1][0].roundInfo||{}),{},{round_name:"败者组第".concat(u-1,"轮")})})]:Array.from({length:Math.pow(2,Math.floor((r-2)/2))}).map((function(e,o){return d({info:t,scheGroupNumber:2,roundIndex:r,teamIndex:1e3*r+o,groupType:a,teamNumber:n})})):[(0,o.default)((0,o.default)({},i[1][0]),{},{roundInfo:(0,o.default)((0,o.default)({},i[1][0].roundInfo||{}),{},{round_name:"败者组第".concat(u,"轮")})})]})).reverse();return _}if(a===c.GROUP_TYPE_NAME_MAP.SWISS_SYSTEM.name)return A({teamNumber:n,roundNumber:u,info:t,groupType:a});var f=Array.from({length:u}).map((function(e,o){return o?1===o?i[0]:Array.from({length:Math.pow(2,o-1)}).map((function(e,r){return d({info:t,scheGroupNumber:2,roundIndex:o,teamIndex:100*o+r,groupType:a,teamNumber:n})})):i[1]})).reverse();return f}function A(e){for(var t=e.teamNumber,n=e.roundNumber,a=e.info,r=e.groupType,c=(0,u.getSwissScheMap)(t),i=[],l=0;l<n;l++){var s=c[l],_=Object.keys(s),T=[];_.sort((function(e,t){return+t-e}));for(var f=0,A=_;f<A.length;f++){var E=A[f],m=s[E],p=d({info:(0,o.default)((0,o.default)({},a),{},{swissScore:{score:E,fail:l-E}}),scheGroupNumber:m,roundIndex:n-1-l,teamIndex:l*m+0,groupType:r,teamNumber:t});T.push(p)}i.push(T)}return i}},cd8c:function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.FUNCTIONAL_ID_MAP=void 0,t.showDateTimePicker=d,t.showPicker=s,t.showPopupCell=i,t.showPopupCell2=l,t.showPopupCellAndClose=u;var o=a(n("6d7c")),r=n("caeb"),c=t.FUNCTIONAL_ID_MAP={POPUP_CELL:"press-popup-cell-functional",POPUP_CELL_2:"press-popup-cell-functional-2",PICKER:"press-picker-functional",DATE_TIME_PICKER:"press-datetime-picker-popup-functional"};function u(e){(0,r.showFunctionalComponent)((0,o.default)({selector:"#".concat(c.POPUP_CELL)},e)).then((function(e){var t=e||{},n=t.context,a=void 0===n?{}:n;a.closeDialog()})).catch((function(e){var t=e||{},n=t.context,a=void 0===n?{}:n;a.closeDialog()}))}function i(e){return(0,r.showFunctionalComponent)((0,o.default)({selector:"#".concat(c.POPUP_CELL)},e))}function l(e){return(0,r.showFunctionalComponent)((0,o.default)({selector:"#".concat(c.POPUP_CELL_2)},e))}function s(e){return(0,r.showFunctionalComponent)((0,o.default)({selector:"#".concat(c.PICKER)},e))}function d(e){return(0,r.showFunctionalComponent)((0,o.default)({selector:"#".concat(c.DATE_TIME_PICKER)},e))}},d951:function(e,t,n){var a=n("2e48");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("5a15").default;o("6a75ea30",a,!0,{sourceMap:!1,shadowMode:!1})},dade:function(e,t,n){"use strict";n.r(t);var a=n("1ed9"),o=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},f0f2:function(e,t,n){"use strict";n("1e9d"),Object.defineProperty(t,"__esModule",{value:!0}),t.DATE_TIME_PICKER_MAX_MIN_DATE=t.BO_STR_LIST=t.BATCH_SET_MAP=void 0,Object.defineProperty(t,"FUNCTIONAL_ID_MAP",{enumerable:!0,get:function(){return o.FUNCTIONAL_ID_MAP}}),t.SELECT_BAN_LIST=t.QUARTER_BUFFER=t.PICKER_BO_LIST=t.PICKER_BAN_LIST=t.ONE_YEAR_MIL_SECONDS=void 0,t.getAutoQuitDesc=s,t.getDefaultLatestReadyTime=i,t.getIntervalTimePickerList=d,t.getStartWayDesc=l,t.latestReadyTimeFormat=_,t.onTimeStartTimeFormat=T,Object.defineProperty(t,"showDateTimePicker",{enumerable:!0,get:function(){return o.showDateTimePicker}}),Object.defineProperty(t,"showPicker",{enumerable:!0,get:function(){return o.showPicker}}),Object.defineProperty(t,"showPopupCell",{enumerable:!0,get:function(){return o.showPopupCell}}),Object.defineProperty(t,"showPopupCell2",{enumerable:!0,get:function(){return o.showPopupCell2}}),Object.defineProperty(t,"showPopupCellAndClose",{enumerable:!0,get:function(){return o.showPopupCellAndClose}}),n("22d5"),n("8e97"),n("bb80"),n("51e0"),n("f29a"),n("6f81"),n("a21a"),n("8dae"),n("9821");var a=n("ccee"),o=n("cd8c"),r=t.ONE_YEAR_MIL_SECONDS=31536e6,c=t.QUARTER_BUFFER=9e5;t.BATCH_SET_MAP={ON_TIME_START:"ON_TIME_START",LAST_READY_TIME:"LAST_READY_TIME"},t.DATE_TIME_PICKER_MAX_MIN_DATE={ON_TIME_START:{MIN:Date.now(),MAX:Date.now()+r},LATEST_READY:{MIN:Date.now()-r,MAX:Date.now()+r}};function u(e){return parseInt("".concat(e/1e3/60),10)}function i(){var e=Date.now()+c;while(u(e)%5!==0)e+=6e4;return parseInt("".concat(e/1e3),10)}function l(e,t){var n="";return n=1==e?"人满开赛":2==e?"手动开赛":(0,a.timeStampFormat)(t,"M/d hh:mm开赛"),n}function s(e){var t="";return t=e?(0,a.timeStampFormat)(e,"M/d hh:mm"):"不启用",t}function d(){return Array.from({length:13}).map((function(e,t){return t<2?null:5*t})).filter((function(e){return e})).map((function(e){return{value:e,label:"".concat(e,"分钟")}}))}t.PICKER_BO_LIST=[{label:"一局胜负",value:1},{label:"三局两胜",value:3},{label:"五局三胜",value:5},{label:"七局四胜",value:7}],t.BO_STR_LIST=["","一局胜负","","三局两胜","","五局三胜","","七局四胜"],t.PICKER_BAN_LIST=["各禁4英雄","不禁用英雄","","各禁2英雄","各禁3英雄"],t.SELECT_BAN_LIST=[{label:"不禁用英雄",value:1},{label:"各禁2英雄",value:3},{label:"各禁3英雄",value:4},{label:"各禁4英雄",value:0}];function _(e){return e?(0,a.timeStampFormat)(e,"M/d hh:mm 截止上场"):"不启用"}function T(e){return(0,a.timeStampFormat)(e,"M/d hh:mm")}},f694:function(e,t,n){"use strict";n("1e9d"),Object.defineProperty(t,"__esModule",{value:!0}),t.adminPopupCell=c,t.currentStatusPopupCell=u,t.local=void 0,t.showCustomPopup=i;var a=n("f0f2"),o=n("1437"),r=t.local={teamNumber:o.DEFAULT_TEAM_NUMBER,status:o.STATUS_MAP.NOT_START,isAdmin:!1,groupType:o.GROUP_TYPE_LIST[0].value,showError:!1};function c(e){var t=e.local,n=e.context,a=e.callback;return{label:"是否为管理员",type:"switch",open:t.isAdmin,click:function(e){var o=e.context;o.closeDialog(),t.isAdmin=!t.isAdmin,n.onGTip("设置成功"),"function"===typeof a.changeAdmin&&a.changeAdmin.call(n,t.isAdmin)}}}function u(e){var t=e.local,n=e.context,r=e.callback;return{label:"当前状态",value:o.STATUS_TITLE_MAP[t.status],click:function(e){var c=e.context;c.closeDialog(),(0,a.showPicker)({context:n,title:"当前状态",closeIcon:!0,list:o.STATUS_LIST,current:{value:t.status}}).then((function(e){var a=e.item;t.status=a.value,n.onGTip("设置成功"),"function"===typeof r.changeStatus&&r.changeStatus.call(n,a.value)})).catch((function(){}))}}}function i(e){var t=e.context,n=e.callback;(0,a.showPopupCellAndClose)({context:t,title:"自定义设置",closeIcon:!0,cellList:[{label:"队伍个数",value:o.TEAM_MAP[r.teamNumber],click:function(e){var c=e.context;c.closeDialog(),(0,a.showPicker)({context:t,title:"队伍个数",closeIcon:!0,list:o.TEAM_LIST,current:{value:r.teamNumber}}).then((function(e){var a=e.item;r.teamNumber=a.value,t.onGTip("设置成功"),"function"===typeof n.changeTeamNumber&&n.changeTeamNumber.call(t,a.value)})).catch((function(){}))}},u({local:r,context:t,callback:n}),{label:"赛制",value:o.GROUP_TYPE_NAME_MAP[r.groupType].title,click:function(e){var c=e.context;c.closeDialog(),(0,a.showPicker)({context:t,title:"当前状态",closeIcon:!0,list:o.GROUP_TYPE_LIST,current:{value:r.groupType}}).then((function(e){var a=e.item;r.groupType=a.value,t.onGTip("设置成功"),"function"===typeof n.changeGroupType&&n.changeGroupType.call(t,a.value)})).catch((function(e){console.log("err",e)}))}},c({local:r,context:t,callback:n}),{label:"是否显示顶号异常",description:"需设置管理员",type:"switch",open:r.showError,click:function(e){var a=e.context;a.closeDialog(),r.showError=!r.showError,t.onGTip("设置成功"),"function"===typeof n.changeErrorTip&&n.changeErrorTip.call(t,r.showError)}}]})}}}]);