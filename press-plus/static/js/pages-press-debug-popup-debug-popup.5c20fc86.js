(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-press-debug-popup-debug-popup"],{"065e":function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("fe4c"));t.default={components:{PressDebugPopup:o.default},data:function(){return{entranceCustomStyle:"color: #fff;"}},methods:{}}},"1c1f":function(e,t,n){var a=n("ba79");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("5a15").default;o("02ba9d61",a,!0,{sourceMap:!1,shadowMode:!1})},"25cc":function(e,t,n){var a=n("4b24");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("5a15").default;o("1180482d",a,!0,{sourceMap:!1,shadowMode:!1})},"4b24":function(e,t,n){var a=n("a8d8");t=a(!1),t.push([e.i,".press-debug[data-v-3692fcad]{font-size:16px;padding-top:20px;padding-bottom:env(safe-area-inset-bottom)}.press-debug__tab-container[data-v-3692fcad]{display:flex;justify-content:center;align-items:center;padding:16px 0}.press-debug__tab[data-v-3692fcad]{margin-right:13px;padding:2px 8px}.press-debug__tab--active[data-v-3692fcad]{color:#0ca168;border-bottom:2px solid #0ca168}.press-debug__container[data-v-3692fcad]{box-sizing:border-box;padding-top:16px;display:flex;flex-direction:column;align-items:center;height:100%;width:100%}.press-debug__button[data-v-3692fcad]{width:200px;height:44px;margin:10px;display:flex;justify-content:center;align-items:center;position:relative;background-color:rgba(0,5,10,.04)}.press-debug__button-image[data-v-3692fcad]{position:absolute;width:30px;height:30px;right:0;bottom:0}.press-debug__text-center[data-v-3692fcad]{width:100%;color:#666;text-align:center}.press-debug__hover-text[data-v-3692fcad]{background:#eee}.press-debug__form-item[data-v-3692fcad]{box-sizing:border-box;width:100%;padding:8px 16px;text-align:left;color:#333}.press-debug__label[data-v-3692fcad]{margin-right:8px;max-width:100px;display:inline-block;color:#666}.press-debug__user-value[data-v-3692fcad]{word-break:break-all;flex:1}.press-debug__gm-grid[data-v-3692fcad]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));grid-template-rows:50px;grid-auto-rows:50px;justify-content:center;grid-gap:20px;padding:5px 20px}.press-debug__gm-button[data-v-3692fcad]{border:1px solid #e5e4e9;background:#faebd7;display:flex;align-items:center;justify-content:center}.press-debug__gm-line[data-v-3692fcad]{display:block;text-align:center}.press-debug__gm-input[data-v-3692fcad]{margin:6px auto 6px;height:44px;width:80%;border:1px solid #efefef}",""]),e.exports=t},"51b3":function(e,t,n){"use strict";n.r(t);var a=n("cc18"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},"7c15":function(e,t,n){"use strict";n.r(t);var a=n("cfa0"),o=n("8060");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("8e13");var r,s=n("921e"),u=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"3692fcad",null,!1,a["a"],r);t["default"]=u.exports},8060:function(e,t,n){"use strict";n.r(t);var a=n("9cba"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},"8e13":function(e,t,n){"use strict";var a=n("25cc"),o=n.n(a);o.a},"9add":function(e,t,n){"use strict";n.r(t);var a=n("bd83"),o=n("cb03");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var r,s=n("921e"),u=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"7d2cb38a",null,!1,a["a"],r);t["default"]=u.exports},"9cba":function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("e62e")),i=a(n("6d7c"));n("7338"),n("ef06");t.default={name:"PressDebug",props:{customStyle:{type:String,default:""},envs:{type:Array,default:function(){return["test","release"]}},otherButtons:{type:Array,default:function(){return[{name:"JoinGame",url:"/views/test-page/join-game/index"}]}},relaunchPage:{type:String,default:""},setEnv:{type:Function,default:function(){return function(e){"undefined"!==typeof window&&(window.isTestNet="test"===e)}}},getEnv:{type:Function,default:function(){return function(){return"undefined"===typeof window?"":window.isTestNet?"test":"release"}}}},data:function(){return{curTab:"env",currentEnv:"",tabs:[{title:"环境选择",name:"env"},{title:"用户相关",name:"user"},{title:"清除缓存",name:"cache"}],userInfo:{},userInfoList:[],form:{path:"",appId:"",outerPath:"",version:"",extraDataStr:"",shortLink:""}}},computed:{innerRelaunchPage:function(){var e;if(this.relaunchPage)return this.relaunchPage;var t=getCurrentPages(),n=t[t.length-1];return(null===(e=n.$page)||void 0===e?void 0:e.fullPath)||"/".concat(n.route)}},onShow:function(){this.init()},mounted:function(){this.init()},activated:function(){this.init()},methods:{init:function(){var e;this.currentEnv=(null===(e=this.getEnv)||void 0===e?void 0:e.call(this))||"","function"===typeof this.currentEnv&&(this.currentEnv=this.currentEnv()),this.getUserInfo()},getUserInfo:function(){if("undefined"!==typeof localStorage){var e=localStorage.getItem("tip_uid"),t=localStorage.getItem("NEED_MP_MSDK_PARAM");this.userInfoList=[{name:"uid",value:e},{name:"msdk 参数",value:t}]}},onEnvClick:function(e){var t,n="已切换成".concat(e);this.currentEnv=e,console.log("[onEnvClick]",e);var a=null===(t=this.setEnv)||void 0===t?void 0:t.call(this,e);"function"===typeof a&&a(e),this.currentEnv=e,wx.showToast({title:n,icon:"none"}),wx.reLaunch({url:this.innerRelaunchPage})},handleType:function(e){this.curTab=e},copy:function(e){e&&e.trim()&&wx.setClipboardData({data:e,success:function(){wx.showToast({title:"复制成功",icon:"none"})}})},copyText:function(e){this.copy(e)},clickGridButton:function(e){console.log("[clickGridButton]",e),wx.navigateTo({url:e.url})},clearStorage:function(){wx.clearStorage(),wx.showToast({title:"清除缓存成功",icon:"none"})},relaunchMp:function(){wx.reLaunch({url:this.innerRelaunchPage,success:function(e){console.log("[relaunchMp] success",e)},fail:function(e){console.log("[relaunchMp] fail",e)}})},goToPage:function(e){console.log("[goToPage]",e.detail,e),wx.navigateTo({url:e.detail.value})},changeInput:function(e){var t=e.currentTarget.dataset.type;this.form=(0,i.default)((0,i.default)({},this.form),{},(0,o.default)({},t,e.detail.value||e.detail.value))},goToOuterPage:function(){var e=this.form,t=e.appId,n=e.version,a=e.outerPath,o=e.extraDataStr,i=e.shortLink;if(t||i){var r={};try{r=JSON.parse(o)}catch(s){}console.info("[extraData]",r),console.info("[outerPath]",a),uni.navigateToMiniProgram({appId:t,path:a,version:n||"release",extraData:r,shortLink:i})}else console.warn("缺少 appId 或 shortLink")}}}},b7a7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hookTestNet=o,n("1e9d");var a=!1;function o(){var e="__NET_ENV_DEBUG";if(!a&&(a=!0,"undefined"!==typeof window)){var t=window.isTestNet;Object.defineProperty(window,"isTestNet",{get:function(){var t=wx.getStorageSync(e),n="test"===t;return n},set:function(t){wx.setStorageSync(e,t?"test":"release")}}),"boolean"===typeof t&&(window.isTestNet=t)}}},ba79:function(e,t,n){var a=n("a8d8");t=a(!1),t.push([e.i,".press-debug__overlay[data-v-3bb8b03c]{background-color:transparent;height:100%;left:0;position:fixed;top:0;width:100%;z-index:100}.press-debug__popup[data-v-3bb8b03c]{position:fixed;box-sizing:border-box;max-height:100%;overflow-y:auto;-webkit-animation:ease both;animation:ease both;-webkit-overflow-scrolling:touch;background-color:var(--popup-background-color,#fff);bottom:0;left:0;width:100%;z-index:100;height:0;transition:all .3s}.press-debug__main--show .press-debug__popup[data-v-3bb8b03c]{height:50%}.press-debug__main--show .press-debug__overlay[data-v-3bb8b03c]{background-color:rgba(0,0,0,.6)}",""]),e.exports=t},bd83:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo-wrap"},[n("PressDebugPopup",{attrs:{"force-show":!0,"entrance-custom-style":e.entranceCustomStyle}})],1)},i=[]},c59a:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var o=function(){var e,t=this,n=t.$createElement,a=t._self._c||n;return t.showThis?a("div",[a("PressDebugEntrance",{attrs:{"force-show":t.forceShow,text:t.text,width:46,height:46,"custom-style":t.entranceCustomStyle},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickEntrance.apply(void 0,arguments)}}}),a("div",{class:(e={},e["press-debug__main--show"]=t.showDebug,e["press-debug__main"]=!0,e)},[t.afterShowDebug?a("div",{staticClass:"press-debug__overlay",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.hideDebug.apply(void 0,arguments)}}}):t._e(),a("div",{staticClass:"press-debug__popup"},[a("PressDebug",{attrs:{"custom-style":"padding: 0","other-buttons":t.otherButtons}})],1)])],1):t._e()},i=[]},cb03:function(e,t,n){"use strict";n.r(t);var a=n("065e"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},cc18:function(e,t,n){"use strict";n("1e9d");var a=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("b7a7"),i=n("29f3"),r=a(n("da4d")),s=a(n("7c15"));t.default={name:"PressDebugPopup",components:{PressDebugEntrance:r.default,PressDebug:s.default},props:{text:{type:String,default:"Y"},forceShow:{type:Boolean,default:!1},otherButtons:{type:Array,default:function(){return[]}},hookTestNet:{type:Boolean,default:!0},entranceCustomStyle:{type:String,default:""}},data:function(){return{showDebug:!1,afterShowDebug:!1}},computed:{showThis:function(){return!!this.forceShow||!(0,i.isProd)()}},created:function(){this.showThis&&this.hookTestNet&&(0,o.hookTestNet)()},methods:{clickEntrance:function(){this.showDebug=!0,this.afterShowDebug=!0},hideDebug:function(){var e=this;this.showDebug=!1,setTimeout((function(){e.afterShowDebug=!1}),300)}}}},cfa0:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"press-debug",style:e.customStyle},[n("div",{staticClass:"press-debug__tab-container"},e._l(e.tabs,(function(t){return n("div",{key:t.name,class:["press-debug__tab",e.curTab===t.name?"press-debug__tab--active":""],on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.handleType(t.name)}}},[e._v(e._s(t.title))])})),0),n("div",{staticClass:"press-debug__tab-content"},["env"===e.curTab?n("div",{staticClass:"press-debug__container"},[n("div",[e._v("后端环境")]),e._l(e.envs,(function(t){return n("div",{key:t,staticClass:"press-debug__button",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.onEnvClick(t)}}},[e._v(e._s(t)),e.currentEnv===t?n("v-uni-image",{staticClass:"press-debug__button-image",attrs:{src:"https://image-1251917893.cos.ap-guangzhou.myqcloud.com/assets/img/env_selected_202401010101.png"}}):e._e()],1)}))],2):e._e(),"user"===e.curTab?n("div",{staticClass:"press-debug__container press-debug__container--user"},[n("div",{staticClass:"press-debug__text-center"},[e._v("（点击值可复制）")]),e._l(e.userInfoList,(function(t){return n("div",{key:t.name,staticClass:"press-debug__form-item",attrs:{"hover-class":"press-debug__hover-text"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.copyText(t.value||"")}}},[n("p",{staticClass:"press-debug__label"},[e._v(e._s(t.name)+":")]),n("span",{staticClass:"press-debug__user-value"},[e._v(e._s(t.value||""))])])}))],2):e._e(),"cache"===e.curTab?n("div",{staticClass:"press-debug__gm-grid"},[e._l(e.otherButtons,(function(t){return n("div",{key:t.name,staticClass:"press-debug__gm-button",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.clickGridButton(t)}}},[e._v(e._s(t.name))])})),n("div",{staticClass:"press-debug__gm-button",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clearStorage.apply(void 0,arguments)}}},[e._v("清空缓存")]),n("div",{staticClass:"press-debug__gm-button",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.relaunchMp.apply(void 0,arguments)}}},[e._v("重启小程序")])],2):e._e(),"cache"===e.curTab?n("div",{staticClass:"press-debug__gm-line"},[n("v-uni-input",{staticClass:"press-debug__gm-input",attrs:{"data-type":"path",placeholder:"请填入跳转的页面路径"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.goToPage.apply(void 0,arguments)}}}),n("v-uni-input",{staticClass:"press-debug__gm-input",attrs:{"data-type":"appId",placeholder:"请输入跳转的外部小程序 appId"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.changeInput.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.goToOuterPage.apply(void 0,arguments)}}}),n("v-uni-input",{staticClass:"press-debug__gm-input",attrs:{"data-type":"outerPath",placeholder:"请输入跳转的外部小程序路径"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.changeInput.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.goToOuterPage.apply(void 0,arguments)}}}),n("v-uni-input",{staticClass:"press-debug__gm-input",attrs:{"data-type":"version",placeholder:"请输入跳转的外部小程序版本，默认 release"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.changeInput.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.goToOuterPage.apply(void 0,arguments)}}}),n("v-uni-input",{staticClass:"press-debug__gm-input",attrs:{"data-type":"extraDataStr",placeholder:"请输入跳转的外部小程序 extraData"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.changeInput.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.goToOuterPage.apply(void 0,arguments)}}}),n("v-uni-input",{staticClass:"press-debug__gm-input",attrs:{"data-type":"shortLink",placeholder:"请输入跳转的外部小程序 shortLink"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.changeInput.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.goToOuterPage.apply(void 0,arguments)}}})],1):e._e()])])},i=[]},dcd5:function(e,t,n){"use strict";var a=n("1c1f"),o=n.n(a);o.a},fe4c:function(e,t,n){"use strict";n.r(t);var a=n("c59a"),o=n("51b3");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("dcd5");var r,s=n("921e"),u=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"3bb8b03c",null,!1,a["a"],r);t["default"]=u.exports}}]);